/*! Built by pcw player group @2020-3-26 10:13:53 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.QiyiPlayerLoader=t():e.QiyiPlayerLoader=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i=window.Promise;i||(i=function(){function e(){}function t(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null===i)return void(1===e._state?n:r)(t.promise,e._value);var a;try{a=i(e._value)}catch(e){return void r(t.promise,e)}n(t.promise,a)})}function n(e,a){try{if(a===e)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var n=a.then;if(a instanceof i)return e._state=3,e._value=a,void o(e);if("function"==typeof n)return void d(t(n,a),e)}e._state=1,e._value=a,o(e)}catch(t){r(e,t)}}function r(e,t){e._state=2,e._value=t,o(e)}function o(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function s(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function d(e,t){var i=!1;try{e(function(e){i||(i=!0,n(t,e))},function(e){i||(i=!0,r(t,e))})}catch(e){if(i)return;i=!0,r(t,e)}}var u=setTimeout;return i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(t,i){var n=new this.constructor(e);return a(this,new s(t,i,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,i){function a(r,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(e){a(r,e)},i)}t[r]=o,0==--n&&e(t)}catch(e){i(e)}}if(0===t.length)return e([]);for(var n=t.length,r=0;r<t.length;r++)a(r,t[r])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,i){i(e)})},i.race=function(e){return new i(function(t,i){for(var a=0,n=e.length;a<n;a++)e[a].then(t,i)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){u(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},i}());var a=window.webpackJsonpQiyiPlayerLoader;window.webpackJsonpQiyiPlayerLoader=function(t,i,n){for(var o,s,d=0,u=[];d<t.length;d++)s=t[d],r[s]&&u.push(r[s][0]),r[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);for(a&&a(t,i,n);u.length;)u.shift()()};var n={},r={3:0};return t.e=function(e){function a(){d.onerror=d.onload=null,clearTimeout(u);var t=r[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}var n=r[e];if(0===n)return new i(function(e){e()});if(n)return n[2];var o=new i(function(t,i){n=r[e]=[t,i]});n[2]=o;var s=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript",d.charset="utf-8",d.async=!0,d.timeout=12e4,t.nc&&d.setAttribute("nonce",t.nc),d.src=t.p+""+({0:"skin.default",1:"skin.mobile",2:"skin.playlist"}[e]||e)+".fa37f0d469f0d0c6a488.js";var u=setTimeout(a,12e4);return d.onerror=d.onload=a,s.appendChild(d),o},t.m=e,t.c=n,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="//static.iqiyi.com/js/player_v1/",t.oe=function(e){throw console.error(e),e},t(t.s=75)}([function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(3),r=[],o=[],s=function(){},d=function(){this.__super__?this.__super__=this.__super__.prototype.superclass:this.__super__=this.superclass,this.__super__.apply(this,arguments),delete this.__super__},u=function(e,t){var i=t.construct||function(){},a=t.extend||s,u=function(){};u.prototype=a.prototype;var l=function(){d.apply(this,arguments),i.apply(this,arguments),r.push(this)},c=new u;return n(c,t.props||{}),n(c,t.methods||{}),n(l,t.statics||{}),c.constructor=l,c.superclass=a,o.push(c),l.prototype=c,l};u.destroyAll=function(){var e,t;for(e=0;e<r.length;e++)try{for(t in r[e])delete r[e][t]}catch(e){}for(e=0;e<o.length;e++)try{for(t in o[e])delete o[e][t]}catch(e){}r.splice(0,r.length)},a.exports=u}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){function n(e,t){var i=l.split("\n").slice(0,6),a=i.join("\n")+"\n~~~~~truncated log~~~~~\n";l=a+l.slice(e>a.length?e:a.length,t)}function r(){if(u){u=!1;var e=l.length;e>S&&n(e-S,e),d.write(c,l)}setTimeout(r,w)}var o=i(0),s=i(3),d=i(14),u=!1,l="",c="QiyiPlayerLogger",f={OFF:{value:0,name:"OFF"},ERROR:{value:1,name:"ERROR"},WARN:{value:2,name:"WARN"},INFO:{value:3,name:"INFO"},DEBUG:{value:4,name:"DEBUG"}},_=parseInt(d.read("QiyiPlayerLoggerLevel"),10),h=Array.prototype.slice,p="",b=0,g="",v=function(e,t){var i="",a=e<0,n=String(Math.abs(e));return n.length<t&&(i=new Array(t-n.length+1).join("0")),(a?"-":"")+i+n},m=function(){var e=new Date;return e.getFullYear()+"-"+v(e.getMonth()+1,2)+"-"+v(e.getDate(),2)+" "+v(e.getHours(),2)+":"+v(e.getMinutes(),2)+":"+v(e.getSeconds(),2)},y=function(e){var t=e.join("");g!==t?(g=t,b=0):(b++,b>1&&(l=l.replace(p,""),l=l.substring(0,l.length-2)),e.push(">>repeat("+b+")<<"))},x=function(e,t){var i,a="#FFA500";e=h.call(e),y(e),e.unshift("%c"),e.unshift("["+t.name+"]"),e.unshift("%c["+m()+" IQIYI_PLAYER_"+t.level.name+"]"),p=e.join("").replace(/(%c|IQIYI_PLAYER_)/gi,"");var n=l||"";if(l=(""!==n?n+"\n":"")+p,u=!0,"undefined"!=typeof console)try{i=console.log,t.level===f.WARN&&console.warn?(i=console.warn,a="#ff6cb7"):t.level===f.ERROR&&console.error?(i=console.error,a="#F30"):t.level===f.INFO&&console.info?i=console.info:t.level===f.DEBUG&&console.info&&(a="#FFA500"),t.print&&i.apply(console,[e.join(" ")+" ","background-color:#699f00;color:#fff;","background-color:"+a+";color:#fff;"])}catch(e){}},k=o("Logger",{construct:function(e){this.context={name:e||"Unknown"}},statics:{levels:f,_filterLevel:function(){var e;for(var t in f)f[t].value===_&&(e=f[t]);return e||f.WARN}(),stringify:function(e){var t="";try{t=JSON.stringify(e)}catch(e){}return t},setLevel:function(e){e&&"value"in e&&(k._filterLevel=e,d.write("QiyiPlayerLoggerLevel",e.value))},getLevel:function(){return k._filterLevel},getLog:function(){return l}},methods:{enabledFor:function(e){return e.value<=k._filterLevel.value},invoke:function(e,t){x(t,s({level:e,print:this.enabledFor(e)},this.context))},debug:function(){this.invoke(f.DEBUG,arguments)},log:function(){this.invoke(f.INFO,arguments)},info:function(){this.invoke(f.INFO,arguments)},warn:function(){this.invoke(f.WARN,arguments)},error:function(){this.invoke(f.ERROR,arguments)}}}),w=3e4,S=524288;setTimeout(r,w),a.exports=k}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=[];a.exports=n("dispatcher",{construct:function(){this.__evtslist={},r.push(this)},statics:{clearAll:function(){for(var e=0;e<r.length;e++)r[e].__evtslist={};r.splice(0,r.length)}},methods:{once:function(e,t){var i=this;return i.on(e,function a(){t.apply(this,arguments),i.un(e,a)})},on:function(e,t){var i=this.__evtslist;return void 0===i[e]&&(i[e]=[]),i[e].push(t),this},fire:function(e){var t=this,i=t.__evtslist;if(i[e.type]instanceof Array)for(var a=0,n=i[e.type];a<n.length;a++)try{n[a].call(t,e)}catch(e){try{console.error(e.stack||e)}catch(e){}}},un:function(e,t){var i=this.__evtslist;return i[e]instanceof Array&&(i[e]=t?i[e].filter(function(e){return e!==t}):[]),this}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports=function e(t,i,a,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return i&&function(e,t){var i;for(i in e)if(r(e,i)&&t(e[i],i))break}(i,function(i,o){!a&&r(t,o)||(n&&"string"!=typeof i&&"boolean"!=typeof i?(t[o]||(t[o]={}),e(t[o],i,a,n)):t[o]=i)}),t}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a="",n={},r={},o=navigator,s=o.platform,d=o.userAgent.toLowerCase(),u=d.match(/rtrident/),l=!u&&d.match(/(ipad).*os\s([\d_]+)/),c=!u&&!l&&d.match(/(iphone\sos)\s([\d_]+)/),f=d.match(/Android\s+([\d.]+)/i),_="";if(r.userAgent=d,r.IE11=/rv\:11/.test(d),r.IE=/msie/.test(d)||r.IE11,r.IE6=/msie 6/.test(d),r.IE7=/msie 7/.test(d),r.IE8=/msie 8/.test(d),r.IE9=/msie 9/.test(d),r.IE10=/msie 10/.test(d),r.EDGE=/edge/.test(d),r.iPhone=/iphone os/.test(d)&&!u,r.iPhone4=/iphone os [45]_/.test(d)&&!u,r.iPad=/ipad/.test(d)&&!u,r.iPod=/iPod/i.test(d)&&!u,r.isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,r.CHROME=/chrome/.test(d),r.SAFARI=/safari/.test(d)&&!/chrome/.test(d),r.FIREFOX=/firefox/.test(d),r.mobile=/mobile/gi.test(d),r.mobileSafari=r.iPhone||r.iPhone||r.iPad,r.QQ=/QQBrowser/gi.test(d),r.WECHAT=/(wechat)|(micromessenger)/gi.test(d),r.CHROME){var h=/chrome\/([\d\.]+) /gi.exec(d);r.version=h?parseInt(h[1],10):0}if(r.EDGE){var p=/edge\/([\d\.]+)/gi.exec(d);r.version=p?parseInt(p[1],10):0}var b=/mac/i.test(s),g="X11"==s&&!b,v=/win/i.test(s)&&!g,m=/android/.test(d);n.unix=g,n.win=v,n.mac=b,n.android=m,n.androidMobile=m&&r.mobile,n.androidTablet=m&&(!r.mobile||/pad/i.test(d)),f&&(n.version=f[1]),n.ios=!1,c&&(n.ios=!0,n.version=c[2].replace(/_/g,".")),l&&(n.ios=!0,n.version=l[2].replace(/_/g,".")),r.iPod&&(n.ios=!0),a=r.iPad?"b85da1cf3ae44351":"b6c13e26323c537d";var y=function(e){var t="01";(r.iPhone||n.android)&&(t="02"),(r.iPad||n.androidTablet)&&(t="03");var i="01";n.android&&(i="02"),n.mac&&(i="08"),n.ios&&(i=e?"03":"02");return t+i+"00310100"+(e?"10":"00")+"000000"},x=function(e){return _||y(e)},k=function(e){_=e},w=function(e){var t=1;switch(x(e).substr(0,4)){case"0108":t=276;break;case"0303":t=10;break;case"0302":t=11;break;case"0203":t=13;break;case"0202":t=12}return t},S=function(){var e="";return r.CHROME?e="CHROME":r.SAFARI?e="SAFARI":r.FIREFOX?e="FIREFOX":r.QQ?e="QQ":r.WECHAT?e="WECHAT":r.IE?e="IE":r.IE6?e="IE6":r.IE7?e="IE7":r.IE8?e="IE8":r.IE9?e="IE9":r.IE10?e="IE10":r.EDGE?e="EDGE":r.mobileSafari?e="mobileSafari":n.ios?e="ios":n.ios?e="ios":n.androidMobile?e="androidMobile":n.androidTablet&&(e="androidTablet"),e};i.exports={browser:r,os:n,code:a,getPtid:x,setPtid:k,getAgentType:w,browserName:S}}.call(t,i,t,e))&&(e.exports=a)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Dispatcher=__webpack_require__(2),Class=__webpack_require__(0),cookies=__webpack_require__(6),http=__webpack_require__(11),md5=__webpack_require__(12),Logger=__webpack_require__(1),logger=new Logger("user"),platform=__webpack_require__(4),i18n=__webpack_require__(7),uuid=__webpack_require__(8),urlkit=__webpack_require__(9),authkey=__webpack_require__(18),NoticedLoginInfo,REQUEST_KEY="w0JD89dhtS7BdPLU2",RESPONSE_KEY="-0J1d9d^ESd)9jSsja",isNewUser=!cookies.get("QC006"),_isVIPSync=!1,_isBANSync=!1,_banType="",_heartBeatTimer=0,_heartBeatTime=0,_userLevel=0,_isActivation=!1,_tvid="",_agentType=1,_qdv=7;_agentType=platform.browser.iPad?23:platform.os.androidTablet?24:1;var preIsVip=!1,requestVipTypesRetryTimes=0;i18n.isTWLocale()&&(_agentType=platform.getAgentType(!0));var getUserInfo=function(){var userInfo={},p00002=cookies.get("P00002");return null!==p00002&&""!==p00002&&(p00002=window.JSON?window.JSON.parse(p00002):eval("("+p00002+")"),userInfo.uid=p00002.uid,userInfo.name=p00002.nickname,userInfo.email=p00002.email),userInfo},getUid=function(){return getUserInfo().uid||""},isLogin=function(){return NoticedLoginInfo?NoticedLoginInfo.login:""!==getUid()},passportCookie=function(){return NoticedLoginInfo&&NoticedLoginInfo.P00001?NoticedLoginInfo.P00001:cookies.get("P00001")||""},checkVipStack=[],flushCallback=function(e){_isVIPSync=e;for(var t=0;t<checkVipStack.length;t++)checkVipStack[t](e);checkVipStack=[]},onHeartBeatTimer=function(){var e=function(e){e&&e.sort();for(var t="",i=0;i<e.length;i++)t+=e[i]+"|";return t+="jfaljluixn39012$#",t=md5(t)},t={authcookie:cookies.get("P00001"),agenttype:_agentType,device_id:uuid.getFluid(),ptid:getPTID(),tv_id:_tvid,tn:Math.random().toString().replace(".","")};http.jsonp({url:"https://cmonitor.iqiyi.com/apis/cmonitor/keepalive.action",params:t,beforeSend:function(t){var i=[];for(var a in t.params)i.push(a+"="+t.params[a]);return t.url+="&sign="+e(i),t},success:function(e){},failure:function(e){}})},openHeartBeat=function(){_isActivation=!0,1===_userLevel&&0===_heartBeatTimer&&(onHeartBeatTimer(),_heartBeatTimer=setInterval(onHeartBeatTimer,_heartBeatTime))},stopHeartBeat=function(){_isActivation=!1,0!==_heartBeatTimer&&(clearInterval(_heartBeatTimer),_heartBeatTimer=0)},getPTID=function(){return platform.getPtid(i18n.isTWLocale())},closeHeartBeat=function(){var e=+new Date,t=getPTID(),i=function(e){e&&e.sort();for(var t="",i=0;i<e.length;i++)i===e.length-1?t+=e[i]:t+=e[i]+"&";return t},a={authcookie:cookies.get("P00001"),agenttype:_agentType,device_id:uuid.getFluid()||uuid.getJsuid(),tv_id:_tvid,ptid:t,version:"4.1.1",qd_v:_qdv,ts:e};http.jsonp({url:"https://cmonitor.iqiyi.com/apis/cmonitor/off.action",params:a,beforeSend:function(e){var t=[];for(var a in e.params)t.push(a+"="+e.params[a]);try{var n=i(t);e.url+="&qd_sc="+authkey.cmd5x(n)}catch(e){}return logger.log(e.url),e},success:function(e){},failure:function(e){}})},checkVip=function(e){var t=this,i=getPTID();i18n.isTWLocale()&&(_agentType=platform.getAgentType(!0)),_isBANSync=!1,_banType="";var a=cookies.get("P00001");checkVipStack.push(e),a?http.jsonp({url:"https://cmonitor.iqiyi.com/apis/user/check_vip.action",params:{agenttype:_agentType,sign:md5(a.substring(4,36)+"|"+_agentType+"|"+REQUEST_KEY),authcookie:a,ptid:i,version:3},timeout:2e3,memory:!0,beforeSend:function(){t.fire({type:"httpStart"})},complete:function(){t.fire({type:"httpComplete"})},success:function(e){var t=!1;if(_userLevel=0,e)if("A00000"==e.code){var i=md5(a.substring(5,39).split("").reverse().join("")+"<"+_agentType+"<"+RESPONSE_KEY);try{t=e.data.sign===i}catch(e){}if(e.data&&e.data.keepalive&&t){_userLevel=1;var n=1e3*parseInt(e.data.keepalive,10);if(n>0){n<1e4&&(n=1e4),(0===_heartBeatTimer||0!==_heartBeatTimer&&n!==_heartBeatTime)&&(_heartBeatTime=n,_isActivation&&(clearInterval(_heartBeatTimer),onHeartBeatTimer(),_heartBeatTimer=0,_heartBeatTimer=setInterval(onHeartBeatTimer,_heartBeatTime)))}}}else switch(e.code){case"A10001":case"A10002":case"A10004":_isBANSync=!0,_banType=e.code}flushCallback(t)},failure:function(e,t){_userLevel=0,408===t&&logger.warn("passport: timeout, check user vip fail!"),flushCallback(!0)}}):flushCallback(!1)},isVIPSync=function(){return _isVIPSync},isBanned=function(){return _isBANSync},setInfo=function(e){preIsVip=""!==__QP0013&&"0"!==__QP0013,NoticedLoginInfo=e,!0===NoticedLoginInfo.login?NoticedLoginInfo.login=!0:"true"===NoticedLoginInfo.login?NoticedLoginInfo.login=!0:NoticedLoginInfo.login=!1,_isVIPSync=!0===NoticedLoginInfo.login,_isBANSync=!1,_banType="",clearVipTypes(),this.fire({type:"infoset"})},getBanType=function(){return _banType},addEvent=function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i)},beforeunloadListener=function(){var e=this,t=function(){e.isVip(function(e){e&&closeHeartBeat()})};addEvent(window,"beforeunload",t)},_getVipTypesStack=[],_getVipTypesCallback=function(e){for(var t=0;t<_getVipTypesStack.length;t++)_getVipTypesStack[t](e);_getVipTypesStack=[]},isChangeVipState=function(e){isVip(function(t){logger.log("isChangeVipState! preIsVip:"+preIsVip+",curIsVip: "+t),e(preIsVip!=t)})},isVip=function(e){getVipTypes(function(t){var i=t.join(",");e("0"!==i&&""!==i)})},isRequestVipTypes=!1,__QP0013=null,getVipTypes=function(e){if(isLogin()||clearVipTypes(),_getVipTypesStack.push(e),!__QP0013){__QP0013=cookies.get("QP0013");var t=__QP0013.match(/[0-9]/g)||[];__QP0013&&t.length!=__QP0013.replace(/,/g,"").length&&(__QP0013="")}if(__QP0013){var i=__QP0013.split(",");_getVipTypesCallback(i)}else isRequestVipTypes||(isRequestVipTypes=!0,requestVipTypes())},updateVipTypes=function(){isRequestVipTypes||(isRequestVipTypes=!0,requestVipTypes())},requestVipTypes=function(){if(!isLogin())return void _getVipTypesCallback([0]);cookies.get("P00001")&&http.ajax({url:"//vinfo.vip.iqiyi.com/external/vip_users",params:{uid:getUid(),P00001:cookies.get("P00001"),platform:getPTID(),version:"3.0",appVersion:"1.0",bizSource:"vip_web_player",messageId:uuid.createUUID(),vipTypes:i18n.isTWLocale()?"5,6,7,8,10,13,14,16,18":"1,3,4,5,7,8,10,13,14,16,18"},timeout:2e3,memory:!0,success:function(e){try{e=JSON.parse(e||{})}catch(e){logger.error("vip_users: parse Error"),requestVipTypesFailed()}if("A00000"===e.code){var t=e.data||{},i=[];for(var a in t){var n=t[a];n&&"1"==n.status&&i.push(n.vipType),n=null}i.length||i.push(0),__QP0013=i.join(","),cookies.set("QP0013",__QP0013,{expires:1296e6,path:"/",domain:"iqiyi.com"}),logger.log("requset vipTypes success! viptypes is "+__QP0013),_getVipTypesCallback(i)}else requestVipTypesFailed()},failure:function(e,t){requestVipTypesFailed()}})},requestVipTypesFailed=function(){requestVipTypesRetryTimes>0?(__QP0013="1",logger.log("requset vipTypes failed! viptypes is "+__QP0013),_getVipTypesCallback([1])):(requestVipTypes(),requestVipTypesRetryTimes++)},clearVipTypes=function(){isRequestVipTypes=!1,requestVipTypesRetryTimes=0,cookies.set("QP0013","",{expires:1296e6,path:"/",domain:"iqiyi.com"}),__QP0013=null},UserInfo=new Class("User",{extend:Dispatcher,methods:{isLogin:isLogin,getUid:getUid,isVipSync:isVIPSync,isBanned:isBanned,getBanType:getBanType,passportCookie:passportCookie,isNewUser:function(){return isNewUser},setInfo:setInfo,tvid:function(e){_tvid=e},openHeartBeat:openHeartBeat,stopHeartBeat:stopHeartBeat,closeHeartBeat:closeHeartBeat,beforeunloadListener:beforeunloadListener,checkVip:checkVip,isVip:isVip,getVipTypes:getVipTypes,updateVipTypes:updateVipTypes,clearVipTypes:clearVipTypes,__isChangeVipState:isChangeVipState}});module.exports=new UserInfo}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(3),r={},o={get:function(e,t){var i="";if(t=n({memory:!1},t,!0),t.memory&&r.hasOwnProperty(e))i=r[e];else{if(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)){var a=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),o=a.exec(document.cookie);o&&(i=o[2]||"")}"string"==typeof i&&(i=decodeURIComponent(i)),t.memory&&(r[e]=i)}return i},set:function(e,t,i){i=i||{},t=encodeURIComponent(t);var a=i.expires;"number"==typeof i.expires&&(a=i.expires<=0?new Date(0):new Date,a.setTime(a.getTime()+i.expires)),delete r[e],document.cookie=e+"="+t+(i.path?"; path="+i.path:"")+(a?"; expires="+a.toUTCString():"")+(i.domain?"; domain="+i.domain:"")},remove:function(e,t){t=t||{},t.expires=-1,this.set(e,"",t)}};a.exports=o}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports={locale:"cn_s",isTraditionalChinese:function(){var e=!1,t=this.locale;return"tw_t"!==t&&"cn_t"!==t||(e=!0),e},isTWLocale:function(){var e=!1,t=this.locale;return"tw_t"!==t&&"tw_s"!==t||(e=!0),e},local:function(){return this.locale},setLocale:function(e){this.locale=e}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(6),r=i(12),o=0,s=!1,d="",u=window.webEventID||"",l=function(){u=window.webEventID||""},c=function(){return r(window.navigator.userAgent+document.cookie+Math.random()+(new Date).getTime()*o++)},f=function(e,t){n.set(e,t,{expires:31536e6,path:"/",domain:"iqiyi.com"})},_=function(){var e=n.get("QC006");return e||(s=!0,e=c(),f("QC006",e)),e},h=function(){var e,t=/^\d{10}\.\d{10}\.\d{10}\.\d+$/,i=function(){return parseInt(new Date/1e3,10).toString()};if(e=n.get("QC008"),n.get("QC010")&&e)return e;if(t.test(e))e=e.split("."),e[1]=e[2],e[2]=i(),e[3]=parseInt(e[3],10)+1;else{var a=i();e=[a,a,a,"1"]}return e.join("."),e},p=function(){var e=n.get("QC005");return e||(s=!0,e=c(),f("QC005",e)),e},b={createUUID:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1).toUpperCase()}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getJsuid:_,getFluid:p,getQtsid:h,getWeid:function(){return u||(u=window.webEventID||r(_()+"weid"+ +new Date)),u},getEid:function(){var e="";return d||(e=_(),d=r(e+"veid"+1*new Date)),d},getIsNewUser:function(){return s},init:function(){try{window.addEventListener("unload",l),window.addEventListener("beforeunload",l),window.addEventListener("pagehide",l)}catch(e){}}};a.exports=b}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a=function(e){var t="",i="",a="",n="",r=/(\w+):\/\/([^\/:]+):?(\d*)((?:\/|$)[^?#]*)/,o=e.match(r);return o&&(t=o[1],i=o[2],a=o[3],n=o[4]),{protocol:t,host:i,port:a,path:n}},n=function(e){for(var t,i,a,n=e.substr(e.lastIndexOf("?")+1),r=n.split("&"),o=r.length,s={},d=0;d<o;d++)r[d]&&(a=r[d].split("="),t=a.shift(),i=a.join("="),void 0===s[t]&&(s[t]=i));return s},r=function(e,t){1===arguments.length&&(t=e,e=window.location.href);var i=String(t).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1"),a=new RegExp("(^|&|\\?|#)"+i+"=([^&#]*)(&|$|#)",""),n=e.match(a);return n?n[2]:""},o=function(e){var t=a(e);return(t?t.path||"":"").replace(/^.*[\\\/]/,"").split(".")[0]};i.exports={parse:a,query:r,query2Json:n,filename:o}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a=function(e){return"boolean"==typeof e},n=function(e){return"number"==typeof e},r=function(e){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()},o=function(e){return Array.isArray?Array.isArray(e):"[object array]"===Object.prototype.toString.call(e).toLowerCase()},s=function(e){if(isNaN(e))return"00:00:00";e=Math.round(e);var t=e>=3600?Math.floor(e/3600):0,i=e%3600>=60?Math.floor(e%3600/60):0;return i=i>=10?i:"0"+i,e=parseInt(i,10)>=0?e%3600%60:e,e=e>=10?e:"0"+e,t>0?(t>9?t:"0"+t)+":"+i+":"+e:i+":"+e},d=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})},u=function(e){var t="";return e=e||"",t=e.replace("http://","//"),t=t.replace("https://","//"),t=t.replace(".qiyipic",".iqiyipic")};i.exports={isBool:a,isNumber:n,isArray:o,isObject:r,formatMilliseconds:s,protocolRevise:u,isEmpty:d}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(3),r=i(12),o=document,s=function(){},d={},u={"*":"*/".concat("*"),text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},l={"*":null,text:null,html:null,xml:null,json:function(e){var t={},i=window.JSON?JSON.parse:function(){return{}};try{t=i(e)}catch(e){}return t}},c={method:"get",dataType:"*",timeout:1e4,charset:"utf-8",cache:!0,withCredentials:!0,jsonpCallback:"callback",complete:s,success:s,failure:s},f=function(e){var t=[];if("object"==typeof e)for(var i in e)t[t.length]=encodeURIComponent(i)+"="+encodeURIComponent(e[i]);return t.join("&").replace(/%20/g,"+")},_=function(e){e=e||{},n(e,c);var t=e.url,i=e.params||{},a=e.success,r=e.failure;if(t){!function(){function n(){var t;4==d.readyState&&(t=l[e.dataType]?l[e.dataType](d.responseText):d.responseText,200==d.status?a(t):r(d.statusText,t))}var o={},s=f(i);o.params=i,o.url=t+(s.length>0?(/\?/i.test(t)?"&":"?")+s:""),"function"==typeof e.beforeSend&&(o=e.beforeSend(o));var d=new XMLHttpRequest;d.withCredentials=e.withCredentials,d.onreadystatechange=n,d.open(e.method,o.url),d.timeout=e.timeout,d.setRequestHeader("Accept",u[e.dataType]),d.send()}()}},h=function(e){e=e||{},n(e,c),e.dataType="json",_(e)},p=function(e){e=e||{},n(e,c);var t=e.url,i=e.params||{},a=f(i),s=t+(a.length>0?(/\?/i.test(t)?"&":"?")+a:""),u=e.complete,l=e.success,_=e.failure,h="Q"+r(e.fixedCallback||s),p=!!e.memory,b=r(s),g=d[b];if(s){if(p&&g&&l)return void l(g);var v=function(e,t,i){switch(m(),e){case"success":p&&(d[b]=i),l(i);break;case"fail":_(i,t)}u(i)},m=function(){if(window[h]){window[h]=void 0;try{delete window[h]}catch(e){}}};window[h]=function(e){m(),setTimeout(function(){v("success","200",e)},0)};var y,x={},k=o.createElement("script");k.async=!0,k.type="text/javascript",k.charset=e.charset;var w=function(){if(k)try{k.onload(null,!0)}catch(e){}};k.abort=w,k.onload=k.onreadystatechange=function(e,t){(t||!k.readyState||/loaded|complete/.test(k.readyState))&&(k.onload=k.onreadystatechange=null,k.parentNode&&k.parentNode.removeChild(k),k=null,clearTimeout(y))},k.onerror=function(e){v("fail",null),w()},y=setTimeout(function(){v("fail",408),w()},e.timeout);var S={};return S[e.jsonpCallback]=h,n(i,S,!0),x.url=s+(/\?/i.test(s)?"&":"?")+f(S),x.params=i,"function"==typeof e.beforeSend&&(x=e.beforeSend(x)||x),k.src=x.url,o.getElementsByTagName("head")[0].appendChild(k),k}},b=function(e,t,i){if("string"==typeof t){var a=void 0===i||i;if(e){var n=[];a&&(e._=+new Date);for(var r in e)n.push(r+"="+encodeURIComponent(e[r]));var o=t+"?"+n.join("&"),s=new Image;s.onload=s.onerror=s.onabort=function(){s.onload=s.onerror=s.onabort=null,s=null},s.src=o}}};a.exports={serializeParam:f,ajax:_,json:h,jsonp:p,beacon:b}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){function a(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,a=-271733879,n=-1732584194,l=271733878,c=0;c<e.length;c+=16){var f=i,_=a,h=n,p=l;i=r(i,a,n,l,e[c+0],7,-680876936),l=r(l,i,a,n,e[c+1],12,-389564586),n=r(n,l,i,a,e[c+2],17,606105819),a=r(a,n,l,i,e[c+3],22,-1044525330),i=r(i,a,n,l,e[c+4],7,-176418897),l=r(l,i,a,n,e[c+5],12,1200080426),n=r(n,l,i,a,e[c+6],17,-1473231341),a=r(a,n,l,i,e[c+7],22,-45705983),i=r(i,a,n,l,e[c+8],7,1770035416),l=r(l,i,a,n,e[c+9],12,-1958414417),n=r(n,l,i,a,e[c+10],17,-42063),a=r(a,n,l,i,e[c+11],22,-1990404162),i=r(i,a,n,l,e[c+12],7,1804603682),l=r(l,i,a,n,e[c+13],12,-40341101),n=r(n,l,i,a,e[c+14],17,-1502002290),a=r(a,n,l,i,e[c+15],22,1236535329),i=o(i,a,n,l,e[c+1],5,-165796510),l=o(l,i,a,n,e[c+6],9,-1069501632),n=o(n,l,i,a,e[c+11],14,643717713),a=o(a,n,l,i,e[c+0],20,-373897302),i=o(i,a,n,l,e[c+5],5,-701558691),l=o(l,i,a,n,e[c+10],9,38016083),n=o(n,l,i,a,e[c+15],14,-660478335),a=o(a,n,l,i,e[c+4],20,-405537848),i=o(i,a,n,l,e[c+9],5,568446438),l=o(l,i,a,n,e[c+14],9,-1019803690),n=o(n,l,i,a,e[c+3],14,-187363961),a=o(a,n,l,i,e[c+8],20,1163531501),i=o(i,a,n,l,e[c+13],5,-1444681467),l=o(l,i,a,n,e[c+2],9,-51403784),n=o(n,l,i,a,e[c+7],14,1735328473),a=o(a,n,l,i,e[c+12],20,-1926607734),i=s(i,a,n,l,e[c+5],4,-378558),l=s(l,i,a,n,e[c+8],11,-2022574463),n=s(n,l,i,a,e[c+11],16,1839030562),a=s(a,n,l,i,e[c+14],23,-35309556),i=s(i,a,n,l,e[c+1],4,-1530992060),l=s(l,i,a,n,e[c+4],11,1272893353),n=s(n,l,i,a,e[c+7],16,-155497632),a=s(a,n,l,i,e[c+10],23,-1094730640),i=s(i,a,n,l,e[c+13],4,681279174),l=s(l,i,a,n,e[c+0],11,-358537222),n=s(n,l,i,a,e[c+3],16,-722521979),a=s(a,n,l,i,e[c+6],23,76029189),i=s(i,a,n,l,e[c+9],4,-640364487),l=s(l,i,a,n,e[c+12],11,-421815835),n=s(n,l,i,a,e[c+15],16,530742520),a=s(a,n,l,i,e[c+2],23,-995338651),i=d(i,a,n,l,e[c+0],6,-198630844),l=d(l,i,a,n,e[c+7],10,1126891415),n=d(n,l,i,a,e[c+14],15,-1416354905),a=d(a,n,l,i,e[c+5],21,-57434055),i=d(i,a,n,l,e[c+12],6,1700485571),l=d(l,i,a,n,e[c+3],10,-1894986606),n=d(n,l,i,a,e[c+10],15,-1051523),a=d(a,n,l,i,e[c+1],21,-2054922799),i=d(i,a,n,l,e[c+8],6,1873313359),l=d(l,i,a,n,e[c+15],10,-30611744),n=d(n,l,i,a,e[c+6],15,-1560198380),a=d(a,n,l,i,e[c+13],21,1309151649),i=d(i,a,n,l,e[c+4],6,-145523070),l=d(l,i,a,n,e[c+11],10,-1120210379),n=d(n,l,i,a,e[c+2],15,718787259),a=d(a,n,l,i,e[c+9],21,-343485551),i=u(i,f),a=u(a,_),n=u(n,h),l=u(l,p)}return Array(i,a,n,l)}function n(e,t,i,a,n,r){return u(l(u(u(t,e),u(a,r)),n),i)}function r(e,t,i,a,r,o,s){return n(t&i|~t&a,e,t,r,o,s)}function o(e,t,i,a,r,o,s){return n(t&a|i&~a,e,t,r,o,s)}function s(e,t,i,a,r,o,s){return n(t^i^a,e,t,r,o,s)}function d(e,t,i,a,r,o,s){return n(i^(t|~a),e,t,r,o,s)}function u(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function l(e,t){return e<<t|e>>>32-t}function c(e){for(var t=Array(),i=(1<<h)-1,a=0;a<e.length*h;a+=h)t[a>>5]|=(e.charCodeAt(a/h)&i)<<a%32;return t}function f(e){for(var t=_?"0123456789ABCDEF":"0123456789abcdef",i="",a=0;a<4*e.length;a++)i+=t.charAt(e[a>>2]>>a%4*8+4&15)+t.charAt(e[a>>2]>>a%4*8&15);return i}var _=0,h=8;i.exports=function(e){return f(a(c(e),e.length*h))}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(83),r=i(26);return n.CORE_TYPES=r,n}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a={},n={},r={},o=0,s={getItem:function(e){return a[e]},setItem:function(e,t){a[e]=t},removeItem:function(e){delete a[e]}},d=function(){try{return window.localStorage.setItem("_Q_test_",1),window.localStorage.removeItem("_Q_test_"),window.localStorage}catch(e){}return s}(),u=function(){0===o&&(clearTimeout(o),o=setTimeout(function(){o=0;for(var e in n)d.setItem(e,n[e]),delete n[e];for(var t in r)d.removeItem(t),delete r[e]},1e3))};i.exports={PLAYER_VD_KEY:"QiyiPlayerVD",read:function(e){return a[e]||(a[e]=d.getItem(e)),a[e]},write:function(e,t){a[e]=t,n[e]=t,u()},remove:function(e){delete a[e],r[e]=0,u()}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports={seriesLoadScripts:function(e,t){"object"!=typeof e&&(e=[e]);var i=document.getElementsByTagName("head").item(0)||document.documentElement,a=[],n=e.length-1,r=function(o){a[o]=document.createElement("script"),a[o].setAttribute("type","text/javascript"),a[o].onload=a[o].onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),o!=n?r(o+1):"function"==typeof t&&t(!0))},a[o].onerror=a[o].onstalled=function(){"function"==typeof t&&t(!1)},a[o].setAttribute("src",e[o]),i.appendChild(a[o])};r(0)},parallelLoadScripts:function(e,t){"object"!=typeof e&&(e=[e]);for(var i=document.getElementsByTagName("head").item(0)||document.documentElement,a=[],n=0,r=0;r<e.length;r++)a[r]=document.createElement("script"),a[r].setAttribute("type","text/javascript"),a[r].setAttribute("async",!0),a[r].onload=a[r].onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n++,this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),n==e.length&&"function"==typeof t&&t(!0))},a[r].onerror=a[r].onstalled=function(){"function"==typeof t&&t(!1)},a[r].setAttribute("src",e[r]),i.appendChild(a[r])}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(5),r={needRecord:!0,browserType:"",pageTmpltType:"",pgct:0,sTime_userInfo:0,sTime_P2PCore:0,sTime_history:0,sTime_showVideo:0,sTime_adInit:0,sTime_vms:0,usedTime_selfLoaded:0,usedTime_userInfo:0,usedTime_P2PCore:0,usedTime_history:0,usedTime_showVideo:0,usedTime_pageShowVideo:0,usedTime_adInit:0,usedTime_vms:0};n.on("httpStart",function(){r.sTime_userInfo=new Date-r.pgct}),n.on("httpComplete",function(){r.usedTime_userInfo=new Date-r.sTime_userInfo-r.pgct}),a.exports=r}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){function n(e){e=parseInt(e,10);var t=s(e+"IQIYI"+(new Date).getTime());return d[e]=t,t}function r(e){var t;for(var i in d)if(d[i]===e){t=i;break}return parseInt(t,10)}function o(e){return d[e]||""}var s=i(12),d={};a.exports={generate:n,getEpisodeId:r,getEventId:o}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(81);a.exports={cmd5xdash:n.cmd5xdash,cmd5x:n.cmd5x}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports={Status_Idle:"idle",Status_Loadstart:"loadstart",Status_Loaddone:"loaddone",Status_LoadFailed:"error",Status_LoadedMetaData:"loadedmetadata",Status_Canplay:"canplay",Status_Waiting:"waiting",Status_Paused:"paused",Status_Play:"play",Status_Playing:"playing",Status_Stoped:"ended",Status_Stalled:"stalled",Status_Playing_Failed_By_Autoplay:"muted",NTF_StatusChanged:"statusChanged",NTF_CanPlayThrough:"canplaythrough",NTF_VolumeChanged:"volumechanged",NTF_RateChanged:"ratechange",NTF_DurationChanged:"durationchange",NTF_Seeking:"seeking",NTF_Seeked:"seeked",NTF_TimeUpdate:"timeupdate",NTF_Progress:"progress",NTF_NeedUserGesture4Playback:"needUserGesture",Action_Type_Controls:"controls",Action_Type_Code:"code",Action_Type_Native:"native"}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a=0,n="engine_ntf_";i.exports={Status_Assembled:n+ ++a,Status_Error:n+ ++a,Status_Done:n+ ++a,Status_Destroy:n+ ++a,NTF_MovieInfoChange:n+ ++a,NTF_VRSStart:n+ ++a,NTF_VRSPreReady:n+ ++a,NTF_VRSReady:n+ ++a,NTF_VRSDone:n+ ++a,NTF_VRSPreloaded:n+ ++a,NTF_ReJointPreload:n+ ++a,NTF_TVIDChange:n+ ++a,NTF_TVIDChanged:n+ ++a,NTF_VDChanged:n+ ++a,NTF_VDChangeFail:n+ ++a,NTF_AUDChanged:n+ ++a,NTF_AUDChangeFail:n+ ++a,NTF_Recharge:n+ ++a,NTF_SetSkipPrelude:n+ ++a,NTF_NeedUserGesture4Playback:n+ ++a,NTF_LoadTempVd:n+ ++a,NTF_ARES_Load:n+ ++a,NTF_ARES_Init:n+ ++a,NTF_ARES_Gas:n+ ++a,NTF_ARES_GasFinish:n+ ++a,NTF_ARES_Info:n+ ++a,NTF_ARES_Play:n+ ++a,NTF_ARES_End:n+ ++a,NTF_ARES_CloudPlay:n+ ++a,NTF_ARES_CloudPlayEnd:n+ ++a,NTF_AD_Start:"jsNotifyAdStart",NTF_AD_End:"jsNotifyAdEnd",NTF_ARES_NOAD:n+ ++a,NTF_ARES_READY:n+ ++a}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){function n(e){return e.replace(_,"ms-").replace(h,function(e,t){return t.toUpperCase()})}function r(e,t){return e.className&&void 0!==e.className.baseVal?new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.getAttribute("class")):(" "+e.className+" ").indexOf(" "+t+" ")>=0}function o(e,t){var i=e.className&&void 0!==e.className.baseVal;r(e,t)||(i?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=(e.className?" ":"")+t)}function s(e,t){if(e.className&&void 0!==e.className.baseVal){var i=e.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2");r(e,t)&&e.setAttribute("class",i)}else{for(var a=" "+e.className+" ";a.indexOf(" "+t+" ")>=0;)a=a.replace(" "+t+" "," ");e.className="function"==typeof a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}}function d(e,t){var i=t;e.className="function"==typeof i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function u(e,t){r(e,t)?s(e,t):o(e,t)}var l=i(0),c=document,f=window,_=/^-ms-/,h=/-([a-z])/g,p=Object.prototype.toString,b=Array.prototype.slice,g=l("dom",{construct:function(e){return this._query.call(this,e)},methods:{find:function(e){return this._query(e,new g)},_query:function(e,t){var i,a=this,n=[];if(!e)return this;if("[object nodelist]"===p.call(e).toLowerCase())n=e;else if(e.nodeType)n.push(e);else if(t)for(i=0;i<a.length;i++)n=n.concat(b.call(a[i].querySelectorAll(e)));else n=e.__$__&&"length"in e?b.call(e):c.querySelectorAll(e);for(t=t||a,i=0;i<n.length;i++)t[i]=n[i];return t.__$__=!0,t.length=n.length,t},_each:function(e){for(var t=this,i=0;i<t.length&&!1!==e.call(t[i],i,t[i]);i++);return t},addClass:function(e){return this._each(function(t,i){o(i,e)})},removeClass:function(e){return this._each(function(t,i){s(i,e)})},replaceClass:function(e){return this._each(function(t,i){d(i,e)})},toggleClass:function(e){return this._each(function(t,i){u(i,e)})},hasClass:function(e){return r(this[0],e)},css:function(e,t){if("object"!=typeof e)return void 0!==t?this._each(function(i,a){a.style[n(e)]=t}):(this.length>0&&(t=getComputedStyle(this[0])[n(e)]),t);for(var i in e)this.css(i,e[i])},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},attr:function(e,t){return void 0!==t?this._each(function(i,a){a.setAttribute(e,t)}):(this.length>0&&(t=this[0].getAttribute(e)),t)},removeAttr:function(e){this._each(function(t,i){1===i.nodeType&&i.removeAttribute(e)})},children:function(){var e,t=[],i=this[0];if(i)for(e=i.firstChild;e;)1===e.nodeType&&t.push(e),e=e.nextSibling;return t},html:function(e){if("string"==typeof e)this._each(function(t,i){i.innerHTML=e});else if(this[0])return this[0].innerHTML},append:function(e){var t,i,a=this,n=a[0];return n?("string"==typeof e&&(t=c.createDocumentFragment(),i=c.createElement("div"),t.appendChild(i),i.innerHTML=e,e=i.firstChild),n.appendChild(e),i=null,a):a},remove:function(){return this._each(function(e,t){t.parentNode&&t.parentNode.removeChild(t)})},offset:function(){var e,t=c.documentElement,i=this[0];return i?(e=i.getBoundingClientRect(),{top:e.top+(f.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(f.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):{top:0,left:0}},width:function(e){var t=this[0];if(!t)return 0;if(void 0!==e)return this.css("width",isNaN(e)?e:e+"px");var i=this.css("width");if(i=parseInt("100%"===i?0:i),isNaN(i)){var a=t.offsetWidth;a<=0||null==a||(i=a)}return i},height:function(e){return this[0]?void 0!==e?this.css("height",isNaN(e)?e:e+"px"):parseInt(this.css("height")):0},contains:function(e){var t,i=this[0];return e&&(e.nodeType?t=e:e.__$__&&(t=e[0])),!(!i||!t)&&i.contains(t)},on:function(e,t){var i=this._events=this._events||[],a=i[e];return a||(a=i[e]=[]),a.push(t),this._each(function(i,a){a.addEventListener(e,t,!1)})},un:function(e,t){var i=this._events||[],a=i[e];return a||(a=i[e]=[]),this._each(function(i,n){var r;if(t){for(;(r=a.indexOf(t))>-1;)a.splice(r,1);n.removeEventListener(e,t)}else a.length>0&&(a.forEach(function(t){n.removeEventListener(e,t)}),a.splice(0,a.length))})},fire:function(e,t){var i=this,a=i._events=i._events||[],n=a[e];n||(n=a[e]=[]),t.data=t.data||{},i._each(function(e,i){n.forEach(function(e){e.call(i,t)})})}}});a.exports=function(e){return new g(e)}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(3),o=i(31),s=i(8),d=i(11),u=(i(9),i(6)),l=i(25),c=i(4),f=i(5),_=i(18),h=i(7),p=i(15),b=i(1),g=i(28),v=i(30),m=i(16),y=i(87),x=i(17),k=i(26),w="",S="",T={},A=-1,I=!1,E=0,P={1:"303",2:"302",6:"304",11:"405",12:"401",13:"401",21:"302"},D="01010021010000000000",q=function(){c.browser.weixin?c.os.ios?D="02038001010000000000":c.os.android&&(D="02028001010000000000"):c.os.ios?D=c.os.iosMobile?"02030031010000000000":"03030021010000000000":c.os.android&&(D=c.os.androidMobile?"02020031010000000000":"03020021010000000000"),h.isTWLocale()&&(D=c.getPtid(!0))};q(),setTimeout(q,2e3);var O="1",R="10",L="101";c.browser.iPad?(O="2",R="20",L="202"):(c.os.ios||c.os.android)&&(O="2",R="20",L="201");var M="window";c.os.ios||c.os.mac?M="mac":c.os.android&&(M="android");var C="",F={},N=0,V="",U=function(e){var t="";if(e.drmType)switch(e.drmType){case 7:t=1;break;case 8:t=2}return t},B=function(e){!function(e){Q(e,function(){n.getVideoInfo(function(t){f.isVip(function(i){var a=n.getMovieInfo(),c=n.getCurrLoaderMode(),p=-1;switch(c){case"CDN":p=0;break;case"P2P":p=1}var b={bstp:6,ptid:D,pf:O,p:R,p1:L,c1:a.cid||"",r:t.tvid||"",aid:a.albumId||"",u:s.getFluid()||"",u2:s.getJsuid()||"",pu:f.getUid()||"",os:M,v:w,ra:C,nu:s.getIsNewUser()?1:0,ve:s.getEid(),ce:s.getWeid(),hu:i?1:-1,ht:a.isVIP?1:0,ispre:n.isTryWatch()?1:0,mod:h.local()||"",z:t.userDisInfo_t||"",diaoduuip:t.userDisInfo_t||"",server_ip:t.userDisInfo_l?String(t.userDisInfo_l).split("//")[1].split("/")[0]:"",stime:(new Date).getTime(),purl:window.location.href,rfr:window.document.referrer,lrfr:u.get("QC007")||"",dfp:l.get()||"",vfm:F.vfm||u.get("QP005")||"",vvfrom:F.vvfrom||"",vfrm:F.vfrm||"",plyrtp:0,coop:"",isdm:N,videotp:void 0!==a.is3D?a.is3D:"",rn:Math.random(),tmplt:m.pageTmpltType,drm:U(a),stauto:n.autoVdUsing()?"1":"0",algot:n.autoVdAlgot(),ldt:p};n.getPicInPic()?b.vfrmrst="80720_playerctrl_picinpic":b.vfrmrst=n.h5vars.vfrmrst||"",e&&13===e.t&&t.vi&&r(b,{uploaderid:t.vi.uid,isfan:V}),e&&e.t&&r(b,{pagev:n.h5vars.pagev||"",vfrmblk:n.h5vars.vfrmblk||""});var y,x;g.isFullScreen()?(x="901111_pcwh5_browerfull",y=4):v.isWebFullScreen()?(x="901111_pcwh5_pagefull",y=7):n.isSmallWindowMode||n.getPicInPic()?(y=2,x=""):(y=3,x=""),r(b,{wint:y,s2:x}),e&&1===e.t&&t.vi&&H(t.vi.uid),"QVS"===n.getEngineType()&&null!==n.getCurrManifestType()&&r(b,{manifesttp:n.getCurrManifestType()});var k,S=n.getEngineType().toLocaleLowerCase();if(S){switch(S){case"data":k=0;break;case"http":k=1;break;case"qvs":k=2}r(b,{enginetp:k})}"{}"!=JSON.stringify(T)&&r(b,T);try{r(b,{as:_.cmd5x(b.r+""+b.p1+b.u+b.ve+"ChEnYH0804FdadrrEDFf2016tT")})}catch(e){}r(b,e),d.beacon(b,o.pingbackUrl)})})})}(e)},H=function(e){f.getUid()&&e&&(V="",d.jsonp({url:"//sns-api.iqiyi.com/apis/friend/follow.action",params:{myuid:f.getUid(),uids:e},timeout:2e3,memory:!0,success:function(t){"A00000"===t.code&&t.data&&(V=t.data[e])}}))},j=function(e,t,i,a,n){var r={};r._bizType="vrs_logRecord",r.errorcode=t,r.st=i,r.tvid=e,r.version=w,r.f4v=a,r.sgti=n,r.log_content=b.getLog();for(var o=JSON.stringify(r),s=new Uint8Array(o.length),d=0;d<o.length;d++)s[d]=o.charCodeAt(d);var u=new XMLHttpRequest;u.open("POST","//tracker-sns.iqiyi.com/naja/log/collect_log"),u.send(s)},Q=function(e,t){e&&parseInt(e.t,10)>0&&void 0===window.dfp?p.seriesLoadScripts("//security.iqiyi.com/static/cook/v1/cooksdk.js",function(e){e&&void 0!==window.dfp&&(l.setSDK(window.dfp),t())}):t()},Y=function(e){var t=b.getLog(),i=y.gzip(t),a=new XMLHttpRequest,r=(e||"").replace(/-/gi,"_"),o=n.getCurrLoaderMode(),s=n.getManifestTypes(),d=n.getCurrManifestType(),u="OTHER";switch(d){case s.HLS:u="HLS";break;case s.F4V:u="F4V";break;case s.DASH:u="DASH"}var l=[];l.push(c.browserName()),l.push(h.isTWLocale()?"TW":"CN"),l.push(o),l.push(u),l.push(r),l.push(x.getEventId(n.getMovieInfo().tvid)),a.open("POST","//qosp.iqiyi.com/crashlog?source=pcwplayer"),a.setRequestHeader("Content-Encoding","gzip"),a.setRequestHeader("Content-Type","application/octet-stream"),a.setRequestHeader("File-Name",l.join("_")),a.send(i)};a.exports={sendVrsRequestPingback:function(){B({t:"init"})},sendVrsReadyPingback:function(){B({t:"ready"})},sendADStartPlayPingback:function(){B({t:15})},sendStartPlayPingback:function(){E=n.getCurrenttime(),B({t:1,lct:E}),-1===A&&this.sendTimingPingback(),this.sendProcessesTimePingback()},sendTimingPingback:function(){A=0;var e=0;clearTimeout(A);var t=function(){if(n.getCurrStatus()===k.Status_Playing){e+=1e3;var i=0;e%15e3==0&&(i=E,E=n.getCurrenttime(),B({t:2,tm:15,lct:i+","+E}))}if(e%6e4==0&&n.getCurrStatus()===k.Status_Playing){var a=f.isLogin()?"QP008":"QP007",r=u.get(a);r=""===r?0:parseInt(r,10),r+=60,u.set(a,r,{expires:31536e6,path:"/",domain:"iqiyi.com"})}clearTimeout(A),A=setTimeout(t,1e3)};t()},sendEndPlayPingback:function(e){E=n.getCurrenttime(),B({t:13,endtp:e,lct:E})},sendWaitingPingback:function(e){var t=0,i=0,a=-1;if(navigator.connection){var r=navigator.connection.downlink,o=(navigator.connection.effectiveType||"").toLowerCase(),s=(navigator.connection.type||"").toLowerCase();switch(o){case"4g":i=18;break;case"3g":i=17;break;case"2g":i=16;break;case"slow-2g":i=14}switch(s){case"cellular":i=15;break;case"wifi":i=1;break;case"ethernet":i=13;break;case"bluetooth":i=21;break;case"wimax":i=22}if("QVS"===n.getEngineType()){var d=n.getDataBufferInfo();d&&(a=d.len)}t=r}e?(I||(I=!0,B({t:8,rd:"ad",jamtp:1,bw:t,dl:a,ntwk:i})),this.sendErrorPlayPingback("","4016"),"QVS"===n.getEngineType()&&this.sendErrorPlayPingback("","QVS-4016")):(I||(I=!0,B({t:8,rd:"video",jamtp:1,bw:t,dl:a,ntwk:i})),this.sendErrorPlayPingback("","4015"),"QVS"===n.getEngineType()&&this.sendErrorPlayPingback("","QVS-4015"))},sendPlayingPingback:function(){I&&(I=!1)},sendErrorPlayPingback:function(e,t,i){B({t:0,ec:t||P[e],psrc:i||""})},sendProcessesTimePingback:function(){if(m.needRecord){m.needRecord=!1;var e={};e.t=10,m.usedTime_userInfo>0&&(e.tm1=m.usedTime_userInfo+","+m.sTime_userInfo),m.usedTime_P2PCore>0&&(e.tm2=m.usedTime_P2PCore+","+m.sTime_P2PCore),m.usedTime_history>0&&(e.tm7=m.usedTime_history+","+m.sTime_history),m.usedTime_pageShowVideo>0&&m.usedTime_pageShowVideo<12e4&&(e.tm8=m.usedTime_pageShowVideo+",0"),m.usedTime_showVideo>0&&m.usedTime_showVideo<6e4&&(e.tm9=m.usedTime_showVideo+","+m.sTime_showVideo),m.usedTime_vms>0&&(e.tm10=m.usedTime_vms+","+m.sTime_vms),m.usedTime_adInit>0&&(e.tm11=m.usedTime_adInit+","+m.sTime_adInit),m.usedTime_selfLoaded>0&&m.usedTime_selfLoaded<6e4&&(e.tm12=m.usedTime_selfLoaded+",0"),e.br=m.browserType||"",e.tmplt=m.pageTmpltType,e.re=window.screen.width+"*"+window.screen.height,B(e)}},init:function(e){A=0,n=e,w=n.holders.playerVersion,S="main"===n.holders.playerType?0:1,e.once(k.NTF_VRSReady,function(){})},destroy:function(){clearTimeout(A)},setCurrentVD:function(e){C=e},setPbInfo:function(e){F=e},setPbisdm:function(e){N=e},setPlayPingbackInfo:function(e){T=r(T,e,!0)},sendErrorAuto:j,sendErrorLog:Y}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a={psdklstm:0,psdkletm:0,psdkistm:0,psdkietm:0,vcistm:0,vcietm:0,ffstm:0,ffetm:0,vclstm:0,vcletm:0,asdklstm:0,asdkletm:0,asdkistm:0,asdkietm:0,adirqstm:0,adirqetm:0,adsrqstm:0,adsrqetm:0,adlstm:0,adletm:0,adastm:0,adaetm:0,plyastm:0,plyaetm:0,adUsedTime:0,plyUsedTime:0};i.exports=a}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a={100:{nbid:100,value:"极速",qipu:"jisu",obid:96},200:{nbid:200,value:"流畅",qipu:"300",obid:1},300:{nbid:300,value:"高清",qipu:"600",obid:2},400:{nbid:400,value:"超清",qipu:"1000",obid:3},500:{nbid:500,value:"720P",qipu:"720P",obid:4},600:{nbid:600,value:"1080P",qipu:"1080P",obid:5},610:{nbid:610,value:"1080P50",qipu:"1080P50",obid:27},700:{nbid:700,value:"2K",qipu:"2K",obid:6},800:{nbid:800,value:"4K",qipu:"4K",obid:10},96:{nbid:100,value:"极速",qipu:"jisu",obid:96},1:{nbid:200,value:"流畅",qipu:"300",obid:1},2:{nbid:300,value:"高清",qipu:"600",obid:2},3:{nbid:400,value:"超清",qipu:"1000",obid:3},4:{nbid:500,value:"720P",qipu:"720P",obid:4},5:{nbid:600,value:"1080P",qipu:"1080P",obid:5},27:{nbid:610,value:"1080P50",qipu:"1080P50",obid:27},6:{nbid:700,value:"2K",qipu:"2K",obid:6},10:{nbid:800,value:"4K",qipu:"4K",obid:10}},n={getNewVd:function(e){return a[e]?a[e].nbid:""},getOldVd:function(e){return a[e]?a[e].obid:""}};i.exports=n}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(6),o="-1",s={get:function(){if(n)o=n.tryGetFingerPrint();else{if("-1"===o)try{o=r.get("__dfp")}catch(e){o=""}if(""!==o){var e=o.split("@"),t=(new Date).getTime();3==e.length&&Number(e[2])<=t&&t<=Number(e[1])&&(o=e[0])}}return o},setSDK:function(e){n=e}};a.exports=s}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports={Status_Idle:"idle",Status_Ready:"ready",Status_Loadstart:"loadstart",Status_LoadedMetaData:"loadedmetadata",Status_StartPlay:"startplay",Status_Waiting:"waiting",Status_Paused:"paused",Status_Play:"play",Status_Playing:"playing",Status_Stoped:"stoped",Status_End_Play:"endplay",Status_PlayError:"error",Status_AdLoaded:"adloaded",Status_AdInit:"adinit",Status_AdLoadstart:"adloadstart",Status_AdStartPlay:"adstartplay",Status_AdPlaying:"adplaying",Status_AdPaused:"adpaused",Status_AdPlayEnded:"adended",Status_AdError:"aderror",Status_AdStalled:"adstalled",Status_AdWaiting:"adwaiting",Status_AresPlay:"aresplay",Status_AresEnded:"aresended",Status_AresNoticeInfo:"aresnoticeinfo",NTF_StatusChanged:"statusChanged",NTF_Error:"engineError",NTF_VideoRefresh:"videorefresh",NTF_VideoChange:"videochange",NTF_VideoChanged:"videochanged",NTF_VideoListChanged:"videolistchanged",NTF_ADDVideoList:"addvideolist",NTF_REMOVEVideoList:"removevideolist",NTF_CanPlayThrough:"canplaythrough",NTF_VolumeChanged:"volumechanged",NTF_RateChanged:"ratechange",NTF_KeyVolumeChange:"keyvolumechange",NTF_DurationChanged:"durationchange",NTF_VRSStart:"vrsstart",NTF_VRSPreReady:"vrspreready",NTF_VRSReady:"vrsready",NTF_VRSPreloaded:"vrspreloaded",NTF_DefinitionSwitching:"definitionswitch",NTF_DefinitionSwitched:"definitionswitched",NTF_AudioSwitching:"aduioswitching",NTF_AudioSwitched:"aduioswitched",NTF_TimeUpdate:"timeupdate",NTF_Progress:"progress",NTF_Before_Seeking:"beforeSeeking",NTF_Seeking:"seeking",NTF_Seeked:"seeked",NTF_Recharge:"recharge",NTF_SkipHook:"skiphook",NTF_FollowUpNextLoad:"followUpNextLoad",NTF_NeedUserGesture4Playback:"needUserGesture4Playback",NTF_PlayingFailByAutoPlay:"playingFailByAutoPlay",NTF_AD_CanPlayThrough:"adcanplaythrough",NTF_AD_VolumeChanged:"advolumechanged",NTF_AD_RateChanged:"adratechange",NTF_AD_DurationChanged:"addurationchange",NTF_AD_TimeUpdate:"adtimeupdate",NTF_AD_Progress:"adprogress",NTF_AD_Seeking:"adseeking",NTF_AD_Seeked:"adseeked",NTF_AD_NotifyManager:"jsNotifyAdManager",NTF_AD_Start:"jsNotifyAdStart",NTF_AD_End:"jsNotifyAdEnd",NTF_AD_CloudPlay:"adcloudplay",NTF_AD_CloudPlayEnd:"adcloudplayend",Evt_StartFromHistory:"playStartFromHistory",Evt_SkipHeader:"playSkipHeader",Evt_SkipTailer:"playSkipTailer",Evt_StartShareTime:"playShareTime",Evt_PreloadAD:"playPreloadAD",ERROR_HttpFailed:"P00001",ERROR_AnalyzFailed:"P00002",Enjoy_Evt_PlayEnd:"enjoy_play_end",Enjoy_Evt_PanleShow:"enjoy_panle_show"}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(1),o=i(10),s=(i(12),i(2)),d=new r("EpisodeManager"),u={},l=function(e){return parseInt(e,10)},c=n("EpisodeManager",{extend:s,construct:function(){},methods:{_ensureDataStructure:function(e){var t=u[e]||{};o.isObject(t.pres)?(t.pres.finish=!!t.pres.finish,t.pres.queue=o.isArray(t.pres.queue)?t.pres.queue:[]):t.pres={finish:!1,queue:[]},o.isObject(t.mids)?(t.mids.finish=!!t.mids.finish,t.mids.queue=o.isArray(t.mids.queue)?t.mids.queue:[]):t.mids={finish:!1,queue:[]},o.isObject(t.features)?(t.features.finish=!!t.features.finish,t.features.queue=o.isArray(t.features.queue)?t.features.queue:[]):t.features={finish:!1,queue:[]},u[e]=t},clear:function(e){e=l(e),delete u[e]},clearAll:function(){u={}},addPres:function(e,t){var i=this;e=l(e),i.valid(e)&&o.isArray(t)&&(u[e].pres.queue=u[e].pres.queue.concat(t))},finishPres:function(e,t){var i=this;if(e=l(e),i.valid(e)){if("boolean"!=typeof t)return u[e].pres.finish;var a=u[e].pres;t&&!1===a.finish&&i.fire({type:"finishAddPres",data:{videoId:e,length:a.queue.length}}),a.finish=t}else{if("boolean"!=typeof t)return!1;d.warn("finishPres: episode id not valid, "+e)}},getPres:function(e){var t=this,i=[];return e=l(e),t.valid(e)&&(i=u[e].pres.queue),i},clearPres:function(e){var t=this,i=[];e=l(e),t.valid(e)&&(i=u[e].pres.queue,i.splice(0,i.length))},addMids:function(e,t){var i=this;e=l(e),i.valid(e)&&o.isArray(t)&&(u[e].mids.queue=u[e].mids.queue.concat(t))},getMids:function(e){var t=this,i=[];return e=l(e),t.valid(e)&&(i=u[e].mids.queue),i},finishMids:function(e,t){var i=this;if(e=l(e),i.valid(e)){if("boolean"!=typeof t)return u[e].mids.finish;var a=u[e].mids;t&&!1===a.finish&&i.fire({type:"finishAddMids",data:{videoId:e,length:a.queue.length}}),a.finish=t}else{if("boolean"!=typeof t)return!1;d.warn("finishMids: episode id not valid, "+e)}},clearMids:function(e){var t=this,i=[];e=l(e),t.valid(e)&&(i=u[e].mids.queue,i.splice(0,i.length))},freshFeatures:function(e,t){var i=this;e=l(e),i.valid(e)&&o.isArray(t)&&(u[e].features.queue=t)},finishFeatures:function(e,t){var i=this;if(e=l(e),i.valid(e)){if("boolean"!=typeof t)return u[e].features.finish;u[e].features.finish=t}},setInfo:function(e,t){var i=this;e=l(e),i.valid(e)&&(u[e].movieInfo=t)},getInfo:function(e){var t,i=this;return i.valid(e)&&u[e]&&(t=u[e].movieInfo),t},setDefinitionAd:function(e,t){var i=this;e=l(e),i.valid(e)&&(u[e].definitionAdInfo=t)},getDefinitionAd:function(e){var t,i=this;return i.valid(e)&&u[e]&&(t=u[e].definitionAdInfo),t},valid:function(e,t){var i=this;if(e=l(e),"boolean"!=typeof t)return u[e]&&!0===u[e].valid?(i._ensureDataStructure(e),t=!0):t=!1,t;i._ensureDataStructure(e),u[e].valid=t},destroy:function(){var e=this;u={},e.un("finishAddPres"),e.un("finishAddMids")}}});a.exports=new c}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(21),r=i(0),o=i(2),s=document,d=r("FullScreen",{extend:o,methods:{init:function(e){var t=this;t._elem=n(e)[0];var i=function(){t.fire({type:"change",data:t.isFullScreen()?"enter":"exit"})};s.addEventListener("fullscreenchange",i),s.addEventListener("mozfullscreenchange",i),s.addEventListener("webkitfullscreenchange",i),s.addEventListener("MSFullscreenChange",i)},exit:function(){var e=this._elem;if(e)if(this.fire({type:"beforechange",data:this.isFullScreen()?"enter":"exit"}),e.exitFullscreen)e.exitFullscreen();else if(s.webkitCancelFullScreen)s.webkitCancelFullScreen();else if(s.mozCancelFullScreen)s.mozCancelFullScreen();else if(e.mozCancelFullScreen)e.mozCancelFullScreen();else if(e.msExitFullscreen)e.msExitFullscreen();else try{e.webkitExitFullscreen()}catch(e){}},enter:function(){var e=this._elem;if(e)if(this.fire({type:"beforechange",data:this.isFullScreen()?"enter":"exit"}),e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.msRequestFullscreen)e.msRequestFullscreen();else try{e.webkitEnterFullScreen()}catch(e){}},toggle:function(){this.isFullScreen()?this.exit():this.enter()},isFullScreen:function(){return!!(document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen)}}});a.exports=new d}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a=0,n="ntf_";i.exports={NTF_PLG_Enable:n+a++,NTF_PLG_Disable:n+a++,NTF_Play:n+a++,NTF_Pause:n+a++,NTF_Replay:n+a++,NTF_Seek:n+a++,NTF_ChangeVolume:n+a++,NTF_SeekTime:n+a++,NTF_PlayerSmallWindowStatus:n+a++,NTF_ControlbarShow:n+a++,NTF_ControlbarHide:n+a++,NTF_DefinitionBtnClick:n+a++,NTF_DefinitionBtnMouseEnter:n+a++,NTF_DefinitionBtnMouseLeave:n+a++,NTF_DefinitionListShow:n+a++,NTF_DefinitionListhide:n+a++,NTF_DefinitionADShow:n+a++,NTF_DefinitionADClick:n+a++,NTF_FullScreen:n+a++,NTF_WebFullScreen:n+a++,NTF_SetDownLoad:n+a++,NTF_BarrageSelfSend:n+a++,NTF_BarrageSettingChange:n+a++,NTF_HIDE_BOTTOM_TOP:n+a++,NTF_SHOW_BOTTOM_TOP:n+a++,NTF_HIDE_PLAYLIST:n+a++,NTF_HIDE_TOPBAR:n+a++,NTF_SHOW_TOPBAR:n+a++,NTF_CLICK_PLAYLIST_BTN:n+a++,NTF_SHOW_PLAYLIST_BTN:n+a++,NTF_HIDE_PLAYLIST_BTN:n+a++,NTF_SHOW_CONTROLBAR_PINGBACK:n+a++,NTF_SEEKBAR_HOVER:n+a++,NTF_SHOW_HEATMAP:n+a++,NTF_SHOW_LOGIN_PANEL:n+a++,NTF_WebFullScreen_BeforeChange:n+a++,NTF_WebFullScreen_AfterChange:n+a++,NTF_WebFullScreen_SetSwitch:n+a++,NTF_FullScreen_BeforeChange:n+a++,NTF_FullScreen_AfterChange:n+a++,NTF_FullScreen_SetSwitch:n+a++,NTF_Barrage_SetConfigInfo:n+a++,NTF_Barrage_SetChannelConfigInfo:n+a++,NTF_Barrage_SetSwitch:n+a++,NTF_Barrage_ShowLike:n+a++,NTF_Barrage_ShowMoreLike:n+a++,NTF_Barrage_EnsureReport:n+a++,NTF_Barrage_ShowRulePage:n+a++,NTF_Barrage_ClearBanWord:n+a++,NTF_Barrage_AddBanWord:n+a++,NTF_Barrage_RemoveBanWord:n+a++,NTF_Barrage_NotifyGiftInfo:n+a++,Type_Play:"play",Type_Pause:"pause",Type_Replay:"replay"}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(21),r=i(0),o=i(2),s=r("WebFullScreen",{extend:o,methods:{__notice:function(){var e=this;e.fire({type:"change",data:e.isWebFullScreen()?"enter":"exit"})},__beforeNotice:function(){var e=this;e.fire({type:"beforechange",data:e.isWebFullScreen()?"enter":"exit"})},init:function(e,t){var i=this;i._elem=n(t),i._wrapper=n(e),i._enter=i._elem.find('[data-player-hook="webfullenter"]'),i._exit=i._elem.find('[data-player-hook="webfullexit"]');var a=function(){i.toggle()};i._elem.on("click",a)},exit:function(){var e=this;e._elem&&e.isWebFullScreen()&&(e.__beforeNotice(),e._exit.hide(),e._enter.show(),e._wrapper.removeClass("iqp-web-screen"),e._wrapper.removeClass("iqp-full-screen50"),e._wrapper.removeClass("iqp-full-screen75"),document.body.style.overflow=e.__bodyOverflow,e.__notice())},enter:function(){var e=this;e._elem&&!e.isWebFullScreen()&&(e.__bodyOverflow=document.body.style.overflow,e.__beforeNotice(),e._exit.show(),e._enter.hide(),e._wrapper.addClass("iqp-web-screen"),document.body.style.overflow="hidden",e.__notice())},toggle:function(){this.isWebFullScreen()?this.exit():this.enter()},isWebFullScreen:function(){return!!this._wrapper&&this._wrapper.hasClass("iqp-web-screen")}}});a.exports=new s}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a=window.location.protocol,n="420a8433732a6c99d1eae98fea69e55d/jp/dash";i.exports={vipauthUrl:"https://api.vip.iqiyi.com/services/cknsp.action",h5tmtsUrl:a+"//cache.m.iqiyi.com/jp/tmts/",vmsUrl:a+"//cache.video.iqiyi.com/jp/dash",vmsAccess:a+"//103.44.59.54/3ea",vmsIPSuc:a+"//{{IP}}/3ea/"+n,vmsIPFail:a+"//access.if.iqiyi.com/3ea/"+n,pingbackUrl:a+"//msg.qy.net/core",pingbackV6Url:a+"//msg.qy.net/b",pingbackQosUrl:a+"//msg.qy.net/qos",isfanUrl:a+"//sns-api.iqiyi.com/apis/friend/follow.action"}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(8),o=(i(5),i(1)),s=(i(6),i(9)),d=i(3),u=i(12),l=i(18),c=i(38),f=i(68),_=window.location.protocol,h=new o("segment"),p=n("segment",{construct:function(e,t,i,a,n,o,u,p,b,g,v,m,y,x,k,w){var S=this;S.ad=e,S.vip=t,S.index=e?0:a,S.tvId=n,S.vid=o,S.vidl=u,S.albumID=p,S.channelID=b,S.originID=g,S.du=v,S.size=m,S.showStartTime=y,S.showEndTime=x,S.startTime=k,S.endTime=w,S.__gas=a,S.__url=S.ad?i:_+"//data.video.iqiyi.com/videos"+i+"&cross-domain=1&qyid="+(r.getFluid()||r.getJsuid())+"&qypid="+S.tvId+"_"+f.getSrc(),S.__params=s.query2Json(S.__url),S.__filename=s.filename(S.__url),S.getUrl=function(){var e,t=this;if(t.ad)e=t.__url;else if(t.vip){var i=arguments[0]||"",a=l.cmd5x(i+t.__filename);i||h.warn(t.vid+", segment index: "+t.index+", boss key is empty!"),e=t.__url+"&t="+i+"&vid="+t.vid+"&ibt="+a+"&cid=afbe8fd3d73448c9&ib=4&ptime="+c.getPreviewTime(t.tvId)+"&qypid="+t.tvId+"_"+f.getSrc()+"&QY00001="+c.getAuthUid(t.tvId)}else e=t.__url+"&qypid="+t.tvId+"_"+f.getSrc();return e},S.getBossUrl=function(){var e=this,t=null;return!e.ad&&e.vip&&(d(e.__params,{filename:e.__filename,tvid:e.tvId,aid:e.albumID}),t=c.getRequestURL(e.__params)),t}},statics:{getIdentifier:function(e){return u(e.tvId+"_"+e.vid+"_"+e.startTime+"_"+e.endTime+"_"+e.__url)}},methods:{_setBoss:function(e){this.boss=e}}});a.exports=p}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(11),r={},o=function(e){return e};a.exports={get:function(e,t){var i=e.tvid,a=e.vid||"",s=e.locale,d=o(i);if(r[d]=r[d]||[],r[d].push(t),i&&a&&t){var u="//pcw-api.iqiyi.com/video/video/playervideoinfo?tvid="+i;u=s?u+"&locale="+s:u,n.jsonp({url:u,memory:!0,success:function(e){"A00000"===e.code&&e.data||t({}),e=e.data,e.vid=a;var i=o(e.tvid),n=o(e.videoQipuId),s=[];r[i]?(s=(r[i]||[]).slice(0),delete r[i]):r[n]&&(s=(r[n]||[]).slice(0),delete r[n]);for(var d=0;d<s.length;d++)s[d]&&function(e,t){setTimeout(function(){e({tvid:t.videoQipuId,vid:t.vid,albumId:t.albumId,cid:t.cid,vi:t})},0)}(s[d],e);s=null},failure:function(e){t(e||{})}})}},isUGC:function(e){return!!((e+="")&&e.length>2&&"9"==e.charAt(e.length-1)&&"0"==e.charAt(e.length-2)&&(e=parseInt(e,10))>0&&e>9e7)}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a={},n={},r={},o=0,s={getItem:function(e){return a[e]},setItem:function(e,t){a[e]=t},removeItem:function(e){delete a[e]}},d=function(){try{return window.sessionStorage.setItem("_Q_test","1"),window.sessionStorage.removeItem("_Q_test"),window.sessionStorage}catch(e){}return s}(),u=function(){0===o&&(clearTimeout(o),o=setTimeout(function(){o=0;for(var e in n)d.setItem(e,n[e]),delete n[e];for(var t in r)d.removeItem(t),delete r[e]},1e3))};i.exports={PLAYER_TEMP_VD_KEY:"QiyiPlayerTempVD",read:function(e){return a[e]||(a[e]=d.getItem(e)),a[e]},write:function(e,t){a[e]=t,n[e]=t,u()},remove:function(e){delete a[e],r[e]=0,u()}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(1),o=i(6),s=i(2),d=(new r("Setting"),n("Setting",{extend:s,construct:function(){},methods:{isSkipPrelude:function(e){if("boolean"!=typeof e)return"skip"===o.get("QC157",{memory:!0});e?o.set("QC157","skip",{expires:31536e6,path:"/",domain:"iqiyi.com"}):o.remove("QC157",{path:"/",domain:"iqiyi.com"})},isBoss:function(e){if("boolean"!=typeof e)return"0"===o.get("QC004",{memory:!0});e?o.set("QC004","0",{expires:31536e6,path:"/",domain:"iqiyi.com"}):o.remove("QC004",{path:"/",domain:"iqiyi.com"})}}}));a.exports=new d}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r,o,s=i(3),d=i(4),u=i(64),l=i(9),c={},f=function(){o=document.querySelectorAll?document.querySelectorAll("span"):document.getElementsByTagName("span"),n=window.QiyiPlayerParam||[],r={};for(var e=0;e<n.length;e++)n[e].name&&(r[n[e].name]=n[e].attribute||{})},_=function(e){(r[e]||r.hasOwnProperty(e))&&(r[e]=null,delete r[e]);for(var t=n.length;t--;)n[t].name===e&&n.splice(t,1)},h=function(e){return e.replace(/([<>])/g,"")},p=function(e){for(var t in e)e[t]||!1===e[t]||delete e[t];return e},b=function(e){var t,i,a=function(t){return e.getAttribute(t)},n={expandState:a("data-player-expandstate"),albumId:a("data-player-albumid"),tvid:a("data-player-tvid"),vid:a("data-player-videoid"),autoplay:a("data-player-autoplay"),isMember:a("data-player-ismember"),cyclePlay:a("data-player-cycleplay"),exclusive:a("data-player-exclusive"),qiyiProduced:a("data-player-qiyiProduced"),share_sTime:a("data-player-startTime"),share_eTime:a("data-player-endTime"),showBarStyle:a("data-player-barStyle")};for(t=0;t<o.length;t++)if(i=o[t],"data-widget-adparam"===i.getAttribute("data-widget-adparam")){var r=i.getAttribute("data-adparam-cupid"),s=i.getAttribute("data-adparam-playerid");r&&(n.adurl=r),s&&(n.cid=s)}return p(n)},g=function(){var e,t,i={};for(e=0;e<o.length;e++)if(t=o[e],"data-widget-adparam"===t.getAttribute("data-widget-adparam")){var a=t.getAttribute("data-adparam-cupid"),n=t.getAttribute("data-adparam-playerid");a&&(i.adurl=a),n&&(i.cid=n)}return p(i)},v=function(){var e,t,i,a,r,d,u=!1,c={};for(r=0;r<n.length;r++)"public"===n[r].name&&(s(c,p(n[r].attribute||{}),!0),_("public"),u=!0);if(!u)for(e=0;e<o.length;e++)d=o[e],t=d.getAttribute("data-widget-flashplayerparam"),i=d.getAttribute("data-flashplayerparam-flashvars"),a=d.getAttribute("data-h5playerparam-h5vars"),"public"===t&&(i&&s(c,p(l.query2Json(i)),!0),a&&s(c,p(l.query2Json(a)),!0));return p(c)},m=function(e){var t={playerUrl:function(){var e=u.getVer();return e.length>2&&(parseInt(e[0],10)>=12||11===parseInt(e[0],10)&&parseInt(e[1],10)>=4)}()&&QiyiPlayerConfig.FLASH_PLAYER_ZURL?QiyiPlayerConfig.FLASH_PLAYER_ZURL:QiyiPlayerConfig.FLASH_PLAYER_URL,flashP2PCoreUrl:QiyiPlayerConfig.FLASH_P2P_URL,barrageurl:QiyiPlayerConfig.FLASH_BARRAGE_URL,preloader:QiyiPlayerConfig.FLASH_PRELOADER_URL,preloaderTw:QiyiPlayerConfig.FLASH_PRELOADER_URL_TW,qiyiProducedPreloader:QiyiPlayerConfig.FLASH_PRELOADER_PRODUCE,qiyiProducedPreloaderTw:QiyiPlayerConfig.FLASH_PRELOADER_PRODUCE_TW,exclusivePreloader:QiyiPlayerConfig.FLASH_PRELOADER_EXCLUSIVE,exclusivePreloaderTw:QiyiPlayerConfig.FLASH_PRELOADER_EXCLUSIVE_TW,vipPreloader:QiyiPlayerConfig.FLASH_PRELOADER_VIP,vipPreloaderTw:QiyiPlayerConfig.FLASH_PRELOADER_VIP_TW,iconPreloader:QiyiPlayerConfig.FLASH_PRELOADER_ICON,iconPreloaderTw:QiyiPlayerConfig.FLASH_PRELOADER_ICON_TW,iconProducedPreloader:QiyiPlayerConfig.FLASH_PRELOADER_ICON_PRODUCE,iconProducedPreloaderTw:QiyiPlayerConfig.FLASH_PRELOADER_ICON_PRODUCE_TW,iconExclusivePreloader:QiyiPlayerConfig.FLASH_PRELOADER_ICON_EXCLUSIVE,iconExclusivePreloaderTw:QiyiPlayerConfig.FLASH_PRELOADER_ICON_EXCLUSIVE_TW,tipdataurl:QiyiPlayerConfig.FLASH_TIP_XML,h5P2PUrl:QiyiPlayerConfig.H5_P2P_URL,h5P2PABSUrl:QiyiPlayerConfig.H5_P2P_ABS_URL,h5adsrc:QiyiPlayerConfig.H5_ARES_URL};return p(t)},y=function(){var e,t,i,a,d,u={};for(e=0;e<o.length;e++)d=o[e],t=d.getAttribute("data-widget-flashplayerparam"),i=d.getAttribute("data-flashplayerparam-flashvars"),a=d.getAttribute("data-h5playerparam-h5vars"),t&&"public"!==t&&(r[t]?(s(u,p(r[t]),!0),_(t)):(i&&s(u,p(l.query2Json(i)),!0),a&&s(u,p(l.query2Json(a)),!0)));if(n.length>0)for(e=0;e<n.length;e++)n[e]&&n[e].name&&s(u,p(n[e].attribute||{}),!0);return p(u)},x=function(e){var t={},i=function(t){return e.getAttribute(t)}("data-player-flashvars");return i=i?l.query2Json(i):{},s(t,p(i),!0),p(t)},k=function(){var e={},t=function(e){var t=l.query2Json(e),i=t.flashvars;i=i?l.query2Json(h(decodeURIComponent(i))):{};var a=t.share_sTime||t.s,n=t.share_eTime||t.e,r=a&&a.match(/(\d*)-.*?=(\d*)/);r&&(a=r[1],n=r[2]);var o={autoplay:t.autoplay,vid:t.videoid||t.vid,tvid:t.tvid||t.tvId,albumId:t.albumid,cyclePlay:t.cycleplay,isMember:t.ismember,exclusive:t.exclusive,qiyiProduced:t.qiyiProduced,share_sTime:a,share_eTime:n,outsite:t.outsite,cid:t.cid,isCid:t.isCid,vfrm:t.vfrm,isMute:t.isMute,showBarStyle:t.barStyle,local:t.local,components:t.components,appid:t.appId,appkey:t.appKey,sign:t.sign,accessType:t.accessType,accessToken:t.accessToken,ptid:t.ptid};return s(i,p(o),!0),i},i=t(h(window.location.search.replace(/([<>])/g,""))),a=t(h(window.location.hash.slice(1).replace(/([<>])/g,"")));s(e,p(i),!0),s(e,p(a),!0);for(var n in e)e[n]||!1===e[n]||delete e[n];return p(e)};return{mix:function(e,t){f();var i=window.__qlt,a="",n="";i&&(i.tmplt&&(a=i.tmplt||""),i.brs&&(n=i.brs||""));var r={outsite:u.outsite,site:"iqiyiwex",local:"cn_s",ost:"1",browserType:n,pageTmpltType:a};s(r,b(t),!0),s(r,g(),!0),s(r,v(),!0),s(r,m(),!0),s(r,y(),!0),s(r,x(t),!0),s(r,e,!0),s(r,k(),!0),(d.os.ios||d.os.android)&&(r.autoplay=!1);for(var o in r)"string"==typeof r[o]&&(r[o]=r[o].replace(/^http:/gi,""));return c=r,r},getVars:function(){return c}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports="1.0.2"}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(11),r=i(5),o=i(8),s=i(3),d=i(4),u=i(1),l=i(25),c=i(31),f=i(62),_={},h=new u("authremote");a.exports={getRequestURL:function(e){var t=f.getVars(),i={version:"10.0",platform:"01010021010000000000",deviceId:o.getFluid()||o.getJsuid(),uid:r.getUid(),playType:"pcwh5",shareFlag:0,appname:"h5",dfp:l.get(),messageId:"h5_"+o.createUUID().replace(/-/gi,"")};return"tw_s"!==t.local&&"tw_t"!==t.local||(i.platform=d.getPtid(!0)),s(e,i),c.vipauthUrl+"?"+n.serializeParam(e)},getPreviewTime:function(e){var t=_[e];if(t){var i=0;return t.data&&t.data.prv&&1==t.data.prv&&(1==t.previewType?i=60*t.previewTime*1e3:3==t.previewType&&(i=1e3*t.previewTime)),i}h.error("the time to invoke getPreviewTime is wrong!")},getAuthUid:function(e){var t=_[e];if(t){if(t.data&&t.data.u)return t.data.u}else h.error("the u to invoke getAuthUid is wrong!")},analyzeAuthData:function(e,t,i,a){var n=1==e.shareFlag,r=e.tvid;t&&t.hasOwnProperty("code")?(h.log("analyze authremote data,params: isShare = "+(n?"fgtw(分甘同味)":"")+",code = "+t.code),"A00000"===t.code?(t.bossKeyTime=+new Date,_[r]=t,i(r,t)):a(t.code,"CKNSP_RECHARGE_"+t.code,t)):a(null,"CKNSP_DATA_Fail")},request:function(e,t,i){var a=this,r=0,o=function(){r++;var s=a.getRequestURL(e);2===r&&(s=s.replace(/^https/gi,"http")),n.json({url:s,timeout:5e3,beforeSend:function(e){return h.log("check charge definition,params: url = "+e.url),e},success:function(n){a.analyzeAuthData(e,n,t,i)},failure:function(e,t){r<2?o():i(null,"CKNSP_HTTPFail")}})};o()}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){function a(){for(var e=[],t=1;t<=64;t++)e.push(f[1][t]?1:0);return parseInt(e.reverse().join(""),2)}function n(){for(var e=[],t=1;t<=64;t++)e.push(f[2][t]?1:0);return parseInt(e.reverse().join(""),2)}function r(){for(var e=[],t=1;t<=64;t++)e.push(f[4][t]?1:0);return parseInt(e.reverse().join(""),2)}function o(){for(var e=[],t=1;t<=64;t++)e.push(f[5][t]?1:0);return parseInt(e.reverse().join(""),2)}function s(){var e=[];f[1][37]=!0,f[1][38]=!0;for(var t=1;t<=64;t++)e.push(f[1][t]?1:0);return parseInt(e.reverse().join(""),2)}function d(){var e=[];f[1][45]=!0;for(var t=1;t<=64;t++)e.push(f[1][t]?1:0);return parseInt(e.reverse().join(""),2)}function u(e,t){f[e][t]=!0}function l(e,t){f[e][t]=!1}function c(e,t){return f[e][t]}var f={1:{3:!0,37:!1,40:!0,42:!0,48:!0},2:{},4:{3:!1,5:!1},5:{1:!0}};i.exports={getFT1:a,getFT2:n,getFT4:r,getFT5:o,getM3U8FT1:s,getMP4FT1:d,hasBit:c,openBit:u,closeBit:l}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a=[],n={_videolist:a,getVideoIndexByTvid:function(e){for(var t,i=this,a=-1,n=0;n<i._videolist.length;n++)if(t=i._videolist[n],t.tvid==e){a=n;break}return a},addVideoList:function(e){var t=this,i=[],a=!1;return e.forEach(function(e){-1===t.getVideoIndexByTvid(e.tvid)&&(t._videolist.push({tvid:parseInt(e.tvid||e.tvId,10),vid:e.vid,isMember:"true"==e.isMemberVideo,isQiyiProduced:"1"==e.qiyiProduced,isExclusive:"1"==e.exclusive,cid:e.cid,pageUrl:e.pageUrl,imageUrl:e.imageURL,title:e.title,imageLoader:e.imageLoader,moduleName:e.moduleName||""}),i.push(e.tvid+"_"+e.vid),a=!0)}),{listChanged:a,logList:i,list:e}},removeVideoList:function(e){var t=this;0===e.length?t._videolist.splice(0,t._videolist.length):e.forEach(function(e){for(var i,a=0;a<t._videolist.length;a++)i=t._videolist[a],i.tvid==e.tvid&&i.vid===e.vid&&t._videolist.splice(a,1)})},getViFromVl:function(e,t){for(var i,a=this,n=null,r=0;r<a._videolist.length;r++)if(i=a._videolist[r],i.tvid==e&&i.vid===t){n=i;break}return n},getVideoList:function(){return this._videolist}};i.exports=n}.call(t,i,t,e))&&(e.exports=a)},function(e,t){/*! qvs built @2019-8-22 19:52:05 */
e.exports=function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}if(!(Object.defineProperty&&Object.defineProperties&&Object.create&&window.ArrayBuffer&&window.Uint8Array))return{};var i={};return t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(a,n,function(t){return e[t]}.bind(null,n));return a},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){e.exports=i(1)["default"]},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,i,a){function n(){throw new Error("["+e+"] load/preload source manifest format is error!")}if("HLS"===e&&"object"!==(void 0===t?"undefined":(0,o["default"])(t))&&n(),"DASH"===e&&"object"!==(void 0===t?"undefined":(0,o["default"])(t))&&n(),0===a.length)throw new Error("The source's timeRanges length should be gt 0");if((0,Y.isNumber)(i)&&i<a[0][0])throw new Error("playHeadTime should be gt first time range!")}Object.defineProperty(t,"__esModule",{value:!0});var r=i(2),o=a(r),s=i(69),d=a(s),u=i(73),l=a(u),c=i(74),f=a(c),_=i(75),h=a(_),p=i(79),b=a(p),g=i(87),v=a(g),m=i(93),y=a(m),x=i(92),k=a(x),w=i(105),S=a(w),T=i(116),A=a(T),I=i(120),E=a(I),P=i(121),D=a(P),q=i(137),O=a(q),R=i(249),L=a(R),M=i(330),C=a(M),F=i(146),N=a(F),V=i(106),U=a(V),B=i(107),H=a(B),j=i(338),Q=a(j),Y=i(134),z=i(235),G=a(z),W=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,l["default"])(this,t);var a=(0,f["default"])(this,(t.__proto__||(0,d["default"])(t)).call(this));return a.config=new U["default"](i),a.runtime={bandwidth:0,downloadSpeed:0,cdnHost:null,netProtocol:null},a.p2pLoader=(0,Y.isObjectLike)(i.p2pLoader)?i.p2pLoader:{enabled:!1},a.netProxy=new L["default"](a),a.media=new C["default"](a,e),a.datasource=new O["default"](a,a.config.datasource),a._startPlayed=!1,a._recovering=!1,a._qosTimer=new Q["default"],a._applyConfig(),a._bindEvents(),a}return(0,b["default"])(t,e),(0,h["default"])(t,[{key:"currentTime",get:function(){return this.isRolling?this.datasource.getAdCurrentTime():this.media.currentTime}},{key:"duration",get:function(){return this.media.dataDuration||this.datasource.duration}},{key:"isRolling",get:function(){return this.datasource.isRolling}},{key:"isPatching",get:function(){return this.datasource.isPatching}},{key:"isLast",get:function(){return this.datasource.isLast||this.media.loop}},{key:"bufferInfo",get:function(){return{media:this.mediaBufferInfo,data:this.dataBufferInfo}}},{key:"mediaBufferInfo",get:function(){var e=this.media.bufferInfo(this.media.playHeadTime);return e.buffered={video:this.media.bufferInfo(this.media.playHeadTime,"video"),audio:this.media.bufferInfo(this.media.playHeadTime,"audio")},e}},{key:"dataBufferInfo",get:function(){return this.datasource.bufferInfo()}},{key:"reBufTime",get:function(){return this.datasource.reBufTime}},{key:"playRanges",get:function(){return this.datasource.playRanges}},{key:"endOfDown",get:function(){return this.datasource.eod}},{key:"currentManifestType",get:function(){var e=null,t=this.datasource.playingStream;return t&&(e=t.manifestType),e}},{key:"currentLoaderMode",get:function(){var e="cdn",t=this.datasource.playingStream;return t&&(e=t.loaderMode),e.toUpperCase()}},{key:"timeRanges",set:function(e){if(Array.isArray(e)&&e.length>0){var t=this.datasource,i=this.media;i.appendWindowStart=t.playRanges.start(0),i.appendWindowEnd=t.playRanges.end(t.playRanges.length-1)}}},{key:"bufferOperating",get:function(){return this.media.hasOperateBufferData||this.media.updating}},{key:"variantSwitching",get:function(){return this.media.variantSwitching}},{key:"startPlayed",get:function(){return this._startPlayed}},{key:"recovering",get:function(){return this._recovering}},{key:"playbackQuality",get:function(){return this.media.playbackQuality}},{key:"qosTimer",get:function(){return this._qosTimer}},{key:"stats",get:function(){return{bandwidth:this.runtime.bandwidth,downloadSpeed:this.runtime.downloadSpeed,cdnHost:this.runtime.cdnHost,netProtocol:this.runtime.netProtocol}}}],[{key:"probeSupport",value:function(){return C["default"].probeSupport()}},{key:"DEBUG",set:function(e){"boolean"==typeof e&&(U["default"].DEBUG=e)},get:function(){return U["default"].DEBUG}},{key:"version",get:function(){return"2.0.2"}},{key:"logger",set:function(e){(0,m.setLogger)(e)},get:function(){return(0,m.getLogger)()}}]),(0,h["default"])(t,[{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,H["default"])(this.config,e,!0),this._applyConfig()}},{key:"_applyConfig",value:function(){var e=this.datasource,t=this.media,i=this.config;e.configure(i.datasource),t.configure(i)}},{key:"loadRoll",value:function(e,t,i){this.datasource.loadRoll(e,t,i)}},{key:"preloadRoll",value:function(e,t,i){this.datasource.preloadRoll(e,t,i)}},{key:"loadVariant",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[[0,Number.POSITIVE_INFINITY]],r=this.datasource,o=this.media;n(e,t,i,a),r.load(e,t,i,a,!1),t.drm?o.drmInfo={keySystem:t.drm.keySystem,keySystemServer:t.drm.keySystemServer}:o.drmInfo=null}},{key:"preloadVariant",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[[0,Number.POSITIVE_INFINITY]];n(e,t,i,a),this.datasource.preload(e,t,i=null,a),t.drm&&(this.media.drmInfo={keySystem:t.drm.keySystem,keySystemServer:t.drm.keySystemServer})}},{key:"switchVariant",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.config,n=this.datasource,r=this.media,o="boolean"!=typeof t.isClearBuffer||t.isClearBuffer;if("boolean"!=typeof i&&(i=a.switchVariantImmediate),!this.media.hasOperateBufferData&&this.datasource.eof)return void y["default"].warn("this stream will end, can't switch variant!");if(r.variantSwitching=!0,o&&r.clearOperateBuffers(n.matEnabled?"video":void 0),y["default"].log("switching variant, immediate: "+i+", paused: "+r.paused+", currentTimeRange: "+r.currentTimeRange+", isClearBuffer: "+o),i||r.paused||!r.currentTimeRange)n.load(e,t,null,null,!0),o&&e!==A["default"].DASH&&(r.flushBuffer(),r.once(k["default"].BUFFER_FLUSHED,function(){n.seek(r.currentTime,!0,o)}));else{var s=r.currentTime,d=r.bufferInfo(s),u=n.getSegmentByPTS(s),l=null;e!==A["default"].DASH&&(l=this.mediaBufferInfo.end),n.load(e,t,d.end,null,!0,l),o&&e!==A["default"].DASH&&u&&u.startTime>1&&r.flushBuffer(0,u.startTime-1)}this.error&&(this.error=null,this.media.checkIdle())}},{key:"switchAudioVariant",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.config,a=this.datasource,n=this.media,r=null;if(n.clearOperateBuffers("audio"),e){var o=n.currentTime;t="boolean"==typeof t?t:i.switchVariantImmediate,t?(r=o,n.flushBuffer(o)):r=n.bufferInfo(o).end,y["default"].log("switching audio variant, immediate: "+t)}else y["default"].log("closing audio variant~");a.loadAltAudio(e,r)}},{key:"seek",value:function(e){this.media.variantSwitching=!1,this.media.currentTime=parseFloat(e),this.media.resetStalledGap(!0)}},{key:"updateMediaRanges",value:function(e){var t=this.datasource,i=this.media;t.range(e),i.appendWindowStart=t.playRanges.start(0),i.appendWindowEnd=t.playRanges.end(t.playRanges.length-1)}},{key:"getCurrentADGas",value:function(){return this.datasource.getCurrentADGas()}},{key:"abortCurrentADGas",value:function(){var e=this.datasource,t=this.media;this.isRolling&&(e.abortCurrentADGas()||(t.off(k["default"].BUFFER_FLUSHED,this._onAbortCurrentADGas),t.once(k["default"].BUFFER_FLUSHED,this._onAbortCurrentADGas)),t.clearOperateBuffers(),t.flushBuffer())}},{key:"abortRollingStream",value:function(){var e=this.datasource;this.isRolling&&e.endOfPlayingStream()}},{key:"recoverMedia",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=this.datasource,i=this.media;e=e<0?i.currentTime:e,this.error=null,this._recovering=!0,this.teset=!0,y["default"].log("media will recovery from "+e),i.reset(),i.resetStalledGap(!0),t.recoverImmediately(e)}},{key:"changeEndPatch",value:function(e,t,i){var a=this.datasource;t?this.loadRoll(e,t,i):a.deleteEndPatch()}},{key:"reset",value:function(){this._unbindEvents(),this.error=null,this.media.reset(),this.datasource.reset(),this._bindEvents()}},{key:"destroy",value:function(){var e=this.datasource,t=this.media;this._startPlayed=!1,this.emit(k["default"].DESTROYING),this._unbindEvents(),this._pumpTimer.cancel(),this.error=null,e.destroy(),t.destroy(),this.emit(k["default"].DESTROYED)}}]),t}(v["default"]);W.manifestParser=D["default"],W.datasource=O["default"],W.Mux=N["default"],W.media=C["default"],W.Events=k["default"],W.Error=S["default"],W.ManifestTypes=A["default"],W.RollTypes=E["default"],W.NetProxy=L["default"],W.Conf=U["default"],W.externals=G["default"],t["default"]=W},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=i(3),r=a(n),o=i(54),s=a(o),d="function"==typeof s["default"]&&"symbol"==typeof r["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof s["default"]&&e.constructor===s["default"]&&e!==s["default"].prototype?"symbol":typeof e};t["default"]="function"==typeof s["default"]&&"symbol"===d(r["default"])?function(e){return void 0===e?"undefined":d(e)}:function(e){return e&&"function"==typeof s["default"]&&e.constructor===s["default"]&&e!==s["default"].prototype?"symbol":void 0===e?"undefined":d(e)}},function(e,t,i){e.exports={"default":i(4),__esModule:!0}},function(e,t,i){i(5),i(49),e.exports=i(53).f("iterator")},function(e,t,i){var a=i(6)(!0);i(9)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=a(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){var a=i(7),n=i(8);e.exports=function(e){return function(t,i){var r,o,s=String(n(t)),d=a(i),u=s.length;return d<0||d>=u?e?"":void 0:(r=s.charCodeAt(d),r<55296||r>56319||d+1===u||(o=s.charCodeAt(d+1))<56320||o>57343?e?s.charAt(d):r:e?s.slice(d,d+2):o-56320+(r-55296<<10)+65536)}}},function(e,t){var i=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:i)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var a=i(10),n=i(11),r=i(27),o=i(16),s=i(28),d=i(29),u=i(45),l=i(47),c=i(46)("iterator"),f=!([].keys&&"next"in[].keys()),_=function(){return this};e.exports=function(e,t,i,h,p,b,g){d(i,t,h);var v,m,y,x=function(e){if(!f&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},k=t+" Iterator",w="values"==p,S=!1,T=e.prototype,A=T[c]||T["@@iterator"]||p&&T[p],I=A||x(p),E=p?w?x("entries"):I:void 0,P="Array"==t?T.entries||A:A;if(P&&(y=l(P.call(new e)))!==Object.prototype&&y.next&&(u(y,k,!0),a||"function"==typeof y[c]||o(y,c,_)),w&&A&&"values"!==A.name&&(S=!0,I=function(){return A.call(this)}),a&&!g||!f&&!S&&T[c]||o(T,c,I),s[t]=I,s[k]=_,p)if(v={values:w?I:x("values"),keys:b?I:x("keys"),entries:E},g)for(m in v)m in T||r(T,m,v[m]);else n(n.P+n.F*(f||S),t,v);return v}},function(e,t){e.exports=!0},function(e,t,i){var a=i(12),n=i(13),r=i(14),o=i(16),s=i(26),d=function(e,t,i){var u,l,c,f=e&d.F,_=e&d.G,h=e&d.S,p=e&d.P,b=e&d.B,g=e&d.W,v=_?n:n[t]||(n[t]={}),m=v.prototype,y=_?a:h?a[t]:(a[t]||{}).prototype;_&&(i=t);for(u in i)(l=!f&&y&&void 0!==y[u])&&s(v,u)||(c=l?y[u]:i[u],v[u]=_&&"function"!=typeof y[u]?i[u]:b&&l?r(c,a):g&&y[u]==c?function(e){var t=function(t,i,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?r(Function.call,c):c,p&&((v.virtual||(v.virtual={}))[u]=c,e&d.R&&m&&!m[u]&&o(m,u,c)))};d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){var i=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=i)},function(e,t,i){var a=i(15);e.exports=function(e,t,i){if(a(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,a){return e.call(t,i,a)};case 3:return function(i,a,n){return e.call(t,i,a,n)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var a=i(17),n=i(25);e.exports=i(21)?function(e,t,i){return a.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var a=i(18),n=i(20),r=i(24),o=Object.defineProperty;t.f=i(21)?Object.defineProperty:function(e,t,i){if(a(e),t=r(t,!0),a(i),n)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var a=i(19);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){e.exports=!i(21)&&!i(22)(function(){return 7!=Object.defineProperty(i(23)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){e.exports=!i(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var a=i(19),n=i(12).document,r=a(n)&&a(n.createElement);e.exports=function(e){return r?n.createElement(e):{}}},function(e,t,i){var a=i(19);e.exports=function(e,t){if(!a(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!a(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!a(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!a(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){e.exports=i(16)},function(e,t){e.exports={}},function(e,t,i){var a=i(30),n=i(25),r=i(45),o={};i(16)(o,i(46)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=a(o,{next:n(1,i)}),r(e,t+" Iterator")}},function(e,t,i){var a=i(18),n=i(31),r=i(43),o=i(40)("IE_PROTO"),s=function(){},d=function(){var e,t=i(23)("iframe"),a=r.length;for(t.style.display="none",i(44).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;a--;)delete d.prototype[r[a]];return d()};e.exports=Object.create||function(e,t){var i;return null!==e?(s.prototype=a(e),i=new s,s.prototype=null,i[o]=e):i=d(),void 0===t?i:n(i,t)}},function(e,t,i){var a=i(17),n=i(18),r=i(32);e.exports=i(21)?Object.defineProperties:function(e,t){n(e);for(var i,o=r(t),s=o.length,d=0;s>d;)a.f(e,i=o[d++],t[i]);return e}},function(e,t,i){var a=i(33),n=i(43);e.exports=Object.keys||function(e){return a(e,n)}},function(e,t,i){var a=i(26),n=i(34),r=i(37)(!1),o=i(40)("IE_PROTO");e.exports=function(e,t){var i,s=n(e),d=0,u=[];for(i in s)i!=o&&a(s,i)&&u.push(i);for(;t.length>d;)a(s,i=t[d++])&&(~r(u,i)||u.push(i));return u}},function(e,t,i){var a=i(35),n=i(8);e.exports=function(e){return a(n(e))}},function(e,t,i){var a=i(36);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var a=i(34),n=i(38),r=i(39);e.exports=function(e){return function(t,i,o){var s,d=a(t),u=n(d.length),l=r(o,u);if(e&&i!=i){for(;u>l;)if((s=d[l++])!=s)return!0}else for(;u>l;l++)if((e||l in d)&&d[l]===i)return e||l||0;return!e&&-1}}},function(e,t,i){var a=i(7),n=Math.min;e.exports=function(e){return e>0?n(a(e),9007199254740991):0}},function(e,t,i){var a=i(7),n=Math.max,r=Math.min;e.exports=function(e,t){return e=a(e),e<0?n(e+t,0):r(e,t)}},function(e,t,i){var a=i(41)("keys"),n=i(42);e.exports=function(e){return a[e]||(a[e]=n(e))}},function(e,t,i){var a=i(13),n=i(12),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:a.version,mode:i(10)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var i=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+a).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var a=i(12).document;e.exports=a&&a.documentElement},function(e,t,i){var a=i(17).f,n=i(26),r=i(46)("toStringTag");e.exports=function(e,t,i){e&&!n(e=i?e:e.prototype,r)&&a(e,r,{configurable:!0,value:t})}},function(e,t,i){var a=i(41)("wks"),n=i(42),r=i(12).Symbol,o="function"==typeof r;(e.exports=function(e){return a[e]||(a[e]=o&&r[e]||(o?r:n)("Symbol."+e))}).store=a},function(e,t,i){var a=i(26),n=i(48),r=i(40)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),a(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,i){var a=i(8);e.exports=function(e){return Object(a(e))}},function(e,t,i){i(50);for(var a=i(12),n=i(16),r=i(28),o=i(46)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),d=0;d<s.length;d++){var u=s[d],l=a[u],c=l&&l.prototype;c&&!c[o]&&n(c,o,u),r[u]=r.Array}},function(e,t,i){var a=i(51),n=i(52),r=i(28),o=i(34);e.exports=i(9)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,i):"values"==t?n(0,e[i]):n(0,[i,e[i]])},"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){t.f=i(46)},function(e,t,i){e.exports={"default":i(55),__esModule:!0}},function(e,t,i){i(56),i(66),i(67),i(68),e.exports=i(13).Symbol},function(e,t,i){var a=i(12),n=i(26),r=i(21),o=i(11),s=i(27),d=i(57).KEY,u=i(22),l=i(41),c=i(45),f=i(42),_=i(46),h=i(53),p=i(58),b=i(59),g=i(62),v=i(18),m=i(19),y=i(48),x=i(34),k=i(24),w=i(25),S=i(30),T=i(63),A=i(65),I=i(60),E=i(17),P=i(32),D=A.f,q=E.f,O=T.f,R=a.Symbol,L=a.JSON,M=L&&L.stringify,C=_("_hidden"),F=_("toPrimitive"),N={}.propertyIsEnumerable,V=l("symbol-registry"),U=l("symbols"),B=l("op-symbols"),H=Object.prototype,j="function"==typeof R&&!!I.f,Q=a.QObject,Y=!Q||!Q.prototype||!Q.prototype.findChild,z=r&&u(function(){return 7!=S(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a})?function(e,t,i){var a=D(H,t);a&&delete H[t],q(e,t,i),a&&e!==H&&q(H,t,a)}:q,G=function(e){var t=U[e]=S(R.prototype);return t._k=e,t},W=j&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},K=function(e,t,i){return e===H&&K(B,t,i),v(e),t=k(t,!0),v(i),n(U,t)?(i.enumerable?(n(e,C)&&e[C][t]&&(e[C][t]=!1),i=S(i,{enumerable:w(0,!1)})):(n(e,C)||q(e,C,w(1,{})),e[C][t]=!0),z(e,t,i)):q(e,t,i)},X=function(e,t){v(e);for(var i,a=b(t=x(t)),n=0,r=a.length;r>n;)K(e,i=a[n++],t[i]);return e},Z=function(e,t){return void 0===t?S(e):X(S(e),t)},J=function(e){var t=N.call(this,e=k(e,!0));return!(this===H&&n(U,e)&&!n(B,e))&&(!(t||!n(this,e)||!n(U,e)||n(this,C)&&this[C][e])||t)},$=function(e,t){if(e=x(e),t=k(t,!0),e!==H||!n(U,t)||n(B,t)){var i=D(e,t);return!i||!n(U,t)||n(e,C)&&e[C][t]||(i.enumerable=!0),i}},ee=function(e){for(var t,i=O(x(e)),a=[],r=0;i.length>r;)n(U,t=i[r++])||t==C||t==d||a.push(t);return a},te=function(e){for(var t,i=e===H,a=O(i?B:x(e)),r=[],o=0;a.length>o;)!n(U,t=a[o++])||i&&!n(H,t)||r.push(U[t]);return r};j||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(i){this===H&&t.call(B,i),n(this,C)&&n(this[C],e)&&(this[C][e]=!1),z(this,e,w(1,i))};return r&&Y&&z(H,e,{configurable:!0,set:t}),G(e)},s(R.prototype,"toString",function(){return this._k}),A.f=$,E.f=K,i(64).f=T.f=ee,i(61).f=J,I.f=te,r&&!i(10)&&s(H,"propertyIsEnumerable",J,!0),h.f=function(e){return G(_(e))}),o(o.G+o.W+o.F*!j,{Symbol:R});for(var ie="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ae=0;ie.length>ae;)_(ie[ae++]);for(var ne=P(_.store),re=0;ne.length>re;)p(ne[re++]);o(o.S+o.F*!j,"Symbol",{"for":function(e){return n(V,e+="")?V[e]:V[e]=R(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),o(o.S+o.F*!j,"Object",{create:Z,defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var oe=u(function(){I.f(1)});o(o.S+o.F*oe,"Object",{getOwnPropertySymbols:function(e){return I.f(y(e))}}),L&&o(o.S+o.F*(!j||u(function(){var e=R();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,i,a=[e],n=1;arguments.length>n;)a.push(arguments[n++]);if(i=t=a[1],(m(t)||void 0!==e)&&!W(e))return g(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!W(t))return t}),a[1]=t,M.apply(L,a)}}),R.prototype[F]||i(16)(R.prototype,F,R.prototype.valueOf),c(R,"Symbol"),c(Math,"Math",!0),c(a.JSON,"JSON",!0)},function(e,t,i){var a=i(42)("meta"),n=i(19),r=i(26),o=i(17).f,s=0,d=Object.isExtensible||function(){return!0},u=!i(22)(function(){return d(Object.preventExtensions({}))}),l=function(e){o(e,a,{value:{i:"O"+ ++s,w:{}}})},c=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,a)){if(!d(e))return"F";if(!t)return"E";l(e)}return e[a].i},f=function(e,t){if(!r(e,a)){if(!d(e))return!0;if(!t)return!1;l(e)}return e[a].w},_=function(e){return u&&h.NEED&&d(e)&&!r(e,a)&&l(e),e},h=e.exports={KEY:a,NEED:!1,fastKey:c,getWeak:f,onFreeze:_}},function(e,t,i){var a=i(12),n=i(13),r=i(10),o=i(53),s=i(17).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=r?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,i){var a=i(32),n=i(60),r=i(61);e.exports=function(e){var t=a(e),i=n.f;if(i)for(var o,s=i(e),d=r.f,u=0;s.length>u;)d.call(e,o=s[u++])&&t.push(o);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var a=i(36);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,i){var a=i(34),n=i(64).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return n(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?s(e):n(a(e))}},function(e,t,i){var a=i(33),n=i(43).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},function(e,t,i){var a=i(61),n=i(25),r=i(34),o=i(24),s=i(26),d=i(20),u=Object.getOwnPropertyDescriptor;t.f=i(21)?u:function(e,t){if(e=r(e),t=o(t,!0),d)try{return u(e,t)}catch(e){}if(s(e,t))return n(!a.f.call(e,t),e[t])}},function(e,t){},function(e,t,i){i(58)("asyncIterator")},function(e,t,i){i(58)("observable")},function(e,t,i){e.exports={"default":i(70),__esModule:!0}},function(e,t,i){i(71),e.exports=i(13).Object.getPrototypeOf},function(e,t,i){var a=i(48),n=i(47);i(72)("getPrototypeOf",function(){return function(e){return n(a(e))}})},function(e,t,i){var a=i(11),n=i(13),r=i(22);e.exports=function(e,t){var i=(n.Object||{})[e]||Object[e],o={};o[e]=t(i),a(a.S+a.F*r(function(){i(1)}),"Object",o)}},function(e,t,i){t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){t.__esModule=!0;var a=i(2),n=function(e){return e&&e.__esModule?e:{"default":e}}(a);t["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,n["default"])(t))&&"function"!=typeof t?e:t}},function(e,t,i){t.__esModule=!0;var a=i(76),n=function(e){return e&&e.__esModule?e:{"default":e}}(a);t["default"]=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,n["default"])(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}()},function(e,t,i){e.exports={"default":i(77),__esModule:!0}},function(e,t,i){i(78);var a=i(13).Object;e.exports=function(e,t,i){return a.defineProperty(e,t,i)}},function(e,t,i){var a=i(11);a(a.S+a.F*!i(21),"Object",{defineProperty:i(17).f})},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=i(80),r=a(n),o=i(84),s=a(o),d=i(2),u=a(d);t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,u["default"])(t)));e.prototype=(0,s["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r["default"]?(0,r["default"])(e,t):e.__proto__=t)}},function(e,t,i){e.exports={"default":i(81),__esModule:!0}},function(e,t,i){i(82),e.exports=i(13).Object.setPrototypeOf},function(e,t,i){var a=i(11);a(a.S,"Object",{setPrototypeOf:i(83).set})},function(e,t,i){var a=i(19),n=i(18),r=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=i(14)(Function.call,i(65).f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return r(e,i),t?e.__proto__=i:a(e,i),e}}({},!1):void 0),check:r}},function(e,t,i){e.exports={"default":i(85),__esModule:!0}},function(e,t,i){i(86);var a=i(13).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,i){var a=i(11);a(a.S,"Object",{create:i(30)})},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(92),g=a(b),v=i(93),m=a(v),y=i(105),x=a(y),k=i(112),w=a(k),S=i(114),T=a(S),A=i(108),I=a(A),E=i(115),P=a(E),D=i(119),q=a(D),O=function(e){function t(){(0,s["default"])(this,t);var e=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e._eventManager=new w["default"],e._pumpTimer=new T["default"](function(){return e._doPump("timer")}),e.hasReceivedVideoIS=!1,e.hasReceivedAudioIS=!1,e._onAbortCurrentADGas=e._onAbortCurrentADGas.bind(e),e}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"_bindEvents",value:function(){var e=this.datasource,t=this.media;this._eventManager.on(t,g["default"].STATE_CHANGE,this._onMediaStateChange.bind(this)),this._eventManager.on(t,g["default"].MSE_ATTACHED,this._onMSEAttached.bind(this)),this._eventManager.on(t,g["default"].BUFFER_EXPECTING,this._onMediaBufferExpect.bind(this)),this._eventManager.on(t,g["default"].BUFFER_UPDATED,this._onMediaBufferUpdated.bind(this)),this._eventManager.on(e,g["default"].STATE_CHANGE,this._onDSStateChange.bind(this)),this._eventManager.on(e,"stream_start",this._onDSStreamStart.bind(this)),this._eventManager.on(this,g["default"].DATA_STAGE_SWITCHING,this._onstageChanging.bind(this))}},{key:"_unbindEvents",value:function(){this._eventManager.removeAll()}},{key:"_emitError",value:function(e){m["default"].assert(e instanceof x["default"],"Wrong error type!"),null==this.error&&e instanceof x["default"]&&(this.error=e,this.emit(g["default"].ERROR,e),this._recovering=!1)}},{key:"_onMediaStateChange",value:function(e,t){var i=this.datasource,a=this.media,n=!0;switch(t.state){case"loadstart":this.isRolling&&i.openAdLoadStart(),n=!1;break;case"loadedmetadata":this._loadedmetadata||(this._loadedmetadata=!0,this._seekToStartPos()),this.isRolling&&i.openAdLoadStart();break;case"afterended":a.loop||i.endOfPlayingStream();break;case"seeking":var r=a.currentTime;if(m["default"].log("seeking("+r+")"),i.currentTime=r,I["default"].browser.FIREFOX){var o=this.duration;if(m["default"].log("duration("+o+")"),r>o-1)return void this.seek(o-1)}if(this._seekingKeyframe)return void(this._seekingKeyframe=!1);this._seekingMayIgnored||a.withinBuffer(r)||(a.hasOperateBufferData&&a.clearOperateBuffers(),a.flushBuffer(),i.seek(r),a.appendWindowStart=i.playRanges.start(0),a.appendWindowEnd=i.playRanges.end(i.playRanges.length-1),this._doPump("seeking")),this._seekingMayIgnored=!1;break;case"seeked":break;case"timeupdate":i.currentTime=a.currentTime;break;case"waiting":var s=a.bufferInfo(a.currentTime).len;(a.readyState>=3&&!I["default"].browser.EDGE||!a.seeking&&a.updating||s>.1||s<=.1&&i.error||i.bufferInfo().len>0)&&(n=!1),i.openReBufTime=!0;break;case"playing":this._startPlayed=!0,this._recovering=!1,i.openReBufTime=!1}n&&this.emit(g["default"].STATE_CHANGE,t)}},{key:"_onMSEAttached",value:function(){var e=(this.datasource,this.media),t=this.config;e.duration=t.mediaMaxDuration,this._loadedmetadata=!1,this._seekingKeyframe=!1,this._doPump("mse_attached"),this.emit(g["default"].BUFFER_CREATED)}},{key:"_isSafetyToEOS",value:function(){var e=this.media;return!e.hasOperateBufferData&&!e.updating&&!e.isEndOfStream}},{key:"_onMediaBufferExpect",value:function(e,t){var i=this.datasource,a=this.media,n=!1;if(i.error&&t.len<=1){var r=i.error.category,o=i.error.code,s=[x["default"].category.MUX],d=[];if(s.indexOf(r)>-1||d.indexOf(o)>-1)n=!0;else{i.bufferInfo().len<5&&(n=!0)}}if(n&&i.playingStream.ignoreError)return void(this._isSafetyToEOS()&&a.endOfStream());n?this._emitError(i.error):i.eof?this._isSafetyToEOS()&&a.endOfStream():this._doPump("buf_exp")}},{key:"_onMediaBufferUpdated",value:function(e,t){var i=this.config,a=this.datasource,n=this.media,r=(a.duration,n.duration,t.sourceBufferType),o=t.operateType,s=t.previousBufferedLength;if(i.alwaysSeekKeyframe&&"append"===o&&"video"===r&&0===s&&n.videoBuffered&&n.videoBuffered.length>0){var d=n.videoBuffered.start(0);n.currentTime!==d&&(this._seekingKeyframe=!0,d+=.08,m["default"].log("Due to alwaysSeekKeyframe, seeking to video buffered start@"+d),n.currentTime=d)}a.eof&&this._isSafetyToEOS()&&n.endOfStream()}},{key:"_onDSStateChange",value:function(e){this.emit(g["default"].STATE_CHANGE,e)}},{key:"_onDSStreamStart",value:function(){var e=this.datasource,t=this.media;t.off(g["default"].BUFFER_FLUSHED,this._onAbortCurrentADGas),t.reset(),t.appendWindowStart=e.playRanges.start(0),t.appendWindowEnd=e.playRanges.end(e.playRanges.length-1)}},{key:"_onAbortCurrentADGas",value:function(){var e=this.media;this.isRolling&&(e.currentTime=0)}},{key:"_seekToStartPos",value:function(){var e=this.config,t=this.datasource,i=this.media;if(t.playRanges.length>0)if(t.recoverPoint){var a=t.recoverPoint;delete t.recoverPoint,a>0&&(m["default"].log("media recovery complete, seek by datasource recover point "+a),i.currentTime=a,t.recoverImmediatelyed())}else{var n=t.playRanges.start(0);if(I["default"].browser.SAFARI){var r=e.safariMinStartTime;n<r&&(n=r)}n>0&&(this._seekingMayIgnored=!0,m["default"].log("seek by metadata~"),i.currentTime=n)}else m["default"].warn("playRanges is empty, pls fix it.")}},{key:"_doPump",value:function(e){var t=(this.config,this.datasource),i=this.media,a=null,n=null;if("open"===i.mseReadyState&&!this.bufferOperating){var r=i.bufferInfo(i.currentTime,"audio"),o=i.bufferInfo(i.currentTime,"video"),s=t.pump();a=s.video,n=s.audio;for(var d=[a,n],u=0;u<d.length;u++){var l=d[u];if(l instanceof q["default"])switch(l.type){case q["default"].TYPES.video:this.hasReceivedVideoIS=!0;break;case q["default"].TYPES.audio:this.hasReceivedAudioIS=!0}else if(l instanceof P["default"])if(l.origin===P["default"].ORIGINS.DASH);else{var c=l.type===P["default"].TYPES.video?o:r,f=c.start,_=c.end,h=l.startTime,p=l.duration,b=h+p,g="append seg start/end("+h+"/"+b+"), buffer start/end("+f+"/"+_+")";if(b+.1<c.end){switch(l.type){case P["default"].TYPES.video:a=null;break;case P["default"].TYPES.audio:n=null}m["default"].log("ignore pumped "+l.type+" fmp4, "+g)}}}}if(null==a&&null==n)return this._pumpTimer.cancel(),void this._pumpTimer.schedule(.1);for(var v=[a,n],y=!1,x=[],k=0;k<v.length;k++){var w=v[k];if(w){if(!y){var S=i.currentTime,T=t.getSegmentByPTS(S);if(T){var A=T.startTime-1;A>0&&i.withinBuffer(A)&&i.flushBuffer(0,A)}y=!0}if(w instanceof P["default"]){var I=w.startTime,E=w.duration,D=I+E;m["default"].log("append "+w.bytesArray.length+" piece of "+w.type+" buffer, start/end/duration("+I.toFixed(3)+"/"+D.toFixed(3)+"/"+E.toFixed(3)+")")}else w instanceof q["default"]&&m["default"].log("append "+w.type+" initSegment");x.push(w)}}i.appendBuffer(x)}},{key:"_onstageChanging",value:function(){this._startPlayed=!1}}]),t}(p["default"]);t["default"]=O},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){return void 0===e._maxListeners?N.defaultMaxListeners:e._maxListeners}function r(e,t,i){if(t)e.call(i);else for(var a=e.length,n=g(e,a),r=0;r<a;++r)try{n[r].call(i)}catch(e){console.error(e)}}function o(e,t,i,a){if(t)e.call(i,a);else for(var n=e.length,r=g(e,n),o=0;o<n;++o)try{r[o].call(i,a)}catch(e){console.error(e)}}function s(e,t,i,a,n){if(t)e.call(i,a,n);else for(var r=e.length,o=g(e,r),s=0;s<r;++s)try{o[s].call(i,a,n)}catch(e){console.error(e)}}function d(e,t,i,a,n,r){if(t)e.call(i,a,n,r);else for(var o=e.length,s=g(e,o),d=0;d<o;++d)try{s[d].call(i,a,n,r)}catch(e){console.error(e)}}function u(e,t,i,a){if(t)e.apply(i,a);else for(var n=e.length,r=g(e,n),o=0;o<n;++o)try{r[o].apply(i,a)}catch(e){console.error(e)}}function l(e,t,i){var a,r,o;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if(r=e._events,r?(r.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),r=e._events),o=r[t]):(r=e._events=L(null),e._eventsCount=0),o){if("function"==typeof o?o=r[t]=[o,i]:o.push(i),!o.warned&&(a=n(e))&&a>0&&o.length>a){o.warned=!0;var s=new Error("Possible Dispatcher memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,"object"===("undefined"==typeof console?"undefined":(0,w["default"])(console))&&console.warn&&console.warn("%s: %s",s.name,s.message)}}else o=r[t]=i,++e._eventsCount;return e}function c(e,t){var i,a,n,r,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(a=this._events))return this;if(!(i=a[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=L(null):(delete a[e],a.off&&this.emit("off",e,i.listener||t));else if("function"!=typeof i){for(n=-1,r=i.length-1;r>=0;r--)if(i[r]===t||i[r].listener===t){o=i[r].listener,n=r;break}if(n<0)return this;0===n?i.shift():b(i,n),1===i.length&&(a[e]=i[0]),a.off&&this.emit("off",e,o||t)}return this}function f(){if(!this.fired)switch(this.target.off(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _(e,t,i){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},n=C.call(f,a);return n.listener=i,a.wrapFn=n,n}function h(e,t,i){var a=e._events;if(!a)return[];var n=a[t];return n?"function"==typeof n?i?[n.listener||n]:[n]:i?v(n):g(n,n.length):[]}function p(e){var t=this._events;if(t){var i=t[e];if("function"==typeof i)return 1;if(i)return i.length}return 0}function b(e,t){for(var i=t,a=i+1,n=e.length;a<n;i+=1,a+=1)e[i]=e[a];e.pop()}function g(e,t){for(var i=new Array(t),a=0;a<t;++a)i[a]=e[a];return i}function v(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function m(e){var t=function(){};return t.prototype=e,new t}function y(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return i}function x(e){var t=this;return function(){return t.apply(e,arguments)}}Object.defineProperty(t,"__esModule",{value:!0});var k=i(2),w=a(k),S=i(76),T=a(S),A=i(73),I=a(A),E=i(75),P=a(E),D=i(89),q=a(D),O=i(84),R=a(O),L=R["default"]||m,M=q["default"]||y,C=Function.prototype.bind||x,F=10,N=function(){function e(){(0,I["default"])(this,e),this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=L(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}return(0,P["default"])(e,null,[{key:"listenerCount",value:function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)}}]),(0,P["default"])(e,[{key:"emit",value:function(e){var t,i,a,n,l,c,f="error"===e;if(c=this._events)f=f&&null==c.error;else if(!f)return!1;if(f){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var _=new Error('Unhandled "error" event. ('+t+")");throw _.context=t,_}if(!(i=c[e]))return!1;var h="function"==typeof i;switch(a=arguments.length){case 1:r(i,h,this);break;case 2:o(i,h,this,arguments[1]);break;case 3:s(i,h,this,arguments[1],arguments[2]);break;case 4:d(i,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(n=new Array(a-1),l=1;l<a;l++)n[l-1]=arguments[l];u(i,h,this,n)}return!0}},{key:"on",value:function(e,t){return l(this,e,t)}},{key:"once",value:function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_(this,e,t)),this}},{key:"off",value:function(e,t){return c.call(this,e,t)}},{key:"removeAllListeners",value:function(e){var t,i,a;if(!(i=this._events))return this;if(!i.off)return 0===arguments.length?(this._events=L(null),this._eventsCount=0):i[e]&&(0==--this._eventsCount?this._events=L(null):delete i[e]),this;if(0===arguments.length){var n,r=M(i);for(a=0;a<r.length;++a)"off"!==(n=r[a])&&this.removeAllListeners(n);return this.removeAllListeners("off"),this._events=L(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.off(e,t);else if(t)for(a=t.length-1;a>=0;a--)this.off(e,t[a]);return this}},{key:"listeners",value:function(e){return h(this,e,!0)}},{key:"rawListeners",value:function(e){return h(this,e,!1)}},{key:"listenerCount",value:function(){return e.listenerCount.apply(this,arguments)}}]),e}();t["default"]=N;var V=void 0;try{var U={};T["default"]&&Object.defineProperty(U,"x",{value:0}),V=0===U.x}catch(e){V=!1}V?Object.defineProperty(N,"defaultMaxListeners",{enumerable:!0,get:function(){return F},set:function(e){if("number"!=typeof e||e<0||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');F=e}}):N.defaultMaxListeners=F},function(e,t,i){e.exports={"default":i(90),__esModule:!0}},function(e,t,i){i(91),e.exports=i(13).Object.keys},function(e,t,i){var a=i(48),n=i(32);i(72)("keys",function(){return function(e){return n(a(e))}})},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={ERROR:"qvsError",DESTROYING:"qvsDestroying",DESTROYED:"qvsDestroying",STATE_CHANGE:"qvsStateChange",STREAM_BEFORE_ENDED:"qvsStreamBeforeEnded",STREAM_ENCRYPTED:"qvsStreamEncrypted",MSE_ATTACHING:"qvsMSEAttaching",MSE_ATTACHED:"qvsMSEAttached",MSE_DETACHING:"qvsMSEDetaching",MSE_DETACHED:"qvsMediaDetached",MEDIA_IDLE:"qvsMediaIdle",BUFFER_RESET:"qvsBufferReset",BUFFER_CODECS:"qvsBufferCodecs",BUFFER_CREATED:"qvsBufferCreated",BUFFER_UPDATED:"qvsBufferUpdated",BUFFER_EXPECTING:"qvsBufferExpecting",BUFFER_APPENDING:"qvsBufferAppending",BUFFER_APPENDED:"qvsBufferAppended",BUFFER_EOS:"qvsBufferEos",BUFFER_FLUSHING:"qvsBufferFlushing",BUFFER_FLUSHED:"qvsBufferFlushed",MANIFEST_LOADING:"qvsManifestLoading",MANIFEST_LOADED:"qvsManifestLoaded",MANIFEST_PARSED:"qvsManifestParsed",DATA_EOD:"qvsDataEOD",DATA_STAGE_SWITCHING:"qvsDataStageSwitching",DATA_STAGE_SWITCHED:"qvsDataStageSwitched",AUDIO_TRACK_SWITCHED_FAILED:"qvsTrackSwitchedFailed",AUDIO_TRACK_SWITCHED_SUCCESSED:"qvsTrackSwitchedSuccessed",LEVEL_SWITCH:"qvsLevelSwitch",LEVEL_SWITCHING:"qvsLevelSwitching",LEVEL_SWITCHED:"qvsLevelSwitched",LEVEL_LOADING:"qvsLevelLoading",LEVEL_LOADED:"qvsLevelLoaded",LEVEL_UPDATED:"qvsLevelUpdated",LEVEL_PTS_UPDATED:"qvsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"qvsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"qvsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"qvsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"qvsAudioTrackSwitched",AUDIO_TRACK_LOADING:"qvsAudioTrackLoading",AUDIO_TRACK_LOADED:"qvsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"qvsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"qvsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"qvsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"qvsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"qvsSubtitleFragProcessed",INIT_PTS_FOUND:"qvsInitPtsFound",FRAG_LOADING:"qvsFragLoading",FRAG_LOAD_PROGRESS:"qvsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"qvsFragLoadEmergencyAborted",FRAG_LOADED:"qvsFragLoaded",FRAG_DECRYPTED:"qvsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"qvsFragParsingInitSegment",FRAG_PARSING_USERDATA:"qvsFragParsingUserdata",FRAG_PARSING_METADATA:"qvsFragParsingMetadata",FRAG_PARSING_DATA:"qvsFragParsingData",FRAG_PARSED:"qvsFragParsed",FRAG_BUFFERED:"qvsFragBuffered",FRAG_CHANGED:"qvsFragChanged",FPS_REPORT:"qvsFpsReport",FPS_STUCK:"qvsFpsStuck",KEY_LOADING:"qvsKeyLoading",KEY_LOADED:"qvsKeyLoaded",STREAM_STATE_TRANSITION:"qvsStreamStateTransition",DNS_PARSER_SUCCESS:"dns_parser_success"}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){k=e}function r(){return T}Object.defineProperty(t,"__esModule",{value:!0});var o=i(94),s=a(o),d=i(69),u=a(d),l=i(73),c=a(l),f=i(74),_=a(f),h=i(75),p=a(h),b=i(79),g=a(b);t.setLogger=n,t.getLogger=r;var v=i(104),m=a(v),y=i(88),x=a(y),k=m["default"].console,w="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof importScripts,S=function(e){function t(){(0,c["default"])(this,t);var e=(0,_["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this));return e._enable=!1,e}return(0,g["default"])(t,e),(0,p["default"])(t,[{key:"enable",get:function(){return this._enable},set:function(e){this._enable=e,this.MSG_NAME="__log__"}}]),(0,p["default"])(t,[{key:"log",value:function(){if(w)T.emit(this.MSG_NAME,"log",[].concat(Array.prototype.slice.call(arguments)).join(""));else if(this._enable){var e;(e=k.log).call.apply(e,[k,">>>"].concat(Array.prototype.slice.call(arguments)))}}},{key:"debug",value:function(){if(w)T.emit(this.MSG_NAME,"debug",[].concat(Array.prototype.slice.call(arguments)).join(""));else if(this._enable&&k.debug){var e;(e=k.debug).call.apply(e,[k,">>>"].concat(Array.prototype.slice.call(arguments)))}}},{key:"assert",value:function(){if(this._enable&&k.assert){var e,t=arguments[0],i=Array.prototype.slice.call(arguments,1);i.unshift(">>>"),(e=k.assert).call.apply(e,[k,t].concat((0,s["default"])(i)))}}},{key:"warn",value:function(){if(w)T.emit(this.MSG_NAME,"warn",[].concat(Array.prototype.slice.call(arguments)).join(""));else if(this._enable){var e;(e=k.warn).call.apply(e,[k,">>>"].concat(Array.prototype.slice.call(arguments)))}}},{key:"error",value:function(){if(w)T.emit(this.MSG_NAME,"error",[].concat(Array.prototype.slice.call(arguments)).join(""));else if(this._enable){var e;(e=k.error).call.apply(e,[k,">>>"].concat(Array.prototype.slice.call(arguments)))}}}]),t}(x["default"]),T=new S;t["default"]=T},function(e,t,i){t.__esModule=!0;var a=i(95),n=function(e){return e&&e.__esModule?e:{"default":e}}(a);t["default"]=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,n["default"])(e)}},function(e,t,i){e.exports={"default":i(96),__esModule:!0}},function(e,t,i){i(5),i(97),e.exports=i(13).Array.from},function(e,t,i){var a=i(14),n=i(11),r=i(48),o=i(98),s=i(99),d=i(38),u=i(100),l=i(101);n(n.S+n.F*!i(103)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,n,c,f=r(e),_="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,b=void 0!==p,g=0,v=l(f);if(b&&(p=a(p,h>2?arguments[2]:void 0,2)),void 0==v||_==Array&&s(v))for(t=d(f.length),i=new _(t);t>g;g++)u(i,g,b?p(f[g],g):f[g]);else for(c=v.call(f),i=new _;!(n=c.next()).done;g++)u(i,g,b?o(c,p,[n.value,g],!0):n.value);return i.length=g,i}})},function(e,t,i){var a=i(18);e.exports=function(e,t,i,n){try{return n?t(a(i)[0],i[1]):t(i)}catch(t){var r=e["return"];throw void 0!==r&&a(r.call(e)),t}}},function(e,t,i){var a=i(28),n=i(46)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||r[n]===e)}},function(e,t,i){var a=i(17),n=i(25);e.exports=function(e,t,i){t in e?a.f(e,t,n(0,i)):e[t]=i}},function(e,t,i){var a=i(102),n=i(46)("iterator"),r=i(28);e.exports=i(13).getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||r[a(e)]}},function(e,t,i){var a=i(36),n=i(46)("toStringTag"),r="Arguments"==a(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=o(t=Object(e),n))?i:r?a(t):"Object"==(s=a(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,i){var a=i(46)("iterator"),n=!1;try{var r=[7][a]();r["return"]=function(){n=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var i=!1;try{var r=[7],o=r[a]();o.next=function(){return{done:i=!0}},r[a]=function(){return o},e(r)}catch(e){}return i}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a=void 0;a="undefined"==typeof window?self:window,t["default"]=a},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(106),u=a(d),l=i(109),c=a(l),f=i(110),_=a(f),h=i(111),p=a(h),b=function(){function e(t,i,a,n){if((0,r["default"])(this,e),this.severity=t,this.category=i,this.code=a,this.data=Array.prototype.slice.call(arguments,3),this.handled=!1,u["default"].DEBUG){var o="UNKNOWN",s="UNKNOWN";for(var d in _["default"])_["default"][d]===this.category&&(o=d);for(var l in p["default"])p["default"][l]===this.code&&(s=l);this.message="QVS Error "+o+"."+s+" ("+this.data.toString()+")";try{throw new Error(this.message)}catch(e){this.stack=e.stack}}}return(0,s["default"])(e,null,[{key:"severity",get:function(){return c["default"]}},{key:"category",get:function(){return _["default"]}},{key:"code",get:function(){return p["default"]}}]),e}();t["default"]=b},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(107),u=a(d),l=i(108),c=a(l),f=!1,_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r["default"])(this,e);var i=c["default"].browser.CHROME&&(c["default"].browser.version.major<50||50===c["default"].browser.version.major&&c["default"].browser.version.build<2661);this.enableWorker=!0,this.alwaysSeekKeyframe=!!(i||c["default"].browser.FIREFOX||c["default"].browser.EDGE||c["default"].browser.IE),this.switchVariantImmediate=!1,this.bufferExpectLength=5,this.mediaMaxDuration=86400,this.nudgeOffset=.1,this.nudgeMaxRetry=3,this.maxBufferHole=.5,this.maxBufferTimeLength=60,this.hlsRangeTSTolerance=5,this.hlsMaxSegmentSearchTolerance=.25,this.drm={retryParameters:{maxRetry:3,timeout:6e3},servers:{}},this.datasource={retryParameters:{maxRetry:2,timeout:2e4}},this.loaderWithBufferMaxRetry=3,this.loaderNoBufferMaxRetry=1,this.fpsStuckMonitoringPeriod=5,this.safariMinStartTime=.2,this.useP2PInHls=!0,(0,u["default"])(this,t,!0,!0)}return(0,s["default"])(e,null,[{key:"DEBUG",set:function(e){f=e},get:function(){return f}}]),e}();t["default"]=_},function(e,t,i){function a(e,t,i,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return t&&function(e,t){var i;for(i in e)if(r(e,i)&&t(e[i],i))break}(t,function(t,o){!i&&r(e,o)||(n&&"string"!=typeof t&&"boolean"!=typeof t?(e[o]||(e[o]={}),a(e[o],t,i,n)):e[o]=t)}),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a={},n={},r=navigator,o=r.userAgent.toLowerCase(),s=/(edge)\/([\w.]+)/.exec(o)||/(opr)[\/]([\w.]+)/.exec(o)||/(chrome)[ \/]([\w.]+)/.exec(o)||/(firefox)[ \/]([\w.]+)/.exec(o)||/(iemobile)[\/]([\w.]+)/.exec(o)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(o)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(o)||/(webkit)[ \/]([\w.]+)/.exec(o)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(o)||/(msie) ([\w.]+)/.exec(o)||o.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(o)||o.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(o)||[],d=/(ipad)/.exec(o)||/(ipod)/.exec(o)||/(windows phone)/.exec(o)||/(iphone)/.exec(o)||/(kindle)/.exec(o)||/(silk)/.exec(o)||/(android)/.exec(o)||/(win)/.exec(o)||/(mac)/.exec(o)||/(linux)/.exec(o)||/(cros)/.exec(o)||/(playbook)/.exec(o)||/(bb)/.exec(o)||/(blackberry)/.exec(o)||[],u={},l={browser:s[5]||s[3]||s[1]||"",version:s[2]||s[4]||"0",versionNumber:s[4]||s[2]||"0",platform:d[0]||""};if(l.browser){u[l.browser]=!0;var c=l.versionNumber.split(".");u.version={major:parseInt(l.versionNumber,10),string:l.version},c.length>1&&(u.version.minor=parseInt(c[1],10)),c.length>2&&(u.version.build=parseInt(c[2],10))}n.version=u.version,n.CHROME=!!u.chrome,n.SAFARI=!!u.safari&&!n.CHROME,n.FIREFOX=!!u.firefox,n.IE11=/rv:11/.test(o),n.IE=!!u.msie||n.IE11,n.EDGE=!!u.edge,n.WECHAT=/(wechat)|(micromessenger)/.test(o),a.mac=!!l.platform.mac,a.iphone=!!l.platform.iphone,a.android=!!l.platform.android,t["default"]={browser:n,os:a}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={IGNORABLE:0,RECOVERABLE:1,CRITICAL:2}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={NETWORK:1,MANIFEST:2,MEDIA:3,DATA_SOURCE:4,MUX:5,DRM:6}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={NET_UNSUPPORTED_SCHEME:1e3,NET_HTTPS_UNMATCHED_HTTP_SCHEME:1001,MEDIA_VIDEO_ERROR:3e3,MEDIA_SOURCE_OPERATION_FAILED:3001,MEDIA_SOURCE_OPERATION_THREW:3002,MEDIA_QUOTA_EXCEEDED:3003,MEDIA_HIGH_BUFFER:3004,UNSUPPORTED_PLAY_RANGE:4e3,DATA_P2P_DISPATCH:4100,DATA_P2P_LOAD:4101,DATA_P2P_LOAD_ACCESS:4102,DATA_P2P_MEMORY_ALLOC:4103,DATA_P2P_DASH_BYTES_LENGTH:4104,DATA_P2P_AUTH:4105,DATA_HLS_DISPATCH_TIMEOUT:4200,DATA_HLS_DISPATCH_ERROR:4201,DATA_HLS_CDN_TIMEOUT:4202,DATA_HLS_CDN_ERROR:4203,DATA_AUTH_Error:4204,DATA_FLV_TIMEOUT:4301,DATA_FLV_ERROR:4302,DATA_FLV_DISPATCH_ERROR:4303,DATA_AD_ERROR:4702,DATA_AUDIO_LOADED_ERROR:4601,DATA_AUDIO_LOADED_TIMEOUT:4602,DATA_AUDIO_DISPATHED_ERROR:4603,DATA_AUDIO_DISPATHED_TIMEOUT:4604,MUX_UNKNOWN_FAILED:5e3,MUX_WORKER_INTERNAL_EXCEPTION:5001,MUX_WORKER_MESSAGE_EXCEPTION:5002,MUX_TS_SYNC_BYTE:5003,DRM_NO_RECOGNIZED_KEY_SYSTEMS:6e3,DRM_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,DRM_FAILED_TO_CREATE_CDM:6002,DRM_FAILED_TO_ATTACH_TO_VIDEO:6003,DRM_FAILED_TO_CREATE_SESSION:6005,DRM_FAILED_TO_GENERATE_LICENSE_REQUEST:6006,DRM_LICENSE_REQUEST_ERROR:6007,DRM_LICENSE_REQUEST_TIMEOUT:6008,DRM_NO_LICENSE_SERVER_RESPONSE:6009,DRM_LICENSE_RESPONSE_REJECTED:6010,DRM_NO_LICENSE_SERVER_GIVEN:6012,DRM_NO_RECOGNIZED_ERROR:6013,DRM_NO_BASIC_SUPPORT:6014}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(113),u=a(d),l=function(){function e(){(0,r["default"])(this,e),this._bindingMap=new u["default"]}return(0,s["default"])(e,[{key:"destroy",value:function(){this.removeAll(),this._bindingMap=null}},{key:"on",value:function(t,i,a){if(this._bindingMap){var n=new e._Binding(t,i,a);this._bindingMap.push(i,n)}}},{key:"once",value:function(e,t,i){this.on(e,t,function(a){this.off(e,t),i(a)}.bind(this))}},{key:"off",value:function(e,t){if(this._bindingMap)for(var i=this._bindingMap.get(t)||[],a=0;a<i.length;++a){var n=i[a];n.target==e&&(n.off(),this._bindingMap.remove(t,n))}}},{key:"removeAll",value:function(){if(this._bindingMap){for(var e=this._bindingMap.getAll(),t=0;t<e.length;++t)e[t].off();this._bindingMap.clear()}}}]),e}();t["default"]=l,l._Binding=function(e,t,i){this.target=e,this.type=t,this.listener=i,this.target.addEventListener?this.target.addEventListener(t,i,!1):this.target.on&&this.target.on(t,i,!1)},l._Binding.prototype.off=function(){this.target.removeEventListener?this.target.removeEventListener(this.type,this.listener,!1):this.target.off&&this.target.off(this.type,this.listener,!1),this.target=null,this.listener=null}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(){(0,r["default"])(this,e),this.map_={}}return(0,s["default"])(e,[{key:"push",value:function(e,t){this.map_.hasOwnProperty(e)?this.map_[e].push(t):this.map_[e]=[t]}},{key:"get",value:function(e){var t=this.map_[e];return t?t.slice():null}},{key:"getAll",value:function(){var e=[];for(var t in this.map_)e.push.apply(e,this.map_[t]);return e}},{key:"remove",value:function(e,t){var i=this.map_[e];if(i)for(var a=0;a<i.length;++a)i[a]==t&&(i.splice(a,1),--a)}},{key:"clear",value:function(){this.map_={}}},{key:"forEach",value:function(e){for(var t in this.map_)e(t,this.map_[t])}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(t){(0,r["default"])(this,e),this._id=null,this._frequency=1/0,this._callback=function(){t()}.bind(this)}return(0,s["default"])(e,[{key:"cancel",value:function(){null!=this._id&&(clearTimeout(this._id),this._id=null)}},{key:"schedule",value:function(e){this.cancel(),this.adjustFrequency(e),this._id=setTimeout(this._callback,this._frequency)}},{key:"scheduleRepeated",value:function(e){this.cancel(),this.adjustFrequency(e);var t=function(){this._callback(),this.running&&(this._id=setTimeout(t,this._frequency))}.bind(this);this._id=setTimeout(t,this._frequency)}},{key:"adjustFrequency",value:function(e){this._frequency=1e3*e}},{key:"running",get:function(){return null!==this._id}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(116),p=a(h),b=i(117),g=a(b),v=i(118),m=a(v),y=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e));return i._startTime=null,i._duration=0,i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"startTime",get:function(){return this._startTime},set:function(e){this._startTime=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}}]),t}(m["default"]);y.TYPES=g["default"],y.ORIGINS=p["default"],t["default"]=y},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={HLS:0,DASH:1,F4V:2,FLV:2,MP4:3,AMP4:4}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={mixed:"mixed",video:"video",audio:"audio"}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(t){(0,r["default"])(this,e),this._type=t,this._origin=null,this._bytesArray=[]}return(0,s["default"])(e,[{key:"type",get:function(){return this._type}},{key:"origin",get:function(){return this._origin},set:function(e){this._origin=e}},{key:"byteLength",get:function(){var e=0;return this._bytesArray.forEach(function(t){e+=t.byteLength}),e}},{key:"bytesArray",get:function(){return this._bytesArray},set:function(e){if(!Array.isArray(e))throw"init segment bytes type should be an array";this._bytesArray=e}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(116),p=a(h),b=i(117),g=a(b),v=i(118),m=a(v),y=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e));return i._container="",i._codec="",i._trackId=null,i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"container",get:function(){return this._container},set:function(e){this._container=e}},{key:"codec",get:function(){return this._codec},set:function(e){this._codec=e}},{key:"trackId",get:function(){return this._trackId},set:function(e){this._trackId=e}}]),t}(m["default"]);y.TYPES=g["default"],y.ORIGINS=p["default"],t["default"]=y},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={PRE_ROLL:0,MID_ROLL:1,POST_ROLL:2}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(116),g=a(b),v=i(123),m=a(v),y=i(129),x=a(y),k=function(e){function t(){(0,s["default"])(this,t);var e=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e._parser=null,e}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"manifestType",get:function(){var e=void 0;return this._parser&&(this._parser instanceof m["default"]?e=g["default"].HLS:this._parser instanceof x["default"]&&(e=g["default"].DASH)),e}},{key:"parser",get:function(){return this._parser}},{key:"duration",get:function(){return this._parser?this._parser.duration:0}},{key:"segments",get:function(){return this._parser?this._parser.segments:[]}},{key:"tracks",get:function(){return this._parser?this._parser.tracks:null}},{key:"isAccurateTimeStamp",get:function(){return this._parser?this._parser.isAccurateTimeStamp:null}}]),(0,c["default"])(t,[{key:"push",value:function(e){switch(e.type){case g["default"].HLS:this._parser=new m["default"];break;case g["default"].DASH:this._parser=new x["default"]}this._parser&&this._parser.push(e.chunk)}},{key:"end",value:function(){this._parser&&this._parser.end()}},{key:"reset",value:function(){this._parser&&this._parser.reset()}}]),t}(p["default"]);t["default"]=k},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this))}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"pipe",value:function(e){return this.on("reset",function(){e.reset()}),this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e}},{key:"unpipe",value:function(){return this.removeAllListeners("reset"),this.removeAllListeners("data"),this.removeAllListeners("done"),this}},{key:"push",value:function(e){this.emit("data",e)}},{key:"flush",value:function(e){this.emit("done",e)}},{key:"reset",value:function(){this.emit("reset")}}]),t}(p["default"]);t["default"]=b},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(116),p=a(h),b=i(122),g=a(b),v=i(124),m=a(v),y=i(125),x=a(y),k=i(126),w=a(k),S=i(127),T=a(S),A=i(93),I=a(A),E=i(128),P=a(E),D=function(e){function t(){(0,s["default"])(this,t);var e=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this)),i=e;return i._bid="",i.metadata=new P["default"],i.protocol=window.location.protocol,i._accurateTimestamp=!1,i.reset(),e}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"totalDuration",get:function(){var e=this.fragments,t=0;if(e.length>0){var i=e[e.length-1];if(i.segments.length>0){var a=i.segments[i.segments.length-1];t=a.startTime+a.duration}}return t}},{key:"segments",get:function(){for(var e,t=this.fragments,i=[],a=0;a<t.length;a++){e=t[a];for(var n=0;n<e.segments.length;n++)i.push(e.segments[n])}return i}},{key:"isAccurateTimeStamp",get:function(){return this._accurateTimestamp}}]),(0,c["default"])(t,[{key:"push",value:function(e){this._premanifest=+new Date,this._bid=e.bid,this.metadata.hasAudio=!0,this.metadata.hasVideo=!0,this._parseFunc(e.data)}},{key:"_parseFunc",value:function(e){var t=this;if(e&&""!=e){t.fragments=[];var i=t._parseData(e),a=i.durations,n=i.urls,r=i.sds,o=i.starts,s=i.ends,d=i.parts;if(t._accurateTimestamp=r&&r.length>0,n.length>0){var u=void 0,l=void 0,c=void 0,f=void 0,_=0,h=0,b=0,g=void 0,v=void 0;r.length>0&&(r[0]=0);for(var y=0;y<n.length;y++){var k=t.protocol+n[y],S=a[y],T=o[y],A=s[y],E=d[y],P=void 0;c&&c===E||(c&&(P=u),u=new x["default"](p["default"].HLS),u.idx=_,h=0,t.fragments.push(u),_+=1),l=new m["default"](p["default"].HLS),l.uri=new w["default"](k),l.idx=h,l.startByte=T,l.endByte=A,l.poolId=t.uuid+"-"+u.idx+"-"+h,l.bid=t._bid,l.duration=S,h+=1,t._accurateTimestamp?(b=r[y]/1e3,v>-1&&b<v&&(I["default"].log("manifest correct sd , "+b+" -> "+(v+g.duration)),b=v+g.duration),l.startTime=b,g&&(g.duration=b-g.startTime),g=l,v=b):(l.startTime=b,b+=S),u.segments.push(l),P?t._resetFragInfo(P,f):y==n.length-1&&t._resetFragInfo(u,k),c=E,f=k}}}}},{key:"_parseData",value:function(e){for(var t=[],i=[],a=[],n=[],r=[],o=[],s=/(#EXTINF:\d+)|(\/\/\S*)/g,d=/(start=\d+)|(end=\d+)/g,u=/(&sd=\d+)|(\/\/\S*\?)/g,l=void 0;null!==(l=s.exec(e));)l[0].indexOf("#EXTINF")>-1?t.push(parseInt(l[0].replace("#EXTINF:",""),10)):i.push(l[0]);for(;null!==(l=d.exec(e));)l[0].indexOf("start=")>-1?n.push(parseInt(l[0].replace("start=",""),10)):r.push(parseInt(l[0].replace("end=",""),10));for(;null!==(l=u.exec(e));)l[0].indexOf("&sd=")>-1?a.push(parseInt(l[0].replace("&sd=",""),10)):o.push(l[0]);return{durations:t,urls:i,sds:a,starts:n,ends:r,parts:o}}},{key:"_resetFragInfo",value:function(e,t){var i=e.segments[0],a=e.segments[e.segments.length-1];e.startTime=i.startTime,e.duration=a.startTime+a.duration-e.startTime,e.bid=this._bid;var n=i.startByte,r=a.endByte;t=t.replace(/start=\d+&/g,"start="+n+"&"),t=t.replace(/contentlength=\d+&/g,"contentlength="+(r-n)+"&"),t=t.replace(/sd=\d+&/g,"sd="+1e3*i.startTime+"&"),e.uri=new w["default"](t)}},{key:"end",value:function(){this._endmanifest=+new Date,I["default"].log("hlsmanifest parse m3u8,"+(this._endmanifest-this._premanifest))}},{key:"reset",value:function(){this.metadata=new P["default"],this._accurateTimestamp=!1,this.fragments=[],this.uuid=T["default"].create()}},{key:"copyData",value:function(e){this.uuid=e.uuid,this._accurateTimestamp=e.isAccurateTimeStamp,this.metadata.hasAudio=e.metadata.hasAudio,this.metadata.hasVideo=e.metadata.hasVideo,this.fragments=[];var t=e.fragments;I["default"].log("manifest copyData , segments.length = "+t.length+", "+e.segments.length);for(var i=0;i<t.length;i++){t[i].status=0;for(var a=0;a<t[i].segments.length;a++)t[i].segments[a].status=0;this.fragments.push(t[i])}}}]),t}(g["default"]);t["default"]=D},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(t){(0,r["default"])(this,e),this._type=t,this._status=0,this._enabled=!0,this._startTime=null,this._startByte=null,this._endByte=null,this._duration=0,this._idx=null,this._fragIdx=null,this._uri="",this._poolId="",this._fragKey="",this._bid=""}return(0,s["default"])(e,[{key:"type",get:function(){return this._type}},{key:"uri",get:function(){return this._uri},set:function(e){this._uri=e}},{key:"startTime",get:function(){return this._startTime},set:function(e){this._startTime=e}},{key:"startByte",get:function(){return this._startByte},set:function(e){this._startByte=e}},{key:"endByte",get:function(){return this._endByte},set:function(e){this._endByte=e}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=!!e}},{key:"status",get:function(){return this._status},set:function(e){this._status=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"idx",get:function(){return this._idx},set:function(e){this._idx=e}},{key:"fragIdx",get:function(){return this._fragIdx},set:function(e){this._fragIdx=e}},{key:"poolId",set:function(e){this._poolId=e},get:function(){return this._poolId}},{key:"fragKey",get:function(){return this._fragKey},set:function(e){this._fragKey=e}},{key:"bid",set:function(e){this._bid=e},get:function(){return this._bid}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(126),u=(a(d),i(127)),l=a(u),c=function(){function e(t){(0,r["default"])(this,e),this._type=t,this._status=0,this._enabled=!0,this._seekable=!0,this._startTime=null,this._startByte=null,this._endByte=null,this._duration=0,this._idx=null,this._uri="",this._isAd=!1,this._segments=[],this._gas=null,this._offset=0,this._key=l["default"].create(),this._bid=""}return(0,s["default"])(e,[{key:"type",get:function(){return this._type}},{key:"uri",get:function(){return this._uri},set:function(e){this._uri=e}},{key:"startTime",get:function(){return this._startTime},set:function(e){this._startTime=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"endTime",get:function(){return this._startTime+this._duration}},{key:"startByte",get:function(){return this._startByte},set:function(e){this._startByte=e}},{key:"endByte",get:function(){return this._endByte},set:function(e){this._endByte=e}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=!!e}},{key:"status",get:function(){return this._status},set:function(e){this._status=e}},{key:"idx",get:function(){return this._idx},set:function(e){this._idx=e}},{key:"segments",get:function(){return this._segments}},{key:"isAd",get:function(){return this._isAd},set:function(e){this._isAd=e}},{key:"seekable",get:function(){return this._seekable},set:function(e){this._seekable=e}},{key:"gas",get:function(){return this._gas},set:function(e){this._gas=e}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}},{key:"key",get:function(){return this._key}},{key:"bid",set:function(e){this._bid=e},get:function(){return this._bid}}]),e}();t["default"]=c},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},c=function(){function e(t){(0,s["default"])(this,e),this._encodedQuery=t||null,this.count_=null}return(0,u["default"])(e,[{key:"ensureKeyMapInitialized_",value:function(){if(!this.keyMap_&&(this.keyMap_={},this.count_=0,this._encodedQuery))for(var e=this._encodedQuery.split("&"),t=0;t<e.length;t++){var i=e[t].indexOf("="),a=null,n=null;i>=0?(a=e[t].substring(0,i),n=e[t].substring(i+1)):a=e[t],a=decodeURIComponent(a.replace(/\+/g," ")),n=n||"",this.add(a,decodeURIComponent(n.replace(/\+/g," ")))}}},{key:"getCount",value:function(){return this.ensureKeyMapInitialized_(),this.count_}},{key:"add",value:function(e,t){this.ensureKeyMapInitialized_(),this._encodedQuery=null;var i=this.keyMap_.hasOwnProperty(e)&&this.keyMap_[e];return i||(this.keyMap_[e]=i=[]),i.push(t),this.count_++,this}},{key:"update",value:function(e,t){return this.ensureKeyMapInitialized_(),this._encodedQuery=null,(this.keyMap_[e]=[]).push(t),this}},{key:"get",value:function(e){return this.ensureKeyMapInitialized_(),this.keyMap_[e]}},{key:"clone",value:function(){var t=new e;if(t._encodedQuery=this._encodedQuery,this.keyMap_){var i={};for(var a in this.keyMap_)i[a]=this.keyMap_[a].concat();t.keyMap_=i,t.count_=this.count_}return t}},{key:"toString",value:function(){if(this._encodedQuery)return this._encodedQuery;if(!this.keyMap_)return"";var e=[];for(var t in this.keyMap_)for(var i=encodeURIComponent(t),a=this.keyMap_[t],n=0;n<a.length;n++){var r=i;r+="="+encodeURIComponent(a[n]),e.push(r)}return this._encodedQuery=e.join("&")}},{key:"toDecodedString",value:function(){return f.decodeOrEmpty(this.toString())}}]),e}(),f=function(){function e(t){(0,s["default"])(this,e);var i;this._scheme="",this._domain="",this._port="",this._userInfo="",this._path="",this._query=new c,this._hash="",this._reDisallowedInQuery=/[\#\?@]/g,this._reDisallowedInSchemeOrUserInfo=/[#\/\?@]/g,this._reDisallowedInRelativePath=/[\#\?:]/g,this._reDisallowedInAbsolutePath=/[\#\?]/g,this._reDisallowedInFragment=/#/g,"object"===(void 0===t?"undefined":(0,r["default"])(t))&&t instanceof this?(this.setScheme(t.scheme),this.setUserInfo(t.userInfo),this.setDomain(t.domain),this.setPort(t.port),this.setPath(t.path),this.setQueryData(t.query.clone()),this.setHash(t.hash)):t&&(i=this.split(String(t)))?(this.setScheme(i[l.SCHEME]||"",!0),this.setUserInfo(i[l.USER_INFO]||"",!0),this.setDomain(i[l.DOMAIN]||"",!0),this.setPort(i[l.PORT]),this.setPath(i[l.PATH]||"",!0),this.setQueryData(i[l.QUERY_DATA]||"",!0),this.setHash(i[l.FRAGMENT]||"",!0)):this._query=new c(null,null)}return(0,u["default"])(e,[{key:"scheme",get:function(){return this._scheme}},{key:"domain",get:function(){return this._domain}},{key:"port",get:function(){return this._port}},{key:"userInfo",get:function(){return this._userInfo}},{key:"path",get:function(){return this._path}},{key:"hash",get:function(){return this._hash}},{key:"query",get:function(){return this._query}}],[{key:"decodeOrEmpty",value:function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}}]),(0,u["default"])(e,[{key:"setScheme",value:function(t,i){return this._scheme=i?e.decodeOrEmpty(t,!0):t,this._scheme&&(this._scheme=this._scheme.replace(/:$/,"")),this}},{key:"toString",value:function(){var e=[],t=this.scheme;t&&e.push(this._encodeSpecialChars(t,this._reDisallowedInSchemeOrUserInfo,!0),":");var i=this.getDomain();if(i){e.push("//");var a=this.userInfo;a&&e.push(this._encodeSpecialChars(a,this._reDisallowedInSchemeOrUserInfo,!0),"@"),e.push(this._removeDoubleEncoding(encodeURIComponent(i)));var n=this.port;null!=n&&e.push(":",String(n))}var r=this.path;r&&(this.hasDomain()&&"/"!=r.charAt(0)&&e.push("/"),e.push(this._encodeSpecialChars(r,"/"==r.charAt(0)?this._reDisallowedInAbsolutePath:this._reDisallowedInRelativePath,!0)));var o=this.getEncodedQuery();o&&e.push("?",o);var s=this.hash;return s&&e.push("#",this._encodeSpecialChars(s,this._reDisallowedInFragment)),e.join("")}},{key:"split",value:function(e){var t=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");return e.match(t)}},{key:"setUserInfo",value:function(t,i){return this._userInfo=i?e.decodeOrEmpty(t):t,this}},{key:"hasDomain",value:function(){return!!this._domain}},{key:"setDomain",value:function(t,i){return this._domain=i?e.decodeOrEmpty(t,!0):t,this}},{key:"getDomain",value:function(){return this._domain}},{key:"setPort",value:function(e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);this._port=e}else this._port=null;return this}},{key:"setPath",value:function(t,i){return this._path=i?e.decodeOrEmpty(t,!0):t,this}},{key:"setQueryData",value:function(e,t){return"object"===(void 0===e?"undefined":(0,r["default"])(e))&&e instanceof this.query?this._query=e:(t||(e=this._encodeSpecialChars(e,this._reDisallowedInQuery)),this._query=new c(e,null)),this}},{key:"getEncodedQuery",value:function(){return this._query.toString()}},{key:"setHash",value:function(t,i){return this._hash=i?e.decodeOrEmpty(t):t,this}},{key:"_encodeSpecialChars",value:function(e,t,i){if("string"==typeof e){var a=encodeURI(e).replace(t,this._encodeChar);return i&&(a=this._removeDoubleEncoding(a)),a}return null}},{key:"_encodeChar",value:function(e){var t=e.charCodeAt(0);return"%"+(t>>4&15).toString(16)+(15&t).toString(16)}},{key:"_removeDoubleEncoding",value:function(e){return e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")}}]),e}();t["default"]=f},function(e,t,i){function a(){return Math.ceil(1e16*Math.random()+(new Date).getTime()).toString(32)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={create:a}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(){(0,r["default"])(this,e),this._hasAudio=!1,this._hasVideo=!1}return(0,s["default"])(e,[{key:"hasAudio",set:function(e){this._hasAudio=e},get:function(){return this._hasAudio}},{key:"hasVideo",set:function(e){this._hasVideo=e},get:function(){return this._hasVideo}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(130),g=a(b),v=i(131),m=a(v),y=i(124),x=a(y),k=i(116),w=a(k),S=i(128),T=a(S),A=function(e){function t(){(0,s["default"])(this,t);var e=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e.metadata=new T["default"],e.trackStream=new g["default"],e.parseStream=new m["default"],e.trackStream.pipe(e.parseStream),e._duration=0,e._tracks={},e.manifest={allowCache:!0,discontinuityStarts:[]},e.parseStream.on("data",function(t){e._tracks[t.type]=t,"audio"===t.type?e.metadata.hasAudio=!0:"video"===t.type&&(e.metadata.hasVideo=!0)}),e}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"tracks",get:function(){return this._tracks}},{key:"duration",get:function(){return this._duration}}]),(0,c["default"])(t,[{key:"_newURI",value:function(){return new x["default"](w["default"].DASH)}},{key:"push",value:function(e){this._duration=e.duration,this.trackStream.push(e)}},{key:"end",value:function(){}},{key:"reset",value:function(){this.metadata=new T["default"],this.trackStream.empty(),this._tracks={},this._duration=0}}]),t}(p["default"]);t["default"]=A},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=a(n),o=i(69),s=a(o),d=i(73),u=a(d),l=i(75),c=a(l),f=i(74),_=a(f),h=i(79),p=a(h),b=i(122),g=a(b),v=function(e){function t(){return(0,u["default"])(this,t),(0,_["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this))}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"push",value:function(e){for(var t in e)"object"===(0,r["default"])(e[t])&&Array.isArray(e[t].type)&&/(video|audio)/gi.test(e[t].type.join(""))&&this.emit("data",e[t])}},{key:"empty",value:function(){}}]),t}(g["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(132),g=a(b),v=i(124),m=a(v),y=i(116),x=a(y),k=i(126),w=a(k),S=i(134),T=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this))}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t={},i=e.files.length;t.type=Array.isArray(e.type)?e.type[0]:e.type,t.totolDuration=parseInt(e.duration_second,10),t.codec=e.codec,t.initSegment=g["default"].fromBase64(e.codec_init),t.initDataType=e.encryption_scheme,t.segments=[],i>0&&(e.files[0].seekable.hasOwnProperty("pos")?this.parseOldData(t.segments,e.files,t.totolDuration):e.files[0].seekable.hasOwnProperty("pos_start")&&this.parseNewData(t.segments,e.files)),this.emit("data",t)}},{key:"parseOldData",value:function(e,t,i){for(var a=0,n=void 0,r=void 0,o=void 0,s=!1,d=t.length;a<d;a++){n=t[a],r=n.size,o=n.start_second,s=a===d-1;for(var u,l,c,f=0;f<n.seekable.time.length;f++)u=new m["default"](x["default"].DASH),l=e[e.length-1],c=n.seekable.pos[f+1],u.uri=new w["default"](n.file_name),(0,S.isHttps)()&&u.uri.setScheme("https"),u.idx=f,u.startTime=o+n.seekable.time[f],l&&(l.duration=u.startTime-l.startTime,s&&"number"!=typeof c&&(u.duration=i-u.startTime)),u.startByte=n.seekable.pos[f],u.endByte="number"==typeof c?c:r,e.push(u)}}},{key:"parseNewData",value:function(e,t){for(var i=0,a=void 0,n=void 0,r=t.length;i<r;i++)n=t[i],a=new m["default"](x["default"].DASH),a.uri=new w["default"](n.file_name),(0,S.isHttps)()&&a.uri.setScheme("https"),a.idx=i,a.duration=n.seekable.time_end-n.seekable.time_start,a.startTime=n.start_second,a.startByte=n.seekable.pos_start,a.endByte=n.seekable.pos_end,e.push(a)}}]),t}(p["default"]);t["default"]=T},function(e,t,i){function a(e){for(var t=window.atob(e.replace(/-/g,"+").replace(/_/g,"/")),i=new Uint8Array(t.length),a=0;a<t.length;++a)i[a]=t.charCodeAt(a);return i}function n(e,t){var i=(0,d.fromCharCode)(e);t=void 0==t||t;var a=window.btoa(i).replace(/\+/g,"-").replace(/\//g,"_");return t?a:a.replace(/=*$/,"")}function r(e){for(var t=new Uint8Array(e.length/2),i=0;i<e.length;i+=2)t[i/2]=window.parseInt(e.substr(i,2),16);return t}function o(e){for(var t="",i=0;i<e.length;++i){var a=e[i].toString(16);1==a.length&&(a="0"+a),t+=a}return t}function s(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!=t[i])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var d=i(133);t["default"]={toBase64:n,fromBase64:a,toHex:o,fromHex:r,equal:s}},function(e,t,i){function a(e){for(var t="",i=0;i<e.length;i+=16e3){var a=e.subarray(i,i+16e3);t+=String.fromCharCode.apply(null,a)}return t}function n(e){e=window.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t="",i=0;i<e.length;i++)t+=("0"+e.charCodeAt(i).toString(16)).substr(-2);return t}function r(e){return window.btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=*$/,"")}function o(e,t,i){if(!e)return"";var n=void 0;if(e instanceof ArrayBuffer)n=e;else{var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(e)),n=r.buffer}for(var o=Math.floor(e.byteLength/2),s=new Uint16Array(o),d=new DataView(n),u=0;u<o;u++)s[u]=d.getUint16(2*u,t);return a(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.fromCharCode=a,t.base64ToHex=n,t.toBase64=r,t.fromUTF16=o,t["default"]={fromCharCode:a,base64ToHex:n,toBase64:r,fromUTF16:o}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){return!!e&&"object"==(void 0===e?"undefined":(0,_["default"])(e))}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return(0,c["default"])(e)===(0,c["default"])({})}function o(e){return/^https/gi.test(e||window.location.protocol)}function s(e){return"number"==typeof e&&!isNaN(e)}function d(e){return n(e)&&"[object arraybuffer]"===h.call(e).toLowerCase()}function u(e){return n(e)&&"[object uint8array]"===h.call(e).toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0});var l=i(135),c=a(l),f=i(2),_=a(f);t.isObjectLike=n,t.isEmptyObject=r,t.isHttps=o,t.isNumber=s,t.isArrayBuffer=d,t.isUint8Array=u;var h=Object.prototype.toString},function(e,t,i){e.exports={"default":i(136),__esModule:!0}},function(e,t,i){var a=i(13),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(94),r=a(n),o=i(138),s=a(o),d=i(69),u=a(d),l=i(73),c=a(l),f=i(74),_=a(f),h=i(75),p=a(h),b=i(79),g=a(b),v=i(141),m=a(v),y=i(299),x=a(y),k=i(312),w=a(k),S=i(92),T=a(S),A=i(116),I=a(A),E=i(93),P=a(E),D=i(105),q=a(D),O=i(107),R=a(O),L=i(112),M=a(L),C=i(88),F=a(C),N=i(143),V=a(N),U=i(119),B=a(U),H=i(115),j=a(H),Q=i(313),Y=a(Q),z=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c["default"])(this,t);var a=(0,_["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this));return a._eventManager=new M["default"],a._config=i,a._ctx=e,a._mainStage=new Y["default"](e),a._subStage=new Y["default"](e),a._matSynced=!1,a._stageSyncingAudioIS=null,a._stageSyncingAudioSegment=null,a._bindEvents(),a}return(0,g["default"])(t,e),(0,p["default"])(t,[{key:"mainStage",get:function(){return this._mainStage}},{key:"subStage",get:function(){return this._subStage}},{key:"playingStream",get:function(){var e=null;return this._mainStage&&(e=this._mainStage.playingStream),e}},{key:"currentTime",set:function(e){var t=this.playingStream;t&&(t.currentTime=e,this._mainStage.tryToSwitchStream(!1))}},{key:"duration",get:function(){var e=this.playingStream;return e?e.duration:0}},{key:"eof",get:function(){var e=!1,t=this._mainStage;if(this.isRolling)e=t.rollStream.eof;else if(this.isPatching)e=t.patchStream.eof;else{var i=t.movieStream;i&&(e=i.eof)&&this.matEnabled&&(e=null===this._stageSyncingAudioSegment||t.matStream.eof)}return e}},{key:"eod",get:function(){var e=!1,t=this._mainStage;if(this.isRolling)e=t.rollStream.eod;else if(this.isPatching)e=t.patchStream.eod;else{var i=t.movieStream;i&&(e=i.eod)&&this.matEnabled&&(e=t.matStream.eod)}return e}},{key:"preloaded",get:function(){return!!this._subStage&&this._subStage.size>0}},{key:"mediaRanges",get:function(){var e=new V["default"],t=this._mainStage;if(this.isRolling)e=t.rollStream.mediaRanges;else if(this.isPatching)e=t.patchStream.mediaRanges;else{var i=t.movieStream;i&&(e=i.mediaRanges)}return e}},{key:"playRanges",get:function(){var e=new V["default"],t=this._mainStage;if(this.isRolling)e=t.rollStream.playRanges;else if(this.isPatching)e=t.patchStream.playRanges;else{var i=t.movieStream;i&&(e=i.playRanges)}return e}},{key:"error",get:function(){var e=null,t=this._mainStage;if(this.isRolling)e=t.rollStream.error;else if(this.isPatching)e=t.patchStream.error;else{var i=t.movieStream;i&&(e=i.error),!e&&this.matEnabled&&(e=t.matStream.error)}return e}},{key:"matEnabled",get:function(){var e=this._mainStage.matStream;return!!e&&e.enabled}},{key:"isRolling",get:function(){var e=!1;return this.mainStage&&(e=this.mainStage.isRolling),e}},{key:"isPatching",get:function(){var e=!1;return this.mainStage&&(e=this.mainStage.isPatching),e}},{key:"isLast",get:function(){var e=!1;return this.mainStage&&(e=this.mainStage.isLast),e}},{key:"reBufTime",get:function(){return this.playingStream?this.playingStream.reBufTime:0}},{key:"openReBufTime",set:function(e){this.playingStream&&(this.playingStream.openReBufTime=e)}}]),(0,p["default"])(t,[{key:"_bindEvents",value:function(){this._eventManager.on(this._mainStage,Y["default"].Events.PLAYING_STREAM_CHANGED,this._onStageStreamChanged.bind(this)),this._eventManager.on(this._mainStage,Y["default"].Events.PLAYING_STREAM_PROGRESS,this._onStageStreamProgress.bind(this)),this._eventManager.on(this._mainStage,Y["default"].Events.ROLL_EOD,this._onRollEOD.bind(this)),this._eventManager.on(this._mainStage,Y["default"].Events.MOVIE_EOD,this._onMovieEOD.bind(this)),this._eventManager.on(this._mainStage,Y["default"].Events.STAGE_BEGIN,this._onStageBegin.bind(this)),this._eventManager.on(this._mainStage,Y["default"].Events.STAGE_END,this._onStageEnd.bind(this))}},{key:"_unbindEvents",value:function(){this._eventManager.removeAll()}},{key:"configure",value:function(e){e.datasource&&(0,R["default"])(this._config,e.datasource,!0,!0)}},{key:"loadRoll",value:function(e,t,i){var a=this._ctx,n=this._mainStage,r=t.isAD;t.hasOwnProperty("isAD")&&"boolean"==typeof t.isAD||(r=t.isAD=!1);var o=void 0;if(P["default"].log("datasource loadRoll, done="+i+" , isAd="+r),r){if(o=n.rollStream,o||i||(o=new w["default"](a,!1)),!o||o&&o.done&&i)return}else{if(o=n.patchStream)return void P["default"].log("datasource loadRoll error, has patchStream");o=new w["default"](a,!1)}var s=!o.filled;o.push({playSourceType:e,playSourceContent:t,done:i}),o.refreshFrags(),n.has(o)||n.add(o),s&&o.seek(0),i&&a.emit(T["default"].MANIFEST_LOADED)}},{key:"preloadRoll",value:function(e,t,i){var a=this._ctx,n=this._subStage,r=n.rollStream;if(P["default"].log("datasource preloadRoll, done="+i+",type="+t.type),r||i||(r=new w["default"](a,!0)),r&&!(r&&r.done&&i)){var o=!r.filled;r.push({playSourceType:e,playSourceContent:t,done:i}),r.refreshFrags(),o&&r.seek(0),n.has(r)||n.add(r)}}},{key:"load",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=this._ctx,s=this._mainStage,d=s.movieStream;if(d||(d=new m["default"](o,!1)),d.push({isSwitchLevel:n,playSourceType:e,playSourceContent:t}),d.range(i,a),s.has(d)||s.add(d),d.playRanges.length>0){if(d instanceof m["default"])if(n&&e===I["default"].DASH);else{var u=d.playRanges.start(0);null!==r&&n&&(u=r);var l=void 0===t.isClearBuffer||t.isClearBuffer;d.seek(u,n,l)}}else o._emitError(new q["default"](q["default"].severity.CRITICAL,q["default"].category.DATA_SOURCE,q["default"].code.UNSUPPORTED_PLAY_RANGE));o.emit(T["default"].MANIFEST_LOADED)}},{key:"preload",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments[3],n=this._ctx,r=this._subStage,o=r.movieStream;o||(o=new m["default"](n,!0)),o.push({playSourceType:e,playSourceContent:t}),o.range(i,a),o.playRanges.length>0&&o instanceof m["default"]&&o.seek(o.playRanges.start(0)),r.has(o)||r.add(o),P["default"].log("datasource preload , duration = "+o.duration)}},{key:"loadAltAudio",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this._ctx,a=this._mainStage,n=a.movieStream,r=a.matStream;r||(r=new x["default"](this._ctx)),a.has(r)||a.add(r),e?(r.enabled=!0,this._matSynced=!1,r.push({playSourceContent:e,trackId:n.audioTrackId}),r.range(t,n.mediaRanges.toArray()),r.playRanges.length<=0&&i._emitError(new q["default"](q["default"].severity.CRITICAL,q["default"].category.DATA_SOURCE,q["default"].code.UNSUPPORTED_PLAY_RANGE))):(r.enabled=!1,r.reset(),n.needInitSegment=!0)}},{key:"endOfPlayingStream",value:function(){this.mainStage.endOfPlayingStream()}},{key:"switchStage",value:function(){var e=this._ctx,t=this._mainStage,i=this._subStage;e.emit(T["default"].DATA_STAGE_SWITCHING),P["default"].log("qvs.datasource , switchStage");var a=!0,n=!1,r=void 0;try{for(var o,d=(0,s["default"])(t.values());!(a=(o=d.next()).done);a=!0){o.value.destroy()}}catch(e){n=!0,r=e}finally{try{!a&&d["return"]&&d["return"]()}finally{if(n)throw r}}t.clear();var u=!0,l=!1,c=void 0;try{for(var f,_=(0,s["default"])(i.values());!(u=(f=_.next()).done);u=!0){var h=f.value;h.silenced=!1,t.add(h)}}catch(e){l=!0,c=e}finally{try{!u&&_["return"]&&_["return"]()}finally{if(l)throw c}}i.clear(),e.emit(T["default"].DATA_STAGE_SWITCHED)}},{key:"seek",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=parseFloat(e);var a=this._mainStage,n=this.playRanges;this.isRolling?a.rollStream.seekable&&a.rollStream.seek(e):(this._matSynced=!1,this._stageSyncingAudioIS=null,this._stageSyncingAudioSegment=null,n.contain(e)||(a.movieStream.range(e),this.matEnabled&&a.matStream.range(e)),a.movieStream.seek(e,t,i),this.matEnabled&&a.matStream.seek(e))}},{key:"range",value:function(e){var t=this._mainStage,i=null,a=null;"number"==typeof e?(i=e,t.movieStream.range(i),this.matEnabled&&t.matStream.range(i)):Array.isArray(e)&&(a=e,t.movieStream.range(i,a),this.matEnabled&&t.matStream.range(i,a))}},{key:"pump",value:function(){var e=this._ctx,t=this._mainStage,i=this.matEnabled,a={video:null,audio:null},n=t.playingStream,o=t.movieStream,s=t.rollStream,d=t.matStream,u=t.patchStream;if(e.error||!n)return a;if(this.isRolling){if(!s.eof){var l=s.read();a.video=l.video,a.audio=l.audio}}else if(this.isPatching){if(!u.eof){var c=u.read();a.video=c.video,a.audio=c.audio}}else if(i){if(!o.eof&&!this._stageSyncingAudioSegment){var f=o.read();f.video&&(a.video=f.video),f.audio&&(f.audio instanceof B["default"]?this._stageSyncingAudioIS=f.audio:f.audio instanceof j["default"]&&(this._stageSyncingAudioSegment=f.audio))}if(!d.eof&&!this._matSynced){var _=null,h=[];this._stageSyncingAudioSegment&&(h=[this._stageSyncingAudioSegment.startTime,this._stageSyncingAudioSegment.duration]),_=d.read.apply(d,(0,r["default"])(h)),_&&(_ instanceof j["default"]?(a.audio=_,this._matSynced=!0):_ instanceof B["default"]&&(a.audio=_))}this._matSynced&&(this._matSynced=!1,this._stageSyncingAudioIS=null,this._stageSyncingAudioSegment=null)}else if(!o.eof)if(this._stageSyncingAudioIS)a.video=null,a.audio=this._stageSyncingAudioIS,this._stageSyncingAudioIS=null;else if(this._stageSyncingAudioSegment)a.video=null,a.audio=this._stageSyncingAudioSegment,this._matSynced=!1,this._stageSyncingAudioSegment=null;else{var p=o.read();p&&(a.video=p.video,a.audio=p.audio)}return a}},{key:"bufferInfo",value:function(){var e={len:0,start:0,end:0,buffered:null};return this.playingStream?this.playingStream.buffer:e}},{key:"recoverImmediately",value:function(e){var t=this._mainStage,i=this.playingStream,a=this.matEnabled;e=parseFloat(e),i&&(i.recoverImmediately(e),this.recoverPoint=e),a&&t.matStream.recoverImmediately(e)}},{key:"recoverImmediatelyed",value:function(){var e=this.playingStream;e&&e.recoverImmediatelyed()}},{key:"reset",value:function(){var e=!0,t=!1,i=void 0;try{for(var a,n=(0,s["default"])(this._mainStage.values());!(e=(a=n.next()).done);e=!0){a.value.destroy()}}catch(e){t=!0,i=e}finally{try{!e&&n["return"]&&n["return"]()}finally{if(t)throw i}}this._mainStage.clear();var r=!0,o=!1,d=void 0;try{for(var u,l=(0,s["default"])(this._subStage.values());!(r=(u=l.next()).done);r=!0){u.value.destroy()}}catch(e){o=!0,d=e}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw d}}this._subStage.clear()}},{key:"destroy",value:function(){this._unbindEvents();var e=!0,t=!1,i=void 0;try{for(var a,n=(0,s["default"])(this._mainStage.values());!(e=(a=n.next()).done);e=!0){a.value.destroy()}}catch(e){t=!0,i=e}finally{try{!e&&n["return"]&&n["return"]()}finally{if(t)throw i}}this._mainStage.clear(),this._mainStage=null;var r=!0,o=!1,d=void 0;try{for(var u,l=(0,s["default"])(this._subStage.values());!(r=(u=l.next()).done);r=!0){u.value.destroy()}}catch(e){o=!0,d=e}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw d}}this._subStage.clear(),this._subStage=null}},{key:"getSegmentByPTS",value:function(e){var t=null;return this.playingStream&&(t=this.playingStream.getSegmentByPTS(e)),t}},{key:"openAdLoadStart",value:function(){this._mainStage.rollStream.openLoadStart()}},{key:"getCurrentADGas",value:function(){return this._mainStage.rollStream.getCurrentADGas()}},{key:"getAdCurrentTime",value:function(){return this.isRolling&&this._mainStage?this._mainStage.rollStream.currentTime:0}},{key:"abortCurrentADGas",value:function(){return!!this.isRolling&&this._mainStage.rollStream.abortCurrentADGas()}},{key:"_onStageStreamChanged",value:function(){this.emit("stream_start")}},{key:"_onStageStreamProgress",value:function(){this.emit(T["default"].STATE_CHANGE,{state:"progress"})}},{key:"_onMovieEOD",value:function(){this.emit(T["default"].STATE_CHANGE,{state:"EOM"})}},{key:"_onRollEOD",value:function(){this.emit(T["default"].STATE_CHANGE,{state:"EOR"})}},{key:"_onStageBegin",value:function(){}},{key:"_onStageEnd",value:function(){this.preloaded&&this.switchStage()}},{key:"deleteEndPatch",value:function(){var e=this.mainStage;!this.isPatching&&e.patchStream&&(P["default"].log("datasource removeRoll, patchStream"),e["delete"](e.patchStream))}}]),t}(F["default"]);t["default"]=z},function(e,t,i){e.exports={"default":i(139),__esModule:!0}},function(e,t,i){i(49),i(5),e.exports=i(140)},function(e,t,i){var a=i(18),n=i(101);e.exports=i(13).getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(116),p=a(h),b=i(93),g=(a(b),i(142)),v=a(g),m=i(144),y=a(m),x=i(279),k=a(x),w=i(289),S=a(w),T=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e));return a.TAG="MovieStream",a._silenced=!1,a.silenced=i,a._actor=null,a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"eof",get:function(){return!!this._actor&&this._actor.eof}},{key:"eod",get:function(){return!!this._actor&&this._actor.eod}},{key:"duration",get:function(){return this._actor?this._actor.duration:0}},{key:"silenced",get:function(){return this._silenced},set:function(e){this._silenced=e,this._actor&&(this._actor.silenced=e)}},{key:"needInitSegment",set:function(e){this._actor&&(this._actor.needIS=e)}},{key:"willSendInitSegment",get:function(){return!!this._actor&&this._actor.willSendIS}},{key:"audioInitSegment",get:function(){return this._actor?this._actor.audioInitSegment:null}},{key:"buffer",get:function(){var e={len:0,start:0,end:0,buffered:null};try{if(this._actor){var t=this._actor.buffer;t&&(e=t)}}catch(e){}return e}},{key:"reBufTime",get:function(){return this._actor.reBufTime}},{key:"openReBufTime",set:function(e){this._actor.openReBufTime=e}}]),(0,c["default"])(t,[{key:"_reset",value:function(){}},{key:"push",value:function(e){var t=!!e.isSwitchLevel,i=e.playSourceType,a=e.playSourceContent;this._filled=!0,this._initActor(i),this._actor.feed(a,t)}},{key:"_initActor",value:function(e){switch(this._manifestType=e,e){case p["default"].HLS:this._actor&&this._actor instanceof k["default"]||(this._actor&&this._actor.destroy(),this._actor=new k["default"](this._ctx));break;case p["default"].DASH:this._actor&&this._actor instanceof y["default"]||(this._actor&&this._actor.destroy(),this._actor=new y["default"](this._ctx));break;case p["default"].FLV:this._actor&&this._actor instanceof S["default"]||(this._actor&&this._actor.destroy(),this._actor=new S["default"](this._ctx))}if(!this._actor)throw new Error(e+" actor init failed!");this._actor.silenced=this._silenced}},{key:"seek",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._start=e,this._actor&&this._actor.seek(this._start,!0,t,i)}},{key:"read",value:function(){var e=null;return this._actor&&!this.eof&&(e=this._actor.read()),e}},{key:"getSegmentByPTS",value:function(e){var t=null;return this._actor&&(t=this._actor.getSegmentByPTS(e)),t}},{key:"refreshFrags",value:function(){this._actor&&this._actor.refreshFrags()}},{key:"recoverImmediately",value:function(e){this.needInitSegment=!0,this._actor&&(this._actor._destroySchedules(),this._actor.drainBuffer())}},{key:"recoverImmediatelyed",value:function(){this._actor&&this._actor._initSchedules()}}]),t}(v["default"]);t["default"]=T},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(143),u=a(d),l=i(127),c=a(l),f=function(){function e(t){(0,r["default"])(this,e),this.TAG="BaseStream",this._ctx=t,this._error=null,this.id=c["default"].create(),this._actor=null,this._mediaRanges=new u["default"],this._playRanges=new u["default"],this._start=0,this._currentTime=0,this._filled=!1,this._hasNoticeEOD=!1,this._manifestType=null}return(0,s["default"])(e,[{key:"loaderMode",get:function(){var e="cdn";return this._actor&&(e=this._actor.loaderMode),e}},{key:"mediaRanges",get:function(){return this._mediaRanges}},{key:"playRanges",get:function(){return this._playRanges}},{key:"error",get:function(){var e=this._error;return!e&&this._actor&&(e=this._actor.error),e}},{key:"filled",get:function(){return this._filled}},{key:"currentTime",set:function(e){this._currentTime=e},get:function(){return this._currentTime}},{key:"hasNoticeEOD",set:function(e){this._hasNoticeEOD=e},get:function(){return this._hasNoticeEOD}},{key:"buffer",get:function(){return{len:0,start:0,end:0}}},{key:"manifestType",get:function(){return this._manifestType}},{key:"videoTrackId",get:function(){return this._actor?this._actor.videoTrackId:null}},{key:"audioTrackId",get:function(){return this._actor?this._actor.audioTrackId:null}}]),(0,s["default"])(e,[{key:"reset",value:function(){this._mediaRanges.empty(),this._playRanges.empty(),this._actor&&this._actor.reset(),this._currentTime=0,this._filled=!1,this._reset()}},{key:"_reset",value:function(){}},{key:"destroy",value:function(){this.reset(),this._actor&&this._actor.destroy(),this._destroy&&this._destroy(),delete this._ctx,delete this._actor,delete this._error,delete this._mediaRanges,delete this._playRanges}},{key:"range",value:function(e,t){Array.isArray(t)?this._generateMediaRanges(t):t instanceof u["default"]&&(this._mediaRanges=t),this._generatePlayRanges(e),this._start=this._playRanges.start(0),this._actor&&this._actor.applyRange&&this._actor.applyRange(this._playRanges)}},{key:"_generateMediaRanges",value:function(e){if(this._mediaRanges.empty(),Array.isArray(e)&&e.length>0)for(var t,i=0;t=e[i];i++)this._mediaRanges.add(t[0],t[1])}},{key:"_generatePlayRanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._mediaRanges,i=t.start(0),a=t.end(t.length-1),n=this._playRanges;if(n.empty(),null===e||e<a){"number"==typeof e&&e<i&&n.add(e,i);for(var r=0;r<t.length;r++){var o=t.start(r),s=t.end(r);"number"==typeof e&&e>=s?e<t.start(r+1)&&n.add(e,t.start(r+1)):"number"==typeof e&&o<=e&&e<s?n.add(e,s):n.add(o,s)}}else n.add(e,Number.POSITIVE_INFINITY)}}]),e}();t["default"]=f},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t<this._ranges.length&&e>this._ranges[t].end;)++t;return{index:t,contained:t<this._ranges.length&&e>=this._ranges[t].start}}function r(e){return(0,l.isNumber)(e)&&e>=0&&e<this._ranges.length}Object.defineProperty(t,"__esModule",{value:!0});var o=i(75),s=a(o),d=i(73),u=a(d),l=i(134),c=i(93),f=(a(c),function e(t,i){(0,u["default"])(this,e),this.start=t,this.end=i}),_=function(){function e(){(0,u["default"])(this,e),this._ranges=[]}return(0,s["default"])(e,[{key:"length",get:function(){return this._ranges.length}}],[{key:"getGapIndex",value:function(e,t){if(!e||!e.length)return null;if(1==e.length&&e.end(0)-e.start(0)<1e-6)return null;var i=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(i=.5);for(var a=0;a<e.length;a++)if(e.start(a)>t&&(0==a||e.end(a-1)-t<=i)&&a>0)return a;return null}}]),(0,s["default"])(e,[{key:"start",value:function(e){if(!r.call(this,e))throw new Error("Invalid index");return this._ranges[e].start}},{key:"end",value:function(e){if(!r.call(this,e))throw new Error("Invalid index");return this._ranges[e].end}},{key:"add",value:function(e,t){if(!(0,l.isNumber)(e)||!(0,l.isNumber)(t)||t<e)throw new Error("Invalid range");var i=n.call(this,e),a=n.call(this,t,i.index);i.contained&&(e=Math.min(e,this._ranges[i.index].start)),a.contained&&(t=Math.max(t,this._ranges[a.index].end));var r=a.index-i.index+(a.contained?1:0);this._ranges.splice(i.index,r,new f(e,t))}},{key:"contain",value:function(e){return!!n.call(this,e).contained}},{key:"empty",value:function(){this._ranges.splice(0,this._ranges.length)}},{key:"toArray",value:function(){var e=[],t=this._ranges;if(Array.isArray(t))for(var i=0;i<t.length;i++){var a=t[i].start,n=t[i].end;e.push([a,n])}return e}}]),e}();t["default"]=_},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(145),p=a(h),b=i(146),g=a(b),v=i(239),m=a(v),y=i(129),x=a(y),k=i(115),w=a(k),S=i(119),T=a(S),A=i(278),I=(a(A),i(116)),E=a(I),P=function(e){function t(e){(0,s["default"])(this,t);var i=new x["default"],a=new m["default"](e),n=new g["default"]("dash","dash"),o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,{manifest:i,loader:a,multiplexer:n}));return o.TAG="DashActor",o._mountBuffered=!0,o._videoTrack={},o._audioTrack={},o._duration=0,o._canResetWhileSwitchLevel=!1,o._isCacheMode=!1,o}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"duration",get:function(){return this._duration}}]),(0,c["default"])(t,[{key:"_reset",value:function(){this._duration=0,this._videoTrack=null,this._audioTrack=null}},{key:"_destroy",value:function(){this._duration=0,this._videoTrack=null,this._audioTrack=null}},{key:"applyRange",value:function(e){var t=this._manifest,i=this._videoTrack=t.tracks.video,a=this._audioTrack=t.tracks.audio;this._duration=t.duration,i&&(this._loader.videoSegments=i.segments,this.videoInitSegment=new T["default"]("video"),this.videoInitSegment.origin=E["default"].DASH,this.videoInitSegment.bytesArray=[i.initSegment],this.videoInitSegment.container="video/mp4",this.videoInitSegment.codec=i.codec),a&&(this._loader.audioSegments=a.segments,this.audioInitSegment=new T["default"]("audio"),this.audioInitSegment.origin=E["default"].DASH,this.audioInitSegment.bytesArray=[a.initSegment],this.audioInitSegment.container="audio/mp4",this.audioInitSegment.codec=a.codec),(a||i)&&(this._needSendInitSegment=!0)}},{key:"_getSegmentByPTS",value:function(e){return this._loader.findSegmentByPTS(e).segment}},{key:"_constructPlaySegmentsByRangeList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments[1];return e}},{key:"read",value:function(){var e=null,t=null,i=this._hasAudio,a=this._hasVideo,n=this._needSendInitSegment,r=this.videoInitSegment,o=this.audioInitSegment;if(n)e=r,t=o,(a&&i&&e&&t||a&&e||i&&t)&&(this._needSendInitSegment=!1);else{var s=this._loader.read();if(s&&s.data){var d=(s.done,s.meta||{});for(var u in d){var l=d[u];if(l){var c=l.contentType,f=l.bytes,_=l.segment.startTime,h=l.segment.duration;if("video"===c){var p=new w["default"]("video");p.origin=E["default"].DASH,p.bytesArray=[f],p.startTime=_,p.duration=h,e=p,this._curVideoEndTime=_+h}else if("audio"===c){var b=new w["default"]("audio");b.origin=E["default"].DASH,b.bytesArray=[f],b.startTime=_,b.duration=h,t=b,this._curAudioEndTime=_+h}}}}}return{video:e,audio:t}}}]),t}(p["default"]);t["default"]=P},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(146),p=a(h),b=i(238),g=a(b),v=i(88),m=a(v),y=i(105),x=a(y),k=i(93),w=a(k),S=i(114),T=a(S),A=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a.TAG="BaseActor",a._ctx=e,a._cfg=a._ctx.config,a._silenced=!1,a._isCacheMode=!0,a._manifest=null,a._loader=null,a._multiplexer=null,a._hasAudio=!1,a._hasVideo=!1,a._sendISWhileFragmentChange=!1,a._needSendInitSegment=!0,a._videoInitSegment=null,a._audioInitSegment=null,a._videoMediaSegments=[],a._videoMediaStartTimes=[],a._audioMediaSegments=[],a._pumpLoaderTimer=new T["default"](function(){return a._pumpLoader()}),a._seeked=!1,a._seekPTS=0,a._firstFeed=!0,a._currentDataMeta=null,a._pretime=0,a._canResetWhileSwitchLevel=!0,a._curAudioEndTime=null,a._curVideoEndTime=null,a._mountBuffered=!1,a._reBufTimeObj={len:0,pre:null,open:!1},a._segmentContiguous=!1,a._audioSegmentAlignPTS=null,a._audioTrackId=null,a._videoTrackId=null,a._createModules(i),a._initSchedules(),a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"loaderMode",get:function(){var e="cdn";return this._loader&&this._loader.mode===g["default"].P2P&&(e="p2p"),e}},{key:"eof",get:function(){var e=0===this._videoMediaSegments.length&&0===this._audioMediaSegments.length;return this._loader&&(e=e&&this._loader.eof),this._multiplexer&&(e=e&&this._multiplexer.idle),void 0!==this._preEof&&this._preEof!==e&&w["default"].log(this.LOG_TAG+": EOF = "+e),this._preEof=e,e}},{key:"eod",get:function(){return!this._loader||this._loader.eod}},{key:"error",get:function(){var e=null;if(this._loader&&(e=this._loader.error),!e&&this._multiplexer){var t=this._multiplexer.error;if(t){var i=x["default"].code.MUX_UNKNOWN_FAILED,a=x["default"].severity.CRITICAL;switch(t.code){case p["default"].ErrCode.WORKER_EXCEPTION:i=x["default"].code.MUX_WORKER_INTERNAL_EXCEPTION,a=x["default"].severity.RECOVERABLE;break;case p["default"].ErrCode.WORKER_MSG_EXCEPTION:i=x["default"].code.MUX_WORKER_MESSAGE_EXCEPTION;break;case p["default"].ErrCode.TS_SYNC_BYTE:i=x["default"].code.MUX_TS_SYNC_BYTE;break;default:i=x["default"].code.MUX_UNKNOWN_FAILED,a=x["default"].severity.RECOVERABLE}e=new x["default"](a,x["default"].category.MUX,i,t.message)}}return e}},{key:"hasAudio",set:function(e){this._hasAudio=e,this._loader&&(this._loader.hasAudio=e)},get:function(){return this._hasAudio}},{key:"hasVideo",set:function(e){this._hasVideo=e,this._loader&&(this._loader.hasVideo=e)},get:function(){return this._hasVideo}},{key:"buffer",get:function(){var e={len:0,start:0,end:0,buffered:null};if(this._loader){var t=this._loader.buffer;e.len=t.len,e.start=t.start,e.end=t.end}if(this._mountBuffered&&null!==this._curAudioEndTime&&null!==this._curVideoEndTime&&(e.buffered={video:{preEnd:this._curVideoEndTime},audio:{preEnd:this._curAudioEndTime}}),this._videoMediaSegments.length>0){var i=this._videoMediaSegments[0];e.len+=i.duration,e.start=i.startTime}return e}},{key:"reBufTime",get:function(){var e=this._reBufTimeObj.len;return w["default"].log(" get reBufTime = "+e),this._reBufTimeObj.open?(this._reBufTimeObj.len=0,this._reBufTimeObj.pre=(new Date).getTime()):this._reBufTimeObj={len:0,pre:null,open:!1},e}},{key:"openReBufTime",set:function(e){this._reBufTimeObj.open!==e&&(e&&null===this._reBufTimeObj.pre&&(this._reBufTimeObj.pre=(new Date).getTime()),e||null===this._reBufTimeObj.pre||(this._reBufTimeObj.len+=(new Date).getTime()-this._reBufTimeObj.pre,this._reBufTimeObj.pre=null),this._reBufTimeObj.open=e)}},{key:"needIS",set:function(e){this._needSendInitSegment=e}},{key:"willSendIS",get:function(){return this._needSendInitSegment}},{key:"audioInitSegment",get:function(){return this._audioInitSegment},set:function(e){this._audioInitSegment=e,e&&(this._audioTrackId=e.trackId)}},{key:"videoInitSegment",get:function(){return this._videoInitSegment},set:function(e){this._videoInitSegment=e,e&&(this._videoTrackId=e.trackId)}},{key:"silenced",set:function(e){this._silenced=e,this._loader&&(this._loader.silenced=e)}},{key:"LOG_TAG",get:function(){return"["+this.TAG+(this._silenced?"(silence)":"")+"]"}},{key:"openOffset",set:function(e){this._loader.openOffset=e},get:function(){return this._loader.openOffset}},{key:"videoTrackId",get:function(){return this._videoTrackId}},{key:"audioTrackId",get:function(){return this._audioTrackId}},{key:"qosTimer",get:function(){return this._ctx.qosTimer}}]),(0,c["default"])(t,[{key:"_createModules",value:function(e){e.manifest?this._manifest=e.manifest:w["default"].error(this.LOG_TAG+" init manifest failed."),e.loader?this._loader=e.loader:w["default"].error(this.LOG_TAG+" init loader failed."),e.multiplexer?this._multiplexer=e.multiplexer:w["default"].error(this.LOG_TAG+" init multiplexer failed.")}},{key:"_initSchedules",value:function(){this._pumpLoaderTimer.scheduleRepeated(.1)}},{key:"_destroySchedules",value:function(){this._pumpLoaderTimer.cancel()}},{key:"drainBuffer",value:function(){w["default"].log("actor clearBuffer+worker ");var e=this._videoMediaSegments,t=this._audioMediaSegments,i=this._videoMediaStartTimes;e.splice(0,e.length),t.splice(0,t.length),i.splice(0,i.length),this._currentDataMeta=null,this._multiplexer.reset()}},{key:"destroy",value:function(){w["default"].log("actor destroy "),this._manifest&&this._manifest.reset(),this._loader&&this._loader.destroy(),this._multiplexer&&this._multiplexer.destroy(),this._destroySchedules(),this._destroy&&this._destroy(),this._pretime=0,this._reBufTimeObj={len:0,pre:null,open:!1},delete this._ctx,delete this._manifest,delete this._loader,delete this._multiplexer,delete this._pumpLoaderTimer}},{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];w["default"].log("actor reset , isClearBuffer = "+e+" "),e&&(this.hasAudio=!1,this.hasVideo=!1,this._needSendInitSegment=!0,this._videoInitSegment=this._audioInitSegment=null,this.drainBuffer()),this._reBufTimeObj={len:0,pre:null,open:!1},this._loader.drainBufferPool(),this._pretime=0,this._reset()}},{key:"_reset",value:function(){}},{key:"feed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!this._firstFeed,a=!!e.isContinuousMode;if(i=i&&!a,i=i&&(!t||t&&this._canResetWhileSwitchLevel)){var n=void 0===e.isClearBuffer||e.isClearBuffer;this.reset(n)}e.loaderConfig&&(this._loader.loaderConfig=e.loaderConfig),e.parser&&this._manifest.copyData?this._manifest.copyData(e.parser):this._parseManifest(e),this._configAV(a),this._firstFeed=!1,t||(this._segmentContiguous=!1,this._audioSegmentAlignPTS=null,this._curVideoEndTime=null,this._curAudioEndTime=null)}},{key:"_parseManifest",value:function(e){this._manifest.reset(),this._manifest.push(e),this._manifest.end()}},{key:"_configAV",value:function(e){e?(this.hasAudio=!0,this.hasVideo=!0):(this.hasAudio=this._manifest.metadata.hasAudio,this.hasVideo=this._manifest.metadata.hasVideo)}},{key:"seek",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!1;t?a&&(this._seekPTS=e,this._seeked=!1):n=!0,i||(this._segmentContiguous=!1,this._audioSegmentAlignPTS=null),a&&this.drainBuffer(),this._loader.seek(e,n,i),this._reBufTimeObj={len:0,pre:null,open:!1}}},{key:"read",value:function(){var e=null,t=null,i=this._hasAudio,a=this._hasVideo,n=this._needSendInitSegment,r=this._videoInitSegment,o=this._audioInitSegment,s=this._videoMediaSegments,d=this._audioMediaSegments;return n?a&&i?r&&o&&(e=r,t=o,this._needSendInitSegment=!1):a&&!i?r&&(e=r,this._needSendInitSegment=!1):i&&!a&&o&&(t=o,this._needSendInitSegment=!1):(a&&s.length>0&&(e=s.shift()),i&&d.length>0&&(t=d.shift())),{video:e,audio:t}}},{key:"_pumpLoader",value:function(){if(!(this._silenced||!this._isCacheMode||this.eof||this._multiplexer&&this._multiplexer.error||0===this._loader.buffer.len&&this._loader.error)&&this._multiplexer.idle){var e=this._hasAudio,t=this._hasVideo,i=this._needSendInitSegment,a=this._videoInitSegment,n=this._audioInitSegment,r=this._videoMediaSegments,o=this._audioMediaSegments,s=this._segmentContiguous,d=this._audioSegmentAlignPTS,u=!1;if(i&&(t&&!a||e&&!n)?u=!0:(t&&0===r.length||e&&0===o.length)&&(u=!0),u){var l=this._loader.read();if(l&&l.data){this.openReBufTime=!1;var c=l.done,f=l.meta;f&&(!this._needSendInitSegment&&this._sendISWhileFragmentChange&&(!this._currentDataMeta||this._currentDataMeta&&f.fragKey!=this._currentDataMeta.fragKey)&&(this._needSendInitSegment=!0,this._videoInitSegment=this._audioInitSegment=null),this._currentDataMeta=f),this._multiplexer.push(l.data,{done:c,resetInitSegment:this._needSendInitSegment,contiguous:s,audioSegmentAlignPTS:d,meta:f})}else 0===this.buffer.len&&(this.openReBufTime=!0)}}}},{key:"getSegmentByPTS",value:function(e){return this._getSegmentByPTS?this._getSegmentByPTS(e):null}},{key:"refreshFrags",value:function(){}},{key:"getNextFrag",value:function(e){return null}},{key:"abortCurrentADGas",value:function(e){}},{key:"_needSendIS",value:function(e){}}]),t}(m["default"]);t["default"]=A},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(94),r=a(n),o=i(135),s=a(o),d=i(69),u=a(d),l=i(73),c=a(l),f=i(74),_=a(f),h=i(75),p=a(h),b=i(79),g=a(b),v=i(93),m=a(v),y=i(122),x=a(y),k=i(134),w=i(107),S=a(w),T=i(147),A=a(T),I=i(112),E=a(I),P=i(148),D=a(P),q=i(234),O=a(q),R=i(189),L=a(R),M=i(235),C=a(M),F=i(236),N=a(F),V=function(e){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,c["default"])(this,t);var n=(0,_["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this));return n._args={from:e,to:i,options:a},(0,S["default"])(a,{debug:!1,enableWorker:!0}),n._onWorkerMessage=n._onWorkerMessage.bind(n),n._onWorkerError=n._onWorkerError.bind(n),n._eventManager=new E["default"],n._error=null,n._mux=null,n._w=null,n._idle=!0,n._dryRun=!0,n._workerSignal=new N["default"],n._initialize(),n}return(0,g["default"])(t,e),(0,p["default"])(t,[{key:"error",get:function(){return this._error}},{key:"idle",get:function(){return this._idle}}]),(0,p["default"])(t,[{key:"_initialize",value:function(){var e=this,t=this._args,i=t.from,a=t.to,n=t.options,r=void 0,o=void 0;if(this._idle=!1,n.enableWorker&&void 0!==window.Worker)try{var d="iqiyi_qvs_"+i;m["default"].log("spawn a worker thread "+d),o=this._w=(0,A["default"])(237,{worker:{name:d}}),o.__name__=d,o.addEventListener("message",this._onWorkerMessage),o.addEventListener("error",this._onWorkerError),o.addEventListener("messageerror",this._onWorkerMessageError),m["default"].log("worker options "+(0,s["default"])(n)),this._postMessage(o,"__init__",{from:i,to:a,options:n})}catch(e){this._w&&URL.revokeObjectURL(this._w.objectURL),delete this._w,m["default"].error("error while initializing mux-worker, fallback on mux-inline"),r=this._mux=new D["default"](i,a,n)}else r=this._mux=new D["default"](i,a,n);r&&(this._eventManager.on(r,"__idle__",function(){e._idle=!0}),this._eventManager.on(r,"error",function(t,i){return e._emitError(t,i)}),this._eventManager.on(r,"info",function(t){return e._emitInfo(t)}),this._eventManager.on(r,"demux_data",function(t){return e._emitDemuxData(t)}),this._eventManager.on(r,"remux_data",function(t){return e._emitRemuxData(t)}),this._eventManager.on(r,"done",function(){return e._emitDone()}),this._idle=!0)}},{key:"_postMessage",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];m["default"].log("mux send msg to "+e.__name__+" worker: "+t),this._workerSignal.msg=[].concat(Array.prototype.slice.call(arguments)),e.postMessage({cmd:t,msg:i},a)}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._w;if((0,k.isArrayBuffer)(e)||(0,k.isUint8Array)(e))if((0,k.isArrayBuffer)(e)&&(e=new Uint8Array(e)),m["default"].log("mux push buf "+C["default"].filesize(e.byteLength)),this._dryRun=!1,this._idle=!1,i){var a=[];this._postMessage(i,"push",{buf:e,conf:t},a)}else this._mux.push(e,t)}},{key:"_terminateWorker",value:function(){var e=this._w;e.removeEventListener("message",this._onWorkerMessage),e.removeEventListener("error",this._onWorkerError),e.removeEventListener("messageerror",this._onWorkerMessageError),e.terminate(),m["default"].log("terminate a "+e.__name__+" worker thread")}},{key:"reset",value:function(){if(!this._dryRun){var e=this._w;m["default"].log("mux reset "+(e?"worker":"inline")),e?(this._workerSignal.clear(),this._terminateWorker(),this._initialize()):this._mux.reset()}}},{key:"destroy",value:function(){this._w?(this._workerSignal.clear(),this._terminateWorker()):(this._mux.destroy(),this._eventManager.destroy())}},{key:"_onWorkerMessage",value:function(e){var t=e.data,i=e.target,a=t.cmd,n=t.msg;switch(a){case"__ACK__":this._handleACK(n);break;case"__init__":m["default"].log("worker "+i.__name__+" initialized"),URL.revokeObjectURL(this._w.objectURL);break;case"__idle__":this._idle=!0;break;case"__log__":this._emitLog(n.type,n.message);break;case"error":this._emitError(n.code,n.message);break;case"info":this._emitInfo(n);break;case"demux_data":this._emitDemuxData(n);break;case"remux_data":this._emitRemuxData(n);break;case"done":this._emitDone()}}},{key:"_onWorkerError",value:function(e){var t=e.target||e.srcElement,i=t?t.__name__:"",a="worker "+i+" error, "+e.message;m["default"].warn(a),this._emitError(L["default"].WORKER_EXCEPTION,a)}},{key:"_onWorkerMessageError",value:function(e){var t="Worker met error while receiving message, "+e;m["default"].warn(t),this._emitError(L["default"].WORKER_MSG_EXCEPTION,t)}},{key:"_handleACK",value:function(e){if(m["default"].log("master thread received worker ack signal"),e)this._workerSignal.clear();else if(this._workerSignal.msg)if(this._workerSignal.repostCount<N["default"].MaxRepostCount)this._workerSignal.repostCount++,m["default"].warn("Repost the cache signal to worker at "+this._workerSignal.repostCount+" time"),this._postMessage.apply(this,(0,r["default"])(this._workerSignal.msg));else{var t="Worker ack message beyond repost count";m["default"].warn(t),this._emitError(L["default"].WORKER_MSG_EXCEPTION,t)}}},{key:"_emitLog",value:function(e,t){m["default"][e]&&m["default"][e](t)}},{key:"_emitError",value:function(e,t){this._error={code:e,message:t},this.emit(O["default"].ERROR,this._error)}},{key:"_emitInfo",value:function(e){this.emit(O["default"].INFO,e)}},{key:"_emitRemuxData",value:function(e){e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),this.emit(O["default"].DATA,e)}},{key:"_emitDemuxData",value:function(e){e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),this.emit(O["default"].DEMUX_DATA,e)}},{key:"_emitDone",value:function(e){this.emit(O["default"].DONE,e)}}]),t}(x["default"]);V.ErrCode=L["default"],V.Events=O["default"],t["default"]=V},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){function t(a){try{if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};e[a].call(n.exports,n,n.exports,t),n.l=!0}catch(e){throw"__webpack_require__ failed "+(e.stack||e.message)}return n.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,a){t.o(e,i)||(0,b["default"])(e,i,{configurable:!1,enumerable:!0,get:a})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var a=t(t.s=ENTRY_MODULE);return a["default"]||a}function r(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(e){return!isNaN(1*e)}function s(e,t,a){var n={};n[a]=[];var s=t.toString(),d=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!d)return n;for(var u,l=d[1],c=new RegExp("(\\\\n|\\W)"+r(l)+v,"g");u=c.exec(s);)"dll-reference"!==u[3]&&n[a].push(u[3]);for(c=new RegExp("\\("+r(l)+'\\("(dll-reference\\s('+g+'))"\\)\\)'+v,"g");u=c.exec(s);)e[u[2]]||(n[a].push(u[1]),e[u[2]]=i(u[1]).m),n[u[2]]=n[u[2]]||[],n[u[2]].push(u[4]);for(var f=(0,h["default"])(n),_=0;_<f.length;_++)for(var p=0;p<n[f[_]].length;p++)o(n[f[_]][p])&&(n[f[_]][p]=1*n[f[_]][p]);return n}function d(e){return(0,h["default"])(e).reduce(function(t,i){return t||e[i].length>0},!1)}function u(e,t){for(var i={main:[t]},a={main:[]},n={main:{}};d(i);)for(var r=(0,h["default"])(i),o=0;o<r.length;o++){var u=r[o],l=i[u],c=l.pop();if(n[u]=n[u]||{},!n[u][c]&&e[u][c]){n[u][c]=!0,a[u]=a[u]||[],a[u].push(c);for(var f=s(e,e[u][c],u),_=(0,h["default"])(f),p=0;p<_.length;p++)i[_[p]]=i[_[p]]||[],i[_[p]]=i[_[p]].concat(f[_[p]])}}return a}function l(e,t){t=t||{};var a={main:i.m},r=t.all?{main:(0,h["default"])(a.main)}:u(a,e),o="";(0,h["default"])(r).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;r[e][t];)t++;r[e].push(t),a[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",(0,f["default"])(t))+")({"+r[e].map(function(t){return(0,f["default"])(t)+": "+a[e][t].toString()}).join(",")+"});\n"}),o=o+"new (("+n.toString().replace("ENTRY_MODULE",(0,f["default"])(e))+")({"+r.main.map(function(e){return(0,f["default"])(e)+": "+a.main[e].toString()}).join(",")+"}))(self);";var s=new window.Blob([o],{type:"text/javascript"}),d=window.URL||window.webkitURL||window.mozURL||window.msURL,l=d.createObjectURL(s),c=new window.Worker(l,t.worker||{});return c.objectURL=l,c}Object.defineProperty(t,"__esModule",{value:!0});var c=i(135),f=a(c),_=i(89),h=a(_),p=i(76),b=a(p),g="[\\.|\\-|\\+|\\w|/|@]+",v="\\((/\\*.*?\\*/)?s?.*?("+g+").*?\\)";t["default"]=l},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(93),p=a(h),b=i(122),g=a(b),v=i(112),m=a(v),y=i(134),x=i(149),k=a(x),w=i(152),S=a(w),T=i(171),A=a(T),I=i(191),E=a(I),P={dash:k["default"],m2ts:A["default"],flv:S["default"],mp4:E["default"]},D=function(e){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s["default"])(this,t);var n=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a.debug&&(p["default"].enable=!0),n._demuxer=new P[e].Demux(n,a),n._remuxer=new P[i].Remux(n,a),n._eventManager=new m["default"],n._demuxer.endStream.pipe(n._remuxer),n._eventManager.on(n._demuxer.endStream,"info",function(e){return n.emit("info",e)}),n._eventManager.on(n._demuxer.endStream,"data",function(e){return n.emit("demux_data",e)}),n._eventManager.on(n._remuxer.endStream,"data",function(e){return n.emit("remux_data",e)}),n._eventManager.on(n._remuxer.endStream,"done",function(){return n.emit("done")}),n}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.resetInitSegment,a=t.audioSegmentAlignPTS;((0,y.isArrayBuffer)(e)||(0,y.isUint8Array)(e))&&((0,y.isArrayBuffer)(e)&&(e=new Uint8Array(e)),"number"!=typeof a||isNaN(a)||(this._remuxer.audioAlignPTS=a),"boolean"==typeof i&&i&&this._remuxer.rebuildInitSegment(),this._demuxer.push(e,t),this._noticeIdle())}},{key:"reset",value:function(){this._demuxer.reset(),this._remuxer.reset()}},{key:"destroy",value:function(){this._demuxer.unpipe(),this._demuxer.endStream.unpipe(),this._remuxer.endStream.removeAllListeners("data"),this._remuxer.endStream.removeAllListeners("done"),this._eventManager.removeAll()}},{key:"_noticeIdle",value:function(){this.emit("__idle__")}}]),t}(g["default"]);t["default"]=D},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(150),r=a(n),o=i(151),s=a(o);t["default"]={Demux:r["default"],Remux:s["default"]}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(93),g=a(b),v=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this))}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.meta||{};for(var a in i){var n=i[a];n&&(g["default"].log("dash demux pushing buffer: "+n.contentType),this.emit("data",{type:"fragment",contentType:n.contentType,bytes:n.bytes,duration:n.segment.duration,startDTS:n.segment.startTime,startPTS:n.segment.startTime}))}}},{key:"endStream",get:function(){return this}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this))}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){switch(e.type){case"initSegment":this.emit("data",{fragmentType:"initSegment",contentType:e.contentType,data:e.bytes});break;case"fragment":this.emit("data",{fragmentType:"fragment",contentType:e.contentType,data:e.bytes,startDTS:e.startDTS,startPTS:e.startPTS,duration:e.duration})}}},{key:"endStream",get:function(){return this}}]),t}(p["default"]);t["default"]=b},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(153),r=a(n),o=i(170),s=a(o);t["default"]={Demux:r["default"],Remux:s["default"]}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(93),g=a(b),v=i(154),m=a(v),y=function(e){function t(){(0,s["default"])(this,t);var e=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e.complex=new m["default"],e.pipe(e.complex),e}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e,t){g["default"].log("demux pushing flv"),this.emit("data",{data:e,info:t}),this.emit("done")}},{key:"endStream",get:function(){return this.complex}}]),t}(p["default"]);t["default"]=y},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(155),g=a(b),v=i(107),m=a(v),y=i(93),x=a(y),k=i(157),w=a(k),S=i(159),T=a(S),A=i(167),I=a(A),E=i(158),P=a(E),D=i(168),q=a(D),O=i(169),R=a(O),L=function(e){function t(){(0,s["default"])(this,t);var e=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e.videoTrack=null,e.audioTrack=null,e.captionTrack=null,e._initTagsInfo(),e._initHeaderInfo(),e}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"_initTagsInfo",value:function(){var e=this;this.faConfig=null,this.fvConfig=null,this.naluSizeLength=0,this._offsetTime=null,this.h264Codec=new w["default"],this.h264Codec.on("nalu",function(t){t.unit_type===T["default"].SEI?(t=e._parseSEI(t))&&e._appendToFrame(t):t.unit_type===T["default"].SPS?(e._updateSPSByNalu(t),e._appendToFrame(t)):t.unit_type===T["default"].PPS?(e._updatePPSByNalu(t),e._appendToFrame(t)):t.unit_type!==T["default"].IDR_SLICE&&t.unit_type!==T["default"].NON_IDR_SLICE||e._appendToFrame(t)}).on("done",function(){e._pushFrameIntoGop()})}},{key:"_appendToFrame",value:function(e){this.currentFrame=this.currentFrame||[];var t=this.currentFrame;0===t.length?(t.keyframe=!1,t.duration=0,t.byteLength=e.rawData.byteLength,t.naluCount=1):(t.naluCount++,t.byteLength+=e.rawData.byteLength),t.pts=e.pts,t.dts=e.dts,this.gop&&0===this.gop.length&&(e.unit_type,T["default"].IDR_SLICE),e.unit_type===T["default"].IDR_SLICE&&(t.keyframe=!0),t.push(e)}},{key:"_initHeaderInfo",value:function(){var e=this;this.headerCodec=new w["default"],this.headerObj={f:null,ac:null,vc:{},sps:!1,pps:!1,keyframeTimes:null,keyframePositions:null,naluSizeLength:0},this.headerCodec.on("nalu",function(t){t.unit_type===T["default"].SPS?e._updateSPSByNalu(t):t.unit_type===T["default"].PPS&&e._updatePPSByNalu(t),e.headerObj.sps&&e.headerObj.pps&&e.emit("info",{type:"headerComplete",data:e.headerObj})})}},{key:"_updateSPSByNalu",value:function(e){this.headerObj.sps=!0,this.headerObj.vc.width=e.sps.width,this.headerObj.vc.height=e.sps.height,this.headerObj.vc.profileIdc=e.sps.profile_idc,this.headerObj.vc.profileCompatibility=e.sps.profile_compatibility,this.headerObj.vc.levelIdc=e.sps.level_idc,this.headerObj.vc.pixelRatio=e.sps.pixelRatio,this.headerObj.vc.sps=[e.rawData],this.headerObj.vc.spsnalu=e}},{key:"_updatePPSByNalu",value:function(e){this.headerObj.pps=!0,this.headerObj.vc.pps=[e.rawData],this.headerObj.vc.ppsnalu=e}},{key:"push",value:function(e){var t=e.data,i=e.info,a=70==t[0]&&76==t[1]&&86==t[2];if(this._clear(),a)this._complexHead(t,i);else{var n=i.meta.vac;this.fvConfig=n.vc,this.faConfig=n.ac,this.naluSizeLength=n.naluSizeLength,"number"==typeof i.meta.offset&&i.meta.offset>=0?this._offsetTime=1e3*i.meta.offset:this._offsetTime=null,this._newGops(),this._complexFLVData(t)}this._lastPushDataIsFLVHead=a}},{key:"flush",value:function(){if(this.gop&&this.gop.length>0){var e=this.gop[0];this.videoTrack={id:256,type:"video",timescale:9e4,duration:Number.POSITIVE_INFINITY},this._pushGopIntoGroup(),this.videoTrack.gops=this.gops,this.videoTrack.firstDTS=e.dts,this.videoTrack.firstPTS=e.pts;var t=(this.videoTrack.firstDTS+this.gops.duration)/90;this.emit("info",{type:"endtimestamp",data:t/1e3});var i=(0,R["default"])(this.fvConfig.spsnalu.sps);this.videoTrack.codec=i.codec,(0,m["default"])(this.videoTrack,this.fvConfig),this.audioTrack&&this.audioTrack.frames.length>0&&(this.audioTrack.firstPTS=this.audioTrack.frames[0].pts,this.audioTrack.firstDTS=this.audioTrack.frames[0].dts),this.emit("data",{videoTrack:this.videoTrack,audioTrack:this.audioTrack,captionTrack:this.captionTrack}),this.emit("done")}else this.emit("done");this.videoTrack=null,this.audioTrack=null,this.captionTrack=null}},{key:"_clear",value:function(){x["default"].log("flvcomplex reset"),this.gop=null,this.gops=null,this._lastPushDataIsFLVHead||(this.currentFrame=null),this.videoTrack=null,this.audioTrack=null,this.captionTrack=null,this.headerObj.f=null,this.headerObj.ac=null,this.headerObj.vc={},this.headerObj.sps=!1,this.headerObj.pps=!1,this.headerObj.keyframeTimes=null,this.headerObj.keyframePositions=null,this.h264Codec.reset(),this.headerCodec.reset()}},{key:"_newGops",value:function(){this.gops=[],this.gops.type="video",this.gops.duration=0,this.gops.naluCount=0,this.gops.byteLength=0,this.gops.frameLength=0,this._newGop()}},{key:"_newGop",value:function(){this.gop=[],this.gop.duration=0,this.gop.naluCount=0,this.gop.byteLength=0}},{key:"_pushFrameIntoGop",value:function(){var e=this.currentFrame,t=this.gop.length;if(t>0){var i=this.gop[t-1],a=i.duration;i.duration=e.dts-i.dts,e.duration=i.duration,1===t&&0===a&&(this.gop.duration+=i.duration)}Array.isArray(e)&&e.length>0&&(this.gop.push(e),this.gop.duration+=e.duration,this.gop.byteLength+=e.byteLength,this.gop.naluCount+=e.naluCount),this.currentFrame=null}},{key:"_pushGopIntoGroup",value:function(){this.gops.duration+=this.gop.duration,this.gops.byteLength+=this.gop.byteLength,this.gops.naluCount+=this.gop.naluCount,this.gops.frameLength+=this.gop.length,this.gops.push(this.gop)}},{key:"_complexFLVData",value:function(e){var t=new Uint8Array(e),i=0,a=0,n=0,r=null,o=null;for(a=t.byteLength;i<a;){if(n=t[i+1]<<16|t[i+2]<<8|t[i+3],r=t.subarray(i,11+n+4+i),o=g["default"].parseFLVTag(r)){if(null!==this._offsetTime&&this._offsetTime>=0){var s=o.DTS/90,d=(o.PTS-o.DTS)/90;o.DTS=90*(this._offsetTime+s),o.PTS=o.DTS+90*d}"video"==o.type&&o.data_byte?this.h264Codec.push({isKeyframe:o.isKeyframe,pes:{naluSizeLength:this.naluSizeLength,PTS:o.PTS,DTS:o.DTS,data_byte:o.data_byte}}):"audio"==o.type&&o.data_byte&&this._adts(o)}i+=11+n+4}o=null,t=null,r=null}},{key:"_parseSEI",value:function(e){for(var t=null,i=e.data,a=(i[1],i[2]),n=3+a+1,r=i.length;n<r;){var o=i[n]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3],s=31&i[n+4];s!=T["default"].IDR_SLICE&&s!=T["default"].NON_IDR_SLICE||(i=i.subarray(n+4,n+4+o),t=new P["default"](i)),n+=4+o}return t}},{key:"_adts",value:function(e){var t={};if((0,m["default"])(t,this.faConfig),t.data=e.data_byte,t.dts=e.DTS,t.pts=e.PTS,null==this.audioTrack&&(this.audioTrack={id:257,type:"audio",isAAC:!0,duration:Number.POSITIVE_INFINITY,stream_type:I["default"].ADTS},this.audioTrack.frames=[],this.audioTrack.frames.byteLength=0),null==this.audioTrack.config){var i=(0,q["default"])(t.audioObjectType,t.samplingFrequencyIndex,t.channelCount);this.audioTrack.config=i.config,this.audioTrack.sampleRate=i.sampleRate,this.audioTrack.inputTimeScale=9e4,this.audioTrack.timescale=i.sampleRate,this.audioTrack.channelCount=i.channelCount,this.audioTrack.codec=i.codec,this.audioTrack.realCodec=i.realCodec}this.audioTrack.frames.push(t),this.audioTrack.frames.byteLength+=t.data.byteLength}},{key:"_complexHead",value:function(e,t){var i=g["default"].parseFlvHead(e);if(this.headerObj.hasAudio=i.hasAudioTags,this.headerObj.hasVideo=i.hasVideoTags,this.headerObj.f=t.f,this.headerObj.keyframePositions=i.info.keyframes.filepositions,this.headerObj.keyframeTimes=i.info.keyframes.times,this.headerObj.filesize=i.info.filesize,this.headerObj.duration=i.info.duration,this.headerObj.width=i.info.width,this.headerObj.height=i.info.height,i.hasAudioTags&&(this.headerObj.ac=g["default"].parseFLVTag(i.firstAudio)),i.hasVideoTags){var a=g["default"].parseFLVTag(i.firstVideo),n=a.pps,r=a.sps;this.headerObj.naluSizeLength=a.naluSizeLength,this.headerCodec.push({pes:{PTS:a.PTS,DTS:a.DTS,data_byte:n}}),this.headerCodec.push({pes:{PTS:a.PTS,DTS:a.DTS,data_byte:r}})}}},{key:"_complexCaption",value:function(){}}]),t}(p["default"]);t["default"]=L},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(156),u=a(d),l=i(93),c=a(l),f=function(){function e(t){(0,r["default"])(this,e)}return(0,s["default"])(e,null,[{key:"parseFlvHead",value:function(e){var t=e;if(e.length<13||70!==e[0]||76!==e[1]||86!==e[2])return null;var i={hasVideoTags:!1,hasAudioTags:!1},a=0,n=t[4];!0&n&&(i.hasVideoTags=!0,a++),(4&n)>>2==1&&(i.hasAudioTags=!0,a++);for(var r=0,o=0,s=0,d=t.length-1,u=13;u+15<=d;){var l=t[u];if(l!=this.TAG_TYPE_VIDEO&&l!=this.TAG_TYPE_AUDIO&&l!=this.TAG_TYPE_SCRIPTDATAOBJECT)break;if(0!=t[u+8]||0!=t[u+9])break;if(o=(t[u+1]<<16)+(t[u+2]<<8)+t[u+3],!(u+o+15<=d&&o>=0))break;if(s=(t[u+1+11+o]<<16)+(t[u+2+11+o]<<8)+t[u+3+11+o]-11,o!=s)break;if(l==this.TAG_TYPE_SCRIPTDATAOBJECT){var c=t.subarray(u+11,o+u+11),f=this._AMFdeSerialize(c);i.info=f.onMetaData,c=null,a++}else i.hasVideoTags&&l==this.TAG_TYPE_VIDEO?(i.firstVideo=t.subarray(u,s+11+u),i.firstVideo=this._uint8arrayWrite32(i.firstVideo,s+11)):i.hasAudioTags&&l==this.TAG_TYPE_AUDIO&&(i.firstAudio=t.subarray(u,s+11+u),i.firstAudio=this._uint8arrayWrite32(i.firstAudio,s+11));if(++r>=a)return i;u+=s+4+11}return i}},{key:"_AMFdeSerialize",value:function(e){var t={},i=this._parseData(e);return t[i.key]=i.value,t}},{key:"_parseData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null,a=null,n=null;if(t){try{n=new Uint8Array(e.length+1)}catch(e){c["default"].error("flv parseData failed: "+e.message)}n[0]=2,n.set(e,1,e.length)}else n=e;i=this._deSerialize(n),t&&(i.valueLength-=1);var r=e.subarray(i.valueLength,e.byteLength);a=this._deSerialize(r);var o={};return o.key=i.value,o.value=a.value,o.valueLength=i.valueLength+a.valueLength,n=null,r=null,i=null,o}},{key:"_deSerialize",value:function(e){var t={},i=0,a=new u["default"];switch(e[0]){case 0:i=8,t.value=this._uint8arrayToDouble(e.subarray(1,9)),t.valueLength=1+i;break;case 1:i=1,t.value=0!==e[1],t.valueLength=1+i;break;case 2:i=e[1]<<8|e[2],t.value=this._uint8arrayToString(e.subarray(3,3+i)),t.valueLength=3+i;break;case 3:for(i=1,t.value={};0!=e[i]||0!=e[i+1]||9!=e[i+2];){var n=e.subarray(i,e.byteLength),r=this._parseData(n,!0);t.value[r.key]=r.value,i+=r.valueLength,n=null}i+=3,t.valueLength=i;break;case 4:i=e[1]<<8|e[2],t.value=this._uint8arrayToString(e.subarray(3,3+i)),t.valueLength=3+i;break;case 5:t.value=null,i=1,t.valueLength=i;break;case 6:t.value=void 0,i=1,t.valueLength=i;break;case 7:t.value=a.readUint16(e,1),i=3,t.valueLength=i;break;case 8:var o=e[1]<<24|e[2]<<16|e[3]<<8|e[4];i=5,t.value={};for(var s=0;s<o;s++){var d=e.subarray(i,e.byteLength),l=this._parseData(d,!0);t.value[l.key]=l.value,i+=l.valueLength}i+=3,t.valueLength=i;break;case 9:break;case 10:for(var c=[],f=a.readUint32(e,1),_=0;_<f;_++){var h=e.subarray(9*_+4+1,e.byteLength);c.push(this._deSerialize(h).value)}t.value=c,i=9*c.length+4+1,t.valueLength=i;break;case 11:t.value=this._uint8arrayToDouble(e.subarray(0,8)),i=11,t.valueLength=i;break;case 12:i=e[1]<<24|e[2]<<16|e[3]<<8|e[4],t.value=this._uint8arrayToString(e.subarray(5,5+i)),t.valueLength=5+i;break;default:return null}return a=null,t}},{key:"parseAVCDecoderConfigurationRecord",value:function(e){var t=1+(3&e[4]),i=[],a=[],n=5,r=31&e[n];if(0===r)c["default"].error("Flv: Invalid AVCDecoderConfigurationRecord: No SPS");else if(r>0){r>1&&c["default"].warn("Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+r),n++;for(var o=0;o<r;o++){var s=e[n]<<8|e[n+1];n+=2,a.push(e.subarray(n,n+s)),n+=s}}var d=e[n];if(0===d)c["default"].error("Flv: Invalid AVCDecoderConfigurationRecord: No PPS");else if(d>0){d>1&&c["default"].warn("Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+d),n++;for(var u=0;u<d;u++){var l=e[n]<<8|e[n+1];n+=2,i.push(e.subarray(n,n+l)),n+=l}}return{naluSizeLength:t,spsNalus:a,ppsNalus:i}}},{key:"parseFLVTag",value:function(t){var i=null,a=t[0],n=t[1]<<16|t[2]<<8|t[3],r=null,o=null,s=t[7]<<24|t[4]<<16|t[5]<<8|t[6],d=t.subarray(11);if(a==this.TAG_TYPE_VIDEO){var u=d[0]>>4&15,l=1===u,f=15&d[0];if(f===this.CODEC_ID_AVC){var _=d.subarray(1),h=_[0],p=_[1]<<16|_[2]<<8|_[3];if(r=90*s,o=r+90*p,8388608&p&&(p|=4278190080),h==this.AVC_PACKET_TYPE_SEQUENCE_HEADER){var b=e.parseAVCDecoderConfigurationRecord(_.subarray(4));i={type:"video",isKeyframe:l,PTS:o,DTS:r,sps:b.spsNalus[0],pps:b.ppsNalus[0],naluSizeLength:b.naluSizeLength}}else if(h==this.AVC_PACKET_TYPE_NALU){var g=t.subarray(this.TAG_HEADER_BYTE_COUNT+5,this.TAG_HEADER_BYTE_COUNT+5+n-5);i={type:"video",isKeyframe:l,PTS:o,DTS:r,data_byte:g}}else c["default"].error("flv unknown avcPacketType "+h)}else c["default"].error("flv video data unhandled codecID "+f)}else if(a==this.TAG_TYPE_AUDIO){var v=t[this.TAG_HEADER_BYTE_COUNT+0],m=v>>4&15,y=1==(1&v)?16:8,x=null;if(r=90*s,o=r,m==this.SOUND_FORMAT_AAC){var k=t[this.TAG_HEADER_BYTE_COUNT+1];if(0==k){var w=t[this.TAG_HEADER_BYTE_COUNT+2],S=t[this.TAG_HEADER_BYTE_COUNT+3],T=(248&w)>>3,A=(7&w)<<1|S>>7,I=S>>3&15;i={type:"audio",pts:o,dts:r,audioObjectType:T,sampleCount:1024,channelCount:I,sampleRate:this.ADTS_SAMPLING_FREQUENCIES[A],samplingFrequencyIndex:A,sampleSize:y}}else x=t.subarray(this.TAG_HEADER_BYTE_COUNT+2,this.TAG_HEADER_BYTE_COUNT+2+n-2),i={type:"audio",PTS:o,DTS:r,data_byte:x}}else c["default"].error("flv unhandled soundFormat "+m)}else c["default"].warn("flv unhandled tag type "+a);return i}},{key:"_uint8arrayToString",value:function(e){return String.fromCharCode.apply(null,e)}},{key:"_uint8arrayToDouble",value:function(e){var t=new Uint8Array(e),i=new DataView(t.buffer),a=i.getFloat64(0);return i=null,t=null,a}},{key:"_uint8arrayWrite32",value:function(e,t){var i=new Uint8Array(4),a=void 0;new DataView(i.buffer).setInt32(0,t);try{a=new Uint8Array(e.byteLength+4)}catch(t){c["default"].error("flv uint8arrayWrite32 "+e.byteLength+" failed: "+t.message)}return a.set(e),a.set(i,e.byteLength),a}}]),e}();t["default"]=f,f.TAG_TYPE_VIDEO=9,f.TAG_TYPE_AUDIO=8,f.TAG_TYPE_SCRIPTDATAOBJECT=18,f.TAG_HEADER_BYTE_COUNT=11,f.AVC_PACKET_TYPE_SEQUENCE_HEADER=0,f.AVC_PACKET_TYPE_NALU=1,f.CODEC_ID_AVC=7,f.SOUND_FORMAT_AAC=10,f.ADTS_SAMPLING_FREQUENCIES=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){var t=0;return ArrayBuffer.isView(e)&&(t=e.byteOffset,e=e.buffer),new DataView(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(73),o=a(r),s=i(75),d=a(s),u=function(){function e(){(0,o["default"])(this,e)}return(0,d["default"])(e,[{key:"readUint8",value:function(e,t){return n(e).getUint8(t)}},{key:"readUint16",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(e).getUint16(t,i)}},{key:"readUint32",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(e).getUint32(t,i)}}]),e}();t["default"]=u},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(158),g=a(b),v=function(e){function t(){(0,s["default"])(this,t);var e=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e.cachedBytes=null,e}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t=this,i=0,a=0,n=0,r=e.pes,o=r.PTS,s=r.DTS,d=r.data_byte,u=void 0;if(this.cachedBytes){try{u=new Uint8Array(this.cachedBytes.byteLength+d.byteLength)}catch(e){throw"h264 alloc mem error "+this.cachedBytes.byteLength+"/"+d.byteLength}u.set(this.cachedBytes),u.set(d,this.cachedBytes.byteLength)}else u=d;if(r.hasOwnProperty("naluSizeLength")){var l=r.naluSizeLength,c=0,f=0,_=0;do{f=0;for(var h=0;h<l;h++)f|=u[c+h]<<8*(l-h-1);c+=l,_=c+f,_>u.length&&(_=u.length);var p=u.subarray(c,_),b=new g["default"](p);b.pts=o,b.dts=s,t.emit("nalu",b),c=_}while(c<u.length)}else{var v=u.byteLength-1,m=0;do{if(0!==u[v])break;m++,v--}while(v>0);m>=3&&(u=u.subarray(0,v+1));do{var y=u[i]<<24|u[i+1]<<16|u[i+2]<<8|u[i+3],x=u.length-i>=4?y:-1,k=0,w=i===u.length-1;if(x>>8==1?k=3:1===x&&(k=4),3===k||4===k||w){var S=a+n,T=w&&m>=3;if(i>a&&(!w||T)){var A=u.subarray(S,T?i+1:i),I=new g["default"](A);I.pts=o,I.dts=s,t.emit("nalu",I),a=i}w&&(m<3?(this.cachedBytes=u.subarray(a),this.cachedBytes.pts=o,this.cachedBytes.dts=s,this.cachedBytes.startCodeLength=n):this.cachedBytes=null),i===a&&(n=k),i+=k||1}else i++}while(i<u.length)}if(this.cachedBytes){var E=new g["default"](this.cachedBytes.subarray(this.cachedBytes.startCodeLength));E.pts=this.cachedBytes.pts,E.dts=this.cachedBytes.dts,this.emit("nalu",E),this.cachedBytes=null}this.emit("done")}},{key:"reset",value:function(){this.cachedBytes=null}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){return{}}function r(e){return e[0]>>5}Object.defineProperty(t,"__esModule",{value:!0});var o=i(69),s=a(o),d=i(73),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(156),p=a(h),b=i(159),g=a(b),v=i(160),m=a(v),y=i(161),x=a(y),k=i(163),w=a(k),S=function(e){function t(e){(0,u["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this));switch(i.forbidden_zero_bit=e[0]>>7,i.ref_idc=e[0]>>5&3,i.unit_type=31&e[0],i.data=(0,m["default"])(e.subarray(1)),i.rawData=e,i.unit_type){case g["default"].NON_IDR_SLICE:break;case g["default"].DPA_SLICE:case g["default"].DPB_SLICE:case g["default"].DPC_SLICE:case g["default"].IDR_SLICE:break;case g["default"].SPS:i.sps=(0,x["default"])(i.data);break;case g["default"].PPS:i.pps=(0,w["default"])(i.data);break;case g["default"].SEI:i.sei=n(i.data);break;case g["default"].AUD:i.primary_pic_type=r(i.data)}return i}return(0,_["default"])(t,e),t}(p["default"]);t["default"]=S},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={NON_IDR_SLICE:1,DPA_SLICE:2,DPB_SLICE:3,DPC_SLICE:4,IDR_SLICE:5,SEI:6,SPS:7,PPS:8,AUD:9,END_SEQUENCE:10,END_STREAM:11}},function(e,t,i){function a(e){for(var t=e.byteLength,i=[],a=1,n=void 0,r=new Uint8Array(0);a<t-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;n=t-i.length;try{r=new Uint8Array(n)}catch(e){throw"epsb alloc mem error "+n}var o=0;for(a=0;a<n;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){function a(e,t){for(var i=8,a=8,n=void 0,s=0;s<t;s++)0!=a&&(n=r["default"].readUEV(e,o),o+=n.bitLength,a=(i+n.value+256)%256),i=e[s]}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){o=0;var t=e[0],i=e[1],n=e[2],s=e.subarray(3),d=0,u=void 0,l=void 0,c=void 0,f=void 0,_=[1,1],h=1,p=void 0,b=0,g=void 0,v=void 0,m=!0,y=r["default"].readUEV(s,o);if(o+=y.bitLength,100==t||110==t||122==t||244==t||44==t||83==t||86==t||118==t||128==t){var x=r["default"].readUEV(s,o);o+=x.bitLength,3==x.value&&(r["default"].readBit(s,o),o+=1);var k=r["default"].readUEV(s,o);o+=k.bitLength;var w=r["default"].readUEV(s,o);if(o+=w.bitLength,r["default"].readBit(s,o),o+=1,d=r["default"].readBit(s,o),o+=1,d)for(var S=0;S<(3!=x.value?8:12);S++){var T=r["default"].readBit(s,o);o+=1,T&&(S<6?a(s,16):a(s,64))}}var A=r["default"].readUEV(s,o);o+=A.bitLength;var I=r["default"].readUEV(s,o),E=I.value;if(o+=I.bitLength,0===E)u=r["default"].readUEV(s,o),o+=u.bitLength;else if(1===E){r["default"].readBit(s,o),o+=1,l=r["default"].readSEV(s,o),o+=l.bitLength,c=r["default"].readSEV(s,o),o+=c.bitLength,f=r["default"].readUEV(s,o),o+=f.bitLength;for(var P,D=[],q=0;q<f.value;q++)P=r["default"].readSEV(s,o),o+=c.bitLength,D.push(P)}var O=r["default"].readUEV(s,o);o+=O.bitLength;r["default"].readBit(s,o);o+=1;var R=r["default"].readUEV(s,o);o+=R.bitLength;var L=r["default"].readUEV(s,o);o+=L.bitLength;var M=r["default"].readBit(s,o);o+=1,M||(o+=1);r["default"].readBit(s,o);o+=1;var C=r["default"].readBit(s,o);o+=1;var F=0,N=0,V=0,U=0;if(C){var B=r["default"].readUEV(s,o);o+=B.bitLength,F=B.value;var H=r["default"].readUEV(s,o);o+=H.bitLength,N=H.value;var j=r["default"].readUEV(s,o);o+=j.bitLength,V=j.value;var Q=r["default"].readUEV(s,o);o+=Q.bitLength,U=Q.value}var Y=r["default"].readBit(s,o);if(o+=1,Y){var z=r["default"].readBit(s,o);if(o+=1,z){var G=r["default"].readByte(s,o);switch(o+=8,G){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:var W=r["default"].readByte(s,o);o+=8;var K=r["default"].readByte(s,o);o+=8;var X=r["default"].readByte(s,o);o+=8;var Z=r["default"].readByte(s,o);o+=8,_=[W<<8|K,X<<8|Z]}_&&(h=_[0]/_[1]),255===G&&(o+=16,o+=16)}var J=r["default"].readBit(s,o);o+=1,J&&(o+=1);var $=r["default"].readBit(s,o);if(o+=1,$){p=r["default"].readBit(s,o,3),o+=3;r["default"].readBit(s,o);o+=1;var ee=r["default"].readBit(s,o);o+=1,ee&&(o+=24)}var te=r["default"].readBit(s,o);if(o+=1,te){var ie=r["default"].readUEV(s,o);o+=ie.bitLength;var ae=r["default"].readUEV(s,o);o+=ae.bitLength}var ne=r["default"].readBit(s,o);o+=1,ne&&(g=r["default"].readBit(s,o,32),o+=32,v=r["default"].readBit(s,o,32),o+=32,m=r["default"].readBit(s,o),o+=1,b=v/(2*g))}return{profile_idc:t,profile_compatibility:i,level_idc:n,sps_id:y.value,log2_max_frame_num_minus4:I.value,pic_order_cnt_type:E,log2_max_pic_order_cnt_lsb_minus4:u?u.value:0,width:Math.ceil((16*(R.value+1)-2*F-2*N)*h),height:(2-M)*(L.value+1)*16-2*V-2*U,pixelRatio:_,payload:s,video_format:p,fps:b,fixedFPS:m}};var n=i(162),r=function(e){return e&&e.__esModule?e:{"default":e}}(n),o=0},function(e,t,i){function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=0,n=0,r="",o=0,s=t;s<t+i;s++)a=Math.floor(s/8),n=7-s%8,o=e[a]>>n&1,r+=o;return parseInt(r,2)}function n(e){return a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,8)}function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],a=8*e.byteLength,n=!1,r=0,o=0,s=0,d="",u=t;u<a;u++)if(r=Math.floor(u/8),o=7-u%8,s=e[r]>>o&1,!n){if(0!==s){n=!0,t=u;break}i.push(0)}for(var l=i.length+1,c=t;c<t+l;c++)r=Math.floor(c/8),o=7-c%8,s=e[r]>>o&1,d+=s;return d=parseInt(d,2)-1,{bitLength:i.length+l,value:d}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=r(e,t),a=i.value,n=Math.pow(-1,a+1)*Math.ceil(a/2);return{bitLength:i.bitLength,value:n}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={readUEV:r,readSEV:o,readBit:a,readByte:n}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(164),r=a(n);t["default"]=function(e){var t=0,i=e,a=[],n=void 0,o=void 0,d=0;t+=s["default"].readUEV(i,t).bitLength,t+=s["default"].readUEV(i,t).bitLength;s["default"].readBit(i,t);t+=1;s["default"].readBit(i,t);t+=1;var u=s["default"].readUEV(i,t);if(t+=u.bitLength,u.value>0){var l=s["default"].readUEV(i,t);t+=l.bitLength;var c=0,f=void 0;switch(l.value){case 0:for(c=0;c<=l.value;c++)f=s["default"].readUEV(i,t),t+=f.bitLength;break;case 2:for(c=0;c<=l.value;c++)f=s["default"].readUEV(i,t),t+=f.bitLength,f=s["default"].readUEV(i,t),t+=f.bitLength;break;case 3:case 4:case 5:s["default"].readBit(i,t),t+=1,n=s["default"].readUEV(i,t),t+=n.bitLength;break;case 6:o=s["default"].readUEV(i,t),t+=o.bitLength;var _=Math.ceil((0,r["default"])(u.value+1));for(d=0;d<=o.value;d++)a.push(s["default"].readBit(i,t,_)),t+=_}}t+=s["default"].readUEV(i,t).bitLength,t+=s["default"].readUEV(i,t).bitLength;s["default"].readBit(i,t);t+=1;s["default"].readBit(i,t,2);t+=1,t+=s["default"].readSEV(i,t).bitLength,t+=s["default"].readSEV(i,t).bitLength,t+=s["default"].readSEV(i,t).bitLength;s["default"].readBit(i,t);t+=1;s["default"].readBit(i,t);t+=1;s["default"].readBit(i,t);return t+=1,{sliceGroupNum:u.value+1}};var o=i(162),s=a(o)},function(e,t,i){e.exports={"default":i(165),__esModule:!0}},function(e,t,i){i(166),e.exports=i(13).Math.log2},function(e,t,i){var a=i(11);a(a.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={H264:27,HEVC:36,ADTS:15,METADATA:21}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(108),r=a(n),o=i(93),s=a(o),d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];t["default"]=function(e,t,i){var a=void 0,n=e,o=void 0;return t>d.length-1?void s["default"].error("invalid sampling index:"+t):(r["default"].browser.FIREFOX?t>=6?(e=5,o=new Array(4),a=t-3):(e=2,o=new Array(2),a=t):r["default"].os.android?(e=2,o=new Array(2),a=t):(e=5,o=new Array(4),t>=6?a=t-3:(1===i&&(e=2,o=new Array(2)),a=t)),o[0]=e<<3,o[0]|=(14&t)>>1,o[1]|=(1&t)<<7,o[1]|=i<<3,5===e&&(o[1]|=(14&a)>>1,o[2]=(1&a)<<7,o[2]|=8,o[3]=0),{config:o,sampleRate:d[t],channelCount:i,codec:"mp4a.40."+e,realCodec:"mp4a.40."+n})}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){for(var i=e.profile_idc,a=e.profile_compatibility,n=e.level_idc,r="avc1.",o=[i,a,n],s=0;s<o.length;s++){var d=o[s].toString(16);d.length<2&&(d="0"+d),r+=d}return{codec:r}}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this))}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){this.emit("data",e)}},{key:"flush",value:function(){this.emit("done")}},{key:"endStream",get:function(){return this}}]),t}(p["default"]);t["default"]=b},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(172),r=a(n),o=i(190),s=a(o);t["default"]={Demux:r["default"],Remux:s["default"]}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(173),g=a(b),v=i(93),m=a(v),y=i(174),x=a(y),k=i(175),w=a(k),S=i(181),T=a(S),A=i(183),I=a(A),E=i(188),P=a(E),D=i(189),q=a(D),O=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s["default"])(this,t);var a=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a.context=e,a.options=i,a.cache_buffer=new x["default"],a.psi=new I["default"](e),a.pesStream=new T["default"](e,a.psi),a.elementaryStream=new w["default"](e,a.psi,i),a.complexStream=new g["default"](e,a.psi),a.pipe(a.pesStream),a.pesStream.pipe(a.elementaryStream),a.elementaryStream.pipe(a.complexStream),a}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(m["default"].log("hls demux received "+e.byteLength+" bytes, cache "+this.cache_buffer.byteLength+" bytes. "+(t.done?"chunk done":"")),this.cache_buffer.append(e);this.cache_buffer.byteLength>=188;){var i=this.cache_buffer.cut(188);if(i){var a=new P["default"](i);if(!a.valid()){var n="Encounter invalid ts packet, packet_length("+i.length+"), cache_length("+this.cache_buffer.byteLength+"), has_payload("+a.has_payload+"), data("+i+")";m["default"].error(n),this.reset(),this.context.emit("error",q["default"].TS_SYNC_BYTE,n);break}this.psi.parse(a),this.emit("data",a)}}this.cache_buffer.empty&&t.done&&this.emit("done")}},{key:"reset",value:function(){this.cache_buffer.clear(),this.emit("reset")}},{key:"endStream",get:function(){var e=this.complexStream;return this.options.onlyDemuxElementary&&(e=this.elementaryStream),e}}]),t}(p["default"]);t["default"]=O},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(93),g=(a(b),function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a.context=e,a.PSI=i,a.videoTrack=null,a.audioTrack=null,a.captionTrack=null,a}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){for(var t,i=e,a=0;a<i.length;a++)switch(t=i[a],t.type){case"video":this._complexVideo(t);break;case"audio":this._complexAudio(t);break;case"caption":this._complexCaption(t)}}},{key:"flush",value:function(){this.emit("done"),this._clearStream()}},{key:"reset",value:function(){this._clearStream()}},{key:"_clearStream",value:function(){this.videoTrack=null,this.audioTrack=null,this.captionTrack=null}},{key:"_complexVideo",value:function(e){var t=this.PSI.findTrack(e.trackId);t&&(t.type="video",t.gops=e,t.firstDTS=e[0][0].dts,t.firstPTS=e[0][0].pts,t.duration=Number.POSITIVE_INFINITY,this.videoTrack=t,this.emit("data",{videoTrack:this.videoTrack}))}},{key:"_complexAudio",value:function(e){var t=this.PSI.findTrack(e.trackId);t&&(t.type="audio",t.frames=e,t.firstPTS=t.firstDTS=e[0].dts,t.duration=Number.POSITIVE_INFINITY,this.audioTrack=t,this.emit("data",{audioTrack:this.audioTrack}))}},{key:"_complexCaption",value:function(){}}]),t}(p["default"]));t["default"]=g},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(){(0,r["default"])(this,e),this._list=[],this._byteLength=null}return(0,s["default"])(e,[{key:"byteLength",get:function(){if(null===this._byteLength){for(var e,t=0,i=0;i<this._list.length;i++)e=this._list[i],t+=e.byteLength;this._byteLength=t}return this._byteLength}},{key:"empty",get:function(){return 0===this._list.length}},{key:"bufferList",get:function(){return this._list}}]),(0,s["default"])(e,[{key:"clear",value:function(){var e=this._list.length;e>0&&this._list.splice(0,e),this._byteLength=null}},{key:"toNewBytes",value:function(){for(var e=null,t=0;null===e;)try{t++,e=new Uint8Array(this.byteLength)}catch(e){if(t>50)throw e}for(var i=0,a=0;i<this._list.length;i++){var n=this._list[i];e.set(n,a),a+=n.byteLength}return e}},{key:"append",value:function(t){t instanceof e?this._list=this._list.concat(t.bufferList):this._list.push(t),this._byteLength=null}},{key:"cut",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=null;if(e>0&&!this.empty){for(var a=this._list,n=0,r=0;a.length>0;){var o=a.shift();if(0!==r){var s=e-n;if(o.byteLength>=s){t&&i.set(o.subarray(0,s),n),o=o.subarray(s),o.byteLength>0&&a.unshift(o);break}t&&i.set(o,n),n+=o.byteLength;break}if(o.byteLength>=e){t&&(i=o.subarray(0,e)),o.byteLength>e&&(o=o.subarray(e),a.unshift(o));break}if(t){try{i=new Uint8Array(e)}catch(t){throw"alloc_memory_error@ cache buffer: "+e+" "+t.message}i.set(o,0)}n+=o.byteLength,r++}this._byteLength=null}return i}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(93),g=a(b),v=i(176),m=a(v),y=i(177),x=a(y),k=i(179),w=a(k),S=i(167),T=a(S),A=function(e){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s["default"])(this,t);var n=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return n.context=e,n.PSI=i,n.options=a,n.tracks=[],n.adtsStream=new w["default"](i),n.h264Stream=new m["default"](i),n.hevcStream=new x["default"](i),n.streams=[n.adtsStream,n.h264Stream,n.hevcStream],n.h264Stream.on("data",function(e){n.tracks.push(e),n.emit("data",n.tracks),n.tracks=[],n.adtsStream.flush()}),n.hevcStream.on("data",function(e){n.tracks.push(e),n.emit("data",n.tracks),n.tracks=[],n.adtsStream.flush()}),n.adtsStream.on("data",function(e){n.tracks.push(e),n.emit("data",n.tracks),n.tracks=[]}),n}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t=this.options,i=this.adtsStream,a=this.h264Stream,n=this.hevcStream,r=e.stream_type;if(t.onlyDemuxElementary)this.emit("data",e);else switch(r){case T["default"].H264:a.push(e);break;case T["default"].HEVC:g["default"].log("hevc stream received",e),n.push(e);break;case T["default"].ADTS:i.push(e);break;default:g["default"].warn("ts elementary encounter unknown stream type "+r)}}},{key:"flush",value:function(){for(var e=0;e<this.streams.length;e++){this.streams[e].flush()}this.emit("data",this.tracks),this.emit("done"),this.tracks=[]}},{key:"reset",value:function(){this.tracks=[];for(var e=0;e<this.streams.length;e++){this.streams[e].reset()}this.emit("reset")}}]),t}(p["default"]);t["default"]=A},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(167),g=a(b),v=i(159),m=a(v),y=i(157),x=a(y),k=i(169),w=a(k),S=i(93),T=a(S),A=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.PSI=e,i.trackId=null,i.currentFrame=[],i.codec=new x["default"],i._newGop(),i._newGops(),i.codec.on("nalu",function(e){if(e.unit_type===m["default"].SPS){var t=i.PSI.findTrack(i.trackId),a=(0,w["default"])(e.sps);t.codec=a.codec,t.width=e.sps.width,t.height=e.sps.height,t.profileIdc=e.sps.profile_idc,t.profileCompatibility=e.sps.profile_compatibility,t.levelIdc=e.sps.level_idc,t.pixelRatio=e.sps.pixelRatio,t.sps=[e.rawData]}else if(e.unit_type===m["default"].PPS){var n=i.PSI.findTrack(i.trackId);n.pps=[e.rawData]}i._grouping(e)}),i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){e.stream_type===g["default"].H264&&(this.trackId=e.pid,this.codec.push(e))}},{key:"flush",value:function(){this.currentFrame.length>0&&((!this.currentFrame.duration||this.currentFrame.duration<=0)&&(this.currentFrame.duration=this.prevFrame.duration||0),this._pushFrameIntoGop(),this.currentFrame=[]),this.gop.length>0&&this._pushGopIntoGroup()}},{key:"reset",value:function(){this.codec.reset(),this.currentFrame=[],this._newGop(),this._newGops()}},{key:"_grouping",value:function(e){e.unit_type===m["default"].AUD?(this.currentFrame.length>0&&(this.currentFrame.duration=e.dts-this.currentFrame.dts,this.gop.length>0&&this.currentFrame.keyframe&&(this.gop.trackId=this.trackId,this._pushGopIntoGroup()),this.currentFrame.keyframe||this.gop.length>0?this._pushFrameIntoGop():T["default"].warn("h264 codec drop frame")),this.prevFrame=this.currentFrame,this.currentFrame=[],this.currentFrame.keyframe=!1,this.currentFrame.byteLength=0,this.currentFrame.naluCount=0,this.currentFrame.pts=e.pts,this.currentFrame.dts=e.dts):(e.unit_type===m["default"].IDR_SLICE&&(this.currentFrame.keyframe=!0),this.currentFrame.byteLength+=e.rawData.byteLength,this.currentFrame.naluCount++,this.currentFrame.push(e)),this.currentFrame.duration=e.dts-this.currentFrame.dts}},{key:"_newGop",value:function(){this.gop=[],this.gop.duration=0,this.gop.naluCount=0,this.gop.byteLength=0}},{key:"_pushFrameIntoGop",value:function(){this.gop.push(this.currentFrame),this.gop.duration+=this.currentFrame.duration,this.gop.byteLength+=this.currentFrame.byteLength,this.gop.naluCount+=this.currentFrame.naluCount}},{key:"_newGops",value:function(){this.gops=[],this.gops.type="video",this.gops.duration=0,this.gops.naluCount=0,this.gops.byteLength=0,this.gops.frameLength=0}},{key:"_pushGopIntoGroup",value:function(){this.gops.trackId=this.trackId,this.gops.duration+=this.gop.duration,this.gops.byteLength+=this.gop.byteLength,this.gops.naluCount+=this.gop.naluCount,this.gops.frameLength+=this.gop.length,this.gops.push(this.gop),this.emit("data",this.gops),this._newGop(),this._newGops(),this.emit("done")}}]),t}(p["default"]);t["default"]=A},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(167),g=a(b),v=i(159),m=a(v),y=i(178),x=a(y),k=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.PSI=e,i.trackId=null,i.currentFrame=[],i.codec=new x["default"],i._newGop(),i._newGops(),i.codec.on("nalu",function(e){if(e.unit_type===m["default"].SPS){var t=i.PSI.findTrack(i.trackId);t.width=e.sps.width,t.height=e.sps.height,t.profileIdc=e.sps.profile_idc,t.profileCompatibility=e.sps.profile_compatibility,t.levelIdc=e.sps.level_idc,t.pixelRatio=e.sps.pixelRatio,t.sps=[e.rawData]}else if(e.unit_type===m["default"].PPS){var a=i.PSI.findTrack(i.trackId);a.pps=[e.rawData]}i._grouping(e)}),i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){e.stream_type===g["default"].HEVC&&(this.trackId=e.pid,this.codec.push(e))}},{key:"flush",value:function(){this.currentFrame.length>0&&((!this.currentFrame.duration||this.currentFrame.duration<=0)&&(this.currentFrame.duration=this.prevFrame.duration||0),this._pushFrameIntoGop()),this.gop.length>0&&this._pushGopIntoGroup()}},{key:"reset",value:function(){this.codec.reset(),this.currentFrame=[],this._newGop(),this._newGops()}},{key:"_grouping",value:function(e){e.unit_type===m["default"].AUD?(this.currentFrame.length>0&&(this.currentFrame.duration=e.dts-this.currentFrame.dts,this.gop.length>0&&this.currentFrame.keyframe&&(this.gop.trackId=this.trackId,this._pushGopIntoGroup()),(this.currentFrame.keyframe||this.gop.length>0)&&this._pushFrameIntoGop()),this.prevFrame=this.currentFrame,this.currentFrame=[],this.currentFrame.keyframe=!1,this.currentFrame.byteLength=0,this.currentFrame.naluCount=0,this.currentFrame.pts=e.pts,this.currentFrame.dts=e.dts):(e.unit_type===m["default"].IDR_SLICE&&(this.currentFrame.keyframe=!0),this.currentFrame.byteLength+=e.rawData.byteLength,this.currentFrame.naluCount++,this.currentFrame.push(e)),this.currentFrame.duration=e.dts-this.currentFrame.dts}},{key:"_newGop",value:function(){this.gop=[],this.gop.duration=0,this.gop.naluCount=0,this.gop.byteLength=0}},{key:"_pushFrameIntoGop",value:function(){this.gop.push(this.currentFrame),this.gop.duration+=this.currentFrame.duration,this.gop.byteLength+=this.currentFrame.byteLength,this.gop.naluCount+=this.currentFrame.naluCount}},{key:"_newGops",value:function(){this.gops=[],this.gops.type="video",this.gops.duration=0,this.gops.naluCount=0,this.gops.byteLength=0,this.gops.frameLength=0}},{key:"_pushGopIntoGroup",value:function(){this.gops.trackId=this.trackId,this.gops.duration+=this.gop.duration,this.gops.byteLength+=this.gop.byteLength,this.gops.naluCount+=this.gop.naluCount,this.gops.frameLength+=this.gop.length,this.gops.push(this.gop),this.emit("data",this.gops),this._newGop(),this._newGops(),this.emit("done")}}]),t}(p["default"]);t["default"]=k},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(158),g=a(b),v=function(e){function t(){(0,s["default"])(this,t);var e=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e.cachedBytes=null,e}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t=this,i=0,a=0,n=0,r=e.pes,o=r.PTS,s=r.DTS,d=r.data_byte,u=void 0;if(this.cachedBytes?(u=new Uint8Array(this.cachedBytes.byteLength+d.byteLength),u.set(this.cachedBytes),u.set(d,this.cachedBytes.byteLength)):u=d,r.hasOwnProperty("naluSizeLength")){var l=r.naluSizeLength,c=0,f=0,_=0;do{f=0;for(var h=0;h<l;h++)f|=u[c+h]<<8*(l-h-1);c+=l,_=c+f,_>u.length&&(_=u.length);var p=u.subarray(c,_),b=new g["default"](p);b.pts=o,b.dts=s,t.emit("nalu",b),c=_}while(c<u.length)}else{var v=u.byteLength-1,m=0;do{if(0!==u[v])break;m++,v--}while(v>0);m>=3&&(u=u.subarray(0,v+1));do{var y=u[i]<<24|u[i+1]<<16|u[i+2]<<8|u[i+3],x=u.length-i>=4?y:-1,k=0,w=i===u.length-1;if(x>>8==1?k=3:1===x&&(k=4),3===k||4===k||w){var S=a+n,T=w&&m>=3;if(i>a&&(!w||T)){var A=u.subarray(S,T?i+1:i),I=new g["default"](A);I.pts=o,I.dts=s,t.emit("nalu",I),a=i}w&&(m<3?(this.cachedBytes=u.subarray(a),this.cachedBytes.pts=o,this.cachedBytes.dts=s,this.cachedBytes.startCodeLength=n):this.cachedBytes=null),i===a&&(n=k),i+=k||1}else i++}while(i<u.length)}if(this.cachedBytes){var E=new g["default"](this.cachedBytes.subarray(this.cachedBytes.startCodeLength));E.pts=this.cachedBytes.pts,E.dts=this.cachedBytes.dts,this.emit("nalu",E),this.cachedBytes=null}this.emit("done")}},{key:"reset",value:function(){this.cachedBytes=null}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(167),g=a(b),v=i(180),m=a(v),y=i(168),x=a(y),k=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.PSI=e,i.trackId=null,i.codec=new m["default"],i.codec.on("frame",function(e){i.frames.push(e),i.frames.byteLength+=e.data.byteLength,i.frames.trackId=i.trackId}),i._newFrames(),i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){e.stream_type===g["default"].ADTS&&(this.trackId=e.pid,this.codec.push(e))}},{key:"flush",value:function(){if(this.frames.length>0){var e=this.frames[0];this._updateTrackMeta(e),this.emit("data",this.frames),this.reset(),this.emit("done")}}},{key:"reset",value:function(){this.trackId=null,this._newFrames()}},{key:"_newFrames",value:function(){this.frames=[],this.frames.type="audio",this.frames.byteLength=0}},{key:"_updateTrackMeta",value:function(e){var t=this.PSI.findTrack(this.trackId),i=(0,x["default"])(e.audioObjectType,e.samplingFrequencyIndex,e.channelCount);t.config=i.config,t.sampleRate=i.sampleRate,t.inputTimeScale=t.inputTimeScale||t.timescale,t.timescale=i.sampleRate,t.channelCount=i.channelCount,t.codec=i.codec,t.realCodec=i.realCodec,t.isAAC=!0}}]),t}(p["default"]);t["default"]=k},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],g=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this))}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t=e.pes,i=t.PTS,a=t.DTS,n=t.data_byte,r=void 0,o=0,s=0,d=void 0,u=void 0,l=void 0,c=void 0,f=void 0;for(r=n;o+5<r.length;)if(255===r[o]&&240==(246&r[o+1])){if(u=2*(1&~r[o+1]),d=(3&r[o+3])<<11|r[o+4]<<3|(224&r[o+5])>>5,c=1024*(1+(3&r[o+6])),f=9e4*c/b[(60&r[o+2])>>>2],l=o+d,r.byteLength<l)return;if(this.emit("frame",{pts:i+s*f,dts:a+s*f,sampleCount:c,audioObjectType:1+(r[o+2]>>>6&3),channelCount:(1&r[o+2])<<2|(192&r[o+3])>>>6,sampleRate:b[(60&r[o+2])>>>2],samplingFrequencyIndex:(60&r[o+2])>>>2,sampleSize:16,data:r.subarray(o+7+u,l)}),r.byteLength===l)return r=void 0,void this.emit("done");s++,r=r.subarray(l)}else o++}}]),t}(p["default"]);t["default"]=g},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(174),g=a(b),v=i(182),m=a(v),y=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a.context=e,a.PSI=i,a.PID=null,a.cache_buffer=new g["default"],a}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){var t=this;e.PID>255&&e.PID<8191&&(-1==this.PSI.currentProgramPID?t._pushPacket(e):this.PSI.currentProgramPID!==e.PID&&(1===e.payload_unit_start_indicator&&t._assembleOnePES(),t._pushPacket(e)))}},{key:"flush",value:function(){var e=this;e._assembleOnePES(),e.emit("done")}},{key:"reset",value:function(){this._clearCached(),this.emit("reset")}},{key:"_clearCached",value:function(){this.PID=null,this.cache_buffer.clear()}},{key:"_pushPacket",value:function(e){var t=this.cache_buffer.empty;t&&0===e.payload_unit_start_indicator||(t&&(this.PID=e.PID),this.cache_buffer.append(e.payload))}},{key:"_assembleOnePES",value:function(){var e=this;if(!this.cache_buffer.empty){var t=void 0;try{t=this.cache_buffer.toNewBytes()}catch(e){throw"pes alloc mem err "+this.cache_buffer.byteLength}var i=new m["default"](t),a=this.PSI.findTrack(this.PID);a&&e.emit("data",{pid:a.id,stream_type:a.stream_type,pcr_pid:a.pcr_pid,pes:i}),e._clearCached()}}}]),t}(p["default"]);t["default"]=y},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(156),p=a(h),b=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.start_code_prefix=i.readUint16(e,0)<<8|e[2],i.stream_id=e[3],i.packet_length=i.readUint16(e,4),i.data_alignment_indicator=4&e[6],i.copyright=2&e[6],i.PTS_DTS_flags=e[7]>>6,i.ESCR_flag=32&e[7],i.ES_rate_flag=16&e[7],i.trick_mode_flag=8&e[7],i.additional_copy_info_flag=4&e[7],i.CRC_flag=2&e[7],i.extension_flag=1&e[7],i.header_data_length=e[8],i.PTS=0,2==(2&i.PTS_DTS_flags)&&(i.PTS=(e[9]>>1&7)<<30|i.readUint16(e,10)>>1<<15|i.readUint16(e,12)>>1),i.DTS=i.PTS,1==(1&i.PTS_DTS_flags)&&(i.DTS=(e[14]>>1&7)<<30|i.readUint16(e,15)>>1<<15|i.readUint16(e,17)>>1),i.data_byte=e.subarray(9+i.header_data_length),i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"valid",value:function(){var e=this.start_code_prefix;return 0===e[0]&&0===e[1]&&1===e[2]}}]),t}(p["default"]);t["default"]=b},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(184),u=a(d),l=i(185),c=a(l),f=i(186),_=a(f),h=i(187),p=function(){function e(t){(0,r["default"])(this,e),this.context=t,this.metadata={},this.pat_table=[],this.pes_streams=[]}return(0,s["default"])(e,[{key:"currentProgramPID",get:function(){for(var e=[],t=0;t<this.pat_table.length;t++)e.push(this.pat_table[t].pid);return e.length>0?e[0]:-1}}]),(0,s["default"])(e,[{key:"reset",value:function(){this.metadata={},this.pat_table.splice(0,this.pat_table.length),this.pes_streams.splice(0,this.pes_streams.length)}},{key:"parse",value:function(e){var t=this;h.PAT_PID===e.PID?this._parsePat(e):h.CAT_PID===e.PID||h.TSDT_PID===e.PID||3<=e.PID&&e.PID<=15||(h.SDT_PID===e.PID?this._parseSdt(e):e.PID===t.currentProgramPID&&this._parsePmt(e))}},{key:"findTrack",value:function(e){for(var t=null,i=this.pes_streams,a=0;a<i.length;a++)if(i[a].id===e){t=i[a];break}return t}},{key:"_parsePat",value:function(e){var t=void 0;if(e.payload_unit_start_indicator){var i=e.payload[0];t=e.payload.subarray(i+1)}else t=e.payload;for(var a=new u["default"](t),n=0;n<a.pmtTable.length;n++)this._add_pid_to_pmt(a.pmtTable[n].programNum,a.pmtTable[n].program_map_PID);return a}},{key:"_add_pid_to_pmt",value:function(e,t){var i=this.pat_table;(function(e){for(var t,a=0;a<i.length;a++)if(t=i[a],t.id===e)return{idx:a,item:t};return null})(e)||i.push({id:e,pid:t})}},{key:"_parsePmt",value:function(e){var t=void 0;if(e.payload_unit_start_indicator){var i=e.payload[0];t=e.payload.subarray(i+1)}else t=e.payload;for(var a=new c["default"](t),n=0;n<a.pes_table.length;n++)this._add_pes_stream(a.pes_table[n],a);return a}},{key:"_add_pes_stream",value:function(e,t){var i=this.pes_streams;(function(e){for(var t,a=0;a<i.length;a++)if(t=i[a],t.id===e)return{idx:a,item:t};return null})(e.id)||i.push({id:e.PID,stream_type:e.streamType,pcr_pid:t.PCR_PID,duration:0,sps:[],pps:[],pixelRatio:1,timescale:9e4,width:0,height:0})}},{key:"_parseSdt",value:function(e){var t=void 0;if(e.payload_unit_start_indicator){var i=e.payload[0];t=e.payload.subarray(i+1)}else t=e.payload;var a=new _["default"](t);return a.service_table.length>0&&(this.metadata.service_name=a.service_table[0].name,this.metadata.service_provider=a.service_table[0].provider_name),a}}]),e}();t["default"]=p},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(156),p=a(h),b=i(93),g=a(b),v=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));i.table_id=e[0],i.section_syntax_indicator=e[1]>>7,i.section_length=(15&e[1])<<8|e[2],i.transport_stream_id=i.readUint16(e,3),i.version_number=e[5]>>1&31,i.current_next_indicator=e[5]&&1,i.section_number=e[6],i.last_section_number=e[7],i.network_PID=0;var a,n=0,o=i.section_length-4-5;for(i.pmtTable=[];n<o;n+=4)a=i.readUint16(e,8+n),e[10+n]>>5,0==a?(i.network_PID=(31&e[10+n])<<8|e[11+n],g["default"].log("packet->network_PID %0x /n/n",i.network_PID)):i.pmtTable.push({programNum:a,program_map_PID:(31&e[10+n])<<8|e[11+n]});var d=i.section_length+3;return i.CRC_32=(255&e[d-4])<<24|(255&e[d-3])<<16|(255&e[d-2])<<8|255&e[d-1],i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"valid",value:function(){var e=this.start_code_prefix;return 0===e[0]&&0===e[1]&&1===e[2]}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(156),p=a(h),b=i(93),g=a(b),v=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));if(i.table_id=e[0],i.section_syntax_indicator=e[1]>>7,i.section_length=(15&e[1])<<8|e[2],i.program_number=i.readUint16(e,3),i.version_number=e[5]>>1&31,i.current_next_indicator=e[5]&&1,i.section_number=e[6],i.last_section_number=e[7],i.PCR_PID=(31&e[8])<<8|e[9],i.program_info_length=(15&e[10])<<8|e[11],i.program_info_length<0)return(0,c["default"])(i);if(i.program_info_length>2)for(var a=0;a<i.program_info_length;){var n=e[13+a];a+=n}var o=12+i.program_info_length,d=i.section_length-i.program_info_length-9-4,u=o+d;if(o>=u){var l;return l=g["default"].warn("es_section_pos < es_section_end "+o+", "+u),(0,c["default"])(i,l)}i.pes_table=[];for(var f=0;f<d;){var _=e[o+f],h=8191&i.readUint16(e,o+f+1),p=4095&i.readUint16(e,o+f+3);if(i.pes_table.push({streamType:_,PID:h}),p>2)for(var b=0,v=o+f+5;b<p;){var m=e[v+b];b+=m}f+=p+5}var y=i.section_length+3;return i.CRC_32=(255&e[y-4])<<24|(255&e[y-3])<<16|(255&e[y-2])<<8|255&e[y-1],i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"parse",value:function(){}},{key:"valid",value:function(){var e=this.start_code_prefix;return 0===e[0]&&0===e[1]&&1===e[2]}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(156),_=a(f),h=i(93),p=a(h),b=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));i.table_id=e[0],i.section_syntax_indicator=e[1]>>7,i.section_length=(15&e[1])<<8|e[2],i.transport_stream_id=i.readUint16(e,3),i.version_number=e[5]>>1&31,i.current_next_indicator=1&e[5],i.section_number=e[6],i.last_section_number=e[7],i.original_network_id=i.readUint16(e,8);var a=i.section_length-8-4;i.service_table=[];for(var n=0;n<a;){var o=0,d={};for(d.service_id=i.readUint16(e,11),d.EIT_schedule_flag=2&e[13],d.EIT_present_following_flag=1&e[13],d.running_status=e[14]>>5,d.free_CA_mode=e[14]>>4&1,d.descriptors_loop_length=(15&e[14])<<8|e[15];o<d.descriptors_loop_length;){var l=16+o,c=e[l],f=e[l+1];switch(c){case 72:var _=(e[l+2],[]),h=e[l+3],b=0,g=0,v=l+4;for(b=0;b<h;b++)_.push(String.fromCharCode(e[v])),v+=1;d.provider_name=_.join("");var m=[],y=e[v];for(v+=1,g=0;g<y;g++)m.push(String.fromCharCode(e[v])),v+=1;d.name=m.join("");break;default:p["default"].warn("sdt section unhandled descriptor_tag "+c)}o+=2+f}i.service_table.push(d),n+=5+d.descriptors_loop_length}return i}return(0,c["default"])(t,e),t}(_["default"]);t["default"]=b},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.PAT_PID=0,t.CAT_PID=1,t.TSDT_PID=2,t.SDT_PID=17},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(156),p=a(h),b=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));if(i.sync_byte=e[0],i.transport_error_indicator=e[1]>>7,i.payload_unit_start_indicator=e[1]>>6&1,i.transport_priority=e[1]>>>5&1,i.PID=8191&i.readUint16(e,1),i.tsc=e[3]>>6,i.afc=e[3]>>4&3,i.continuity_counter=15&e[3],i.has_payload=1&i.afc,i.has_adaptation=2&i.afc,i.is_discontinuity=i.has_adaptation&&0!=e[4]&&128&e[5],i.has_payload)if(i.has_adaptation){var a=e[4];i.payload=e.subarray(5+a)}else i.payload=e.subarray(4);return i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"valid",value:function(){return 71===this.sync_byte&&this.has_payload}}]),t}(p["default"]);t["default"]=b},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a=0;t["default"]={WORKER_EXCEPTION:a++,WORKER_MSG_EXCEPTION:a++,TS_SYNC_BYTE:a++}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this))}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){this.emit("data",e)}}]),t}(p["default"]);t["default"]=b},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(192),r=a(n),o=i(193),s=a(o);t["default"]={Demux:r["default"],Remux:s["default"]}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(93),g=a(b),v=function(e){function t(){return(0,s["default"])(this,t),(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this))}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){g["default"].log("demux pushing buffer: "+e.type),this.emit("data",e)}},{key:"flush",value:function(){this.emit("done")}},{key:"endStream",get:function(){return this}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(194),g=a(b),v=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.context=e,i.tracks=[],i._syncDTS=0,i._syncPTS=0,i._complexStream=new g["default"](e),i.pipe(i._complexStream),i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"audioAlignPTS",set:function(e){this._complexStream.audioAlignPTS=e}}]),(0,c["default"])(t,[{key:"push",value:function(e){var t=this.tracks,i=e.videoTrack,a=e.audioTrack,n=e.captionTrack;i&&!t.videoTrack&&(t.push(i),t.videoTrack=i),a&&!t.audioTrack&&(t.push(a),t.audioTrack=a),n&&!t.captionTrack&&(t.push(n),t.captionTrack=n),this._doComplex()}},{key:"rebuildInitSegment",value:function(){this._complexStream.rebuildInitSegment()}},{key:"reset",value:function(){this.tracks=[],this._syncDTS=0,this._syncPTS=0,this.emit("reset")}},{key:"_doComplex",value:function(){var e=this.tracks.videoTrack,t=this.tracks.audioTrack,i=e?e.firstDTS:0,a=t?t.firstDTS:0;if(t&&t.frames&&e&&e.gops){var n=t.firstDTS-e.firstDTS;a=i+Math.max(0,n)}this.emit("data",{audioTimeOffset:a,videoTimeOffset:i,tracks:this.tracks}),this.tracks.splice(0,this.tracks.length),this.tracks.videoTrack=null,this.tracks.audioTrack=null,this.tracks.captionTrack=null}},{key:"endStream",get:function(){return this._complexStream}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(122),p=a(h),b=i(195),g=a(b),v=i(231),m=a(v),y=i(233),x=a(y),k=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.context=e,i._initComplexer=new g["default"](e),i._audioComplexer=new m["default"](e),i._videoComplexer=new x["default"](e),i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"audioAlignPTS",set:function(e){this._audioComplexer.nextSegmentPts=e}}]),(0,c["default"])(t,[{key:"push",value:function(e){if(this._initComplexer.needParseIS){var t=this._initComplexer.parse(e),i=t.length;if(i>0)for(var a=0;a<i;a++){var n=t[a];this.emit("data",{fragmentType:"initSegment",contentType:n.contentType,container:n.container,codec:n.codec,trackId:n.trackId,data:n.arrayBufferList})}}if(this._audioComplexer){var r=this._audioComplexer.parse(e);r&&this.emit("data",{fragmentType:"fragment",contentType:r.contentType,data:r.arrayBufferList,startDTS:r.startDTS,startPTS:r.startPTS,duration:r.duration,nextSegmentPTS:r.nextSegmentPTS})}if(this._videoComplexer){var o=this._videoComplexer.parse(e);o&&this.emit("data",{fragmentType:"fragment",contentType:o.contentType,data:o.arrayBufferList,startDTS:o.startDTS,startPTS:o.startPTS,duration:o.duration})}}},{key:"rebuildInitSegment",value:function(){this._initComplexer.reset()}},{key:"reset",value:function(){this._initComplexer.reset(),this._audioComplexer.reset(),this._videoComplexer.reset()}}]),t}(p["default"]);t["default"]=k},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(196),u=a(d),l=function(){function e(t){(0,r["default"])(this,e),this.context=t,this._hasVideoIS=!1,this._hasAudioIS=!1}return(0,s["default"])(e,[{key:"needParseIS",get:function(){return!(this._hasVideoIS&&this._hasAudioIS)}}]),(0,s["default"])(e,[{key:"parse",value:function(e){for(var t=[],i=e.tracks||[],a=0;a<i.length;a++){var n=i[a];switch(n.type){case"video":this._hasVideoIS||(this._hasVideoIS=!0,n.container="video/mp4",t.push(this._initSegment(n)));break;case"audio":this._hasAudioIS||(this._hasAudioIS=!0,n.container="audio/mp4",t.push(this._initSegment(n)))}}return t}},{key:"reset",value:function(){this._hasVideoIS=!1,this._hasAudioIS=!1}},{key:"_initSegment",value:function(e){var t=u["default"].initSegment([e]);return{type:"initSegment",contentType:e.type,container:e.container,codec:e.codec,trackId:e.id,arrayBufferList:[t.buffer]}}}]),e}();t["default"]=l},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(197),u=a(d),l=i(200),c=a(l),f=i(223),_=a(f),h=i(230),p=a(h),b=function(){function e(){(0,r["default"])(this,e),this.UINT32_MAX=Math.pow(2,32)-1}return(0,s["default"])(e,[{key:"initSegment",value:function(e){var t=void 0,i=(0,c["default"])(e);try{t=new Uint8Array(u["default"].byteLength+i.byteLength)}catch(e){throw"mp4 initSegment alloc mem err "+u["default"].byteLength+"-"+i.byteLength}return t.set(u["default"]),t.set(i,u["default"].byteLength),t}},{key:"moof",value:function(e,t,i){return(0,_["default"])(e,t,i)}},{key:"mdat",value:function(e){return(0,p["default"])(e)}}]),e}();t["default"]=new b},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(198),_=a(f),h=i(199),p=a(h),b=function(e){function t(){(0,s["default"])(this,t);var e=new Uint8Array([105,115,111,109]),i=new Uint8Array([97,118,99,49]),a=new Uint8Array([0,0,0,1]);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,p["default"].ftyp,e,a,e,i))}return(0,c["default"])(t,e),t}(_["default"]);t["default"]=(new b).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(93),s=(a(o),function e(t){(0,r["default"])(this,e);for(var i=8,a=arguments.length,n=Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];for(var s=n.length,d=s,u=void 0;d--;)i+=n[d].byteLength;try{u=new Uint8Array(i)}catch(e){throw"mp4 box "+t+" alloc mem err: "+e.message}for(u[0]=i>>24&255,u[1]=i>>16&255,u[2]=i>>8&255,u[3]=255&i,u.set(t,4),d=0,i=8;d<s;d++)u.set(n[d],i),i+=n[d].byteLength;this.bytes=u});t["default"]=s},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},n=void 0;for(n in a)a.hasOwnProperty(n)&&(a[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);t["default"]=a},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(201),g=a(b),v=i(202),m=a(v),y=i(221),x=a(y),k=function(e){function t(e){var i;(0,s["default"])(this,t);for(var a=e.length,n=[];a--;)n[a]=(0,m["default"])(e[a]);return(0,u["default"])(this,(i=t.__proto__||(0,r["default"])(t)).call.apply(i,[this,_["default"].moov,(0,g["default"])(e[0].timescale,e[0].duration)].concat(n,[(0,x["default"])(e)])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new k(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(198),_=a(f),h=i(199),p=a(h),b=i(196),g=a(b),v=function(e){function t(e,i){(0,s["default"])(this,t),i*=e;var a=Math.floor(i/(g["default"].UINT32_MAX+1)),n=Math.floor(i%(g["default"].UINT32_MAX+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,a>>24,a>>16&255,a>>8&255,255&a,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,p["default"].mvhd,o))}return(0,c["default"])(t,e),t}(_["default"]);t["default"]=function(e,t){return new v(e,t).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(203),g=a(b),v=i(204),m=a(v),y=function(e){function t(e){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].trak,(0,g["default"])(e),(0,m["default"])(e)))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return e.duration=e.duration||4294967295,new y(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(196),p=a(h),b=i(198),g=a(b),v=function(e){function t(e){(0,s["default"])(this,t);var i=e.id,a=e.duration*e.timescale,n=e.width,o=e.height,d=Math.floor(a/(p["default"].UINT32_MAX+1)),l=Math.floor(a%(p["default"].UINT32_MAX+1));return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,o>>8&255,255&o,0,0])))}return(0,c["default"])(t,e),t}(g["default"]);t["default"]=function(e){return new v(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(205),g=a(b),v=i(206),m=a(v),y=i(207),x=a(y),k=function(e){function t(e){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].mdia,(0,g["default"])(e.timescale,e.duration),(0,m["default"])(e.type),(0,x["default"])(e)))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new k(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(196),p=a(h),b=i(198),g=a(b),v=function(e){function t(e,i){(0,s["default"])(this,t),i*=e;var a=Math.floor(i/(p["default"].UINT32_MAX+1)),n=Math.floor(i%(p["default"].UINT32_MAX+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,a>>24,a>>16&255,a>>8&255,255&a,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].mdhd,o))}return(0,c["default"])(t,e),t}(g["default"]);t["default"]=function(e,t){return new v(e,t).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),g=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),v=function(e){function t(e){(0,s["default"])(this,t);var i=void 0;switch(e){case"video":i=b;break;case"audio":i=g}return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].hdlr,i))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new v(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(208),g=a(b),v=i(210),m=a(v),y=i(211),x=a(y),k=i(212),w=a(k),S=function(e){function t(e){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].minf,"audio"===e.type?m["default"]:x["default"],g["default"],(0,w["default"])(e)))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new S(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(209),g=a(b),v=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].dinf,g["default"]))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=(new v).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].dref,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=(new b).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].smhd,new Uint8Array([0,0,0,0,0,0,0,0])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=(new b).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].vmhd,new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=(new b).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(213),g=a(b),v=i(214),m=a(v),y=i(215),x=a(y),k=i(216),w=a(k),S=i(217),T=a(S),A=function(e){function t(e){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].stbl,(0,T["default"])(e),w["default"],x["default"],m["default"],g["default"]))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new A(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].stco,new Uint8Array([0,0,0,0,0,0,0,0])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=(new b).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].stsz,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=(new b).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].stsc,new Uint8Array([0,0,0,0,0,0,0,0])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=(new b).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].stts,new Uint8Array([0,0,0,0,0,0,0,0])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=(new b).bytes},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(218),g=a(b),v=i(219),m=a(v),y=i(220),x=a(y),k=function(e){function t(e){(0,s["default"])(this,t);var i=new Uint8Array([0,0,0,0,0,0,0,1]),a=void 0;return a="audio"===e.type?e.isAAC||"mp3"!==e.codec?(0,m["default"])(e):(0,g["default"])(e):(0,x["default"])(e),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].stsd,i,a))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new k(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(e){(0,s["default"])(this,t);var i=e.sampleRate;return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"][".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new b(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(e){(0,s["default"])(this,t);var i=e.config,a=i.length;return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].esds,new Uint8Array([0,0,0,0,3,23+a,0,1,0,4,15+a,64,21,0,0,0,0,0,0,0,0,0,0,0,5,a].concat(i).concat([6,1,2]))))}return(0,c["default"])(t,e),t}(p["default"]),g=function(e){function t(e){(0,s["default"])(this,t);var i=e.sampleRate,a=e.channelCount;return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,a,0,16,0,0,0,0,i>>8&255,255&i,0,0]),new b(e).bytes))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new g(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(e,i){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].pasp,new Uint8Array([e>>24,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i])))}return(0,c["default"])(t,e),t}(p["default"]),g=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}return(0,c["default"])(t,e),t}(p["default"]),v=function(e){function t(e,i,a){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(a))))}return(0,c["default"])(t,e),t}(p["default"]),m=function(e){function t(e){(0,s["default"])(this,t);var i=[],a=[],n=void 0,o=void 0,d=void 0;for(n=0;n<e.sps.length;n++)o=e.sps[n],d=o.byteLength,i.push(d>>>8&255),i.push(255&d),i=i.concat(Array.prototype.slice.call(o));for(n=0;n<e.pps.length;n++)o=e.pps[n],d=o.byteLength,a.push(d>>>8&255),a.push(255&d),a=a.concat(Array.prototype.slice.call(o));var l=new v(e,i,a).bytes,c=e.width,f=e.height,h=e.pixelRatio[0],p=e.pixelRatio[1];return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,255&c,f>>8&255,255&f,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,(new g).bytes,new b(h,p).bytes))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new m(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(94),s=a(o),d=i(73),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(199),p=a(h),b=i(198),g=a(b),v=i(222),m=a(v),y=function(e){function t(e){var i;return(0,u["default"])(this,t),(0,c["default"])(this,(i=t.__proto__||(0,r["default"])(t)).call.apply(i,[this,p["default"].mvex].concat((0,s["default"])(e))))}return(0,_["default"])(t,e),t}(g["default"]);t["default"]=function(e){for(var t=e.length,i=[];t--;)i[t]=(0,m["default"])(e[t]);return new y(i).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(e){(0,s["default"])(this,t);var i=e.id;return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new b(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(224),g=a(b),v=i(225),m=a(v),y=function(e){function t(e,i,a){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].moof,(0,g["default"])(e),(0,m["default"])(a,i)))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e,t,i){return new y(e,t,i).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(e){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new b(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=i(196),g=a(b),v=i(226),m=a(v),y=i(227),x=a(y),k=i(228),w=a(k),S=i(229),T=a(S),A=function(e){function t(e,i){(0,s["default"])(this,t);var a=e.id,n=e.samples,o=Math.floor(i/(g["default"].UINT32_MAX+1)),d=Math.floor(i%(g["default"].UINT32_MAX+1)),l=(0,T["default"])(n);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].traf,(0,m["default"])(a),(0,x["default"])(o,d),(0,w["default"])(n,l.length+16+20+8+16+8+8),l))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e,t){return new A(e,t).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(e){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].tfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new b(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(e,i){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].tfdt,new Uint8Array([1,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i])))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e,t){return new b(e,t).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];(0,s["default"])(this,t);var a=e.length,n=12+16*a,o=new Uint8Array(n),d=void 0,l=void 0,c=void 0,f=void 0,h=void 0;i+=8+n,o.set([0,0,15,1,a>>>24&255,a>>>16&255,a>>>8&255,255&a,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0);for(var p=0;p<a;p++)d=e[p],l=d.duration,c=d.size,f=d.flags,h=d.cts,o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSyncSample,61440&f.degradationPriority,15&f.degradationPriority,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*p);return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].trun,o))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e,t){return new b(e,t).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s["default"])(this,t);for(var i,a=new Uint8Array(4+e.length),n=0;n<e.length;n++)i=e[n].flags,a[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].sdtp,a))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new b(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(79),c=a(l),f=i(199),_=a(f),h=i(198),p=a(h),b=function(e){function t(e){return(0,s["default"])(this,t),(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,_["default"].mdat,e))}return(0,c["default"])(t,e),t}(p["default"]);t["default"]=function(e){return new b(e).bytes}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(93),u=a(d),l=i(174),c=a(l),f=i(196),_=a(f),h=i(232),p=a(h),b=function(){function e(t){(0,r["default"])(this,e),this.context=t,this.audioSequenceNumber=1,this.nextSegmentPts=void 0,this.cacheBuffer=new c["default"]}return(0,s["default"])(e,[{key:"parse",value:function(e){var t=null,i=e.tracks.audioTrack;if(i){this._loopAACFrames(i,e.audioTimeOffset);t={type:"fragment",contentType:"audio",arrayBufferList:this._remuxAudio(i),duration:(this.nextSegmentPts-this.curSegmentPts)/i.inputTimeScale,startDTS:this.curSegmentPts/i.inputTimeScale,startPTS:this.curSegmentPts/i.inputTimeScale,nextSegmentPTS:this.nextSegmentPts}}return t}},{key:"reset",value:function(){this.audioSequenceNumber=1,this.nextSegmentPts=void 0,this.cacheBuffer.clear()}},{key:"_remuxAudio",value:function(e){var t=_["default"].moof(this.audioSequenceNumber,e.baseMediaDecodeTime,e),i=_["default"].mdat(this.mdat);this.audioSequenceNumber++,this.cacheBuffer.append(t),this.cacheBuffer.append(i);var a=this.cacheBuffer.toNewBytes();return this.cacheBuffer.clear(),[a.buffer]}},{key:"_loopAACFrames",value:function(e,t){var i=e.frames,a=e.codec,n=e.realCodec,r=e.channelCount,o=e.timescale,s=e.inputTimeScale,d=e.isAAC,l=this.nextSegmentPts,c=s/o,f=d?1024:1152,_=f*c;e.samples=[];var h=i.length>0&&"number"==typeof l&&!isNaN(l)&&l>0&&(Math.abs(t-l)<.1*s||Math.abs(i[0].pts-l)<20*_);h||(u["default"].log("audio track consecutive fragments as being contiguous: "+h),l=t);for(var b,g=0;g<i.length;){b=i[g];var v=b.pts,m=v-l,y=Math.abs(1e3*m/s);if(m<=-1*_)u["default"].warn("Dropping 1 audio sample @ "+(l/e.inputTimeScale).toFixed(3)+"s due to "+Math.round(y)+" ms overlap."),i.byteLength-=b.data.byteLength,i.splice(g,1);else if(m>=1*_&&y<1e4&&l){var x=Math.round(m/_);u["default"].warn("Injecting "+x+" audio frame ("+a+"/"+n+"/"+r+") @ "+(l/s).toFixed(3)+"s due to "+Math.round(1e3*m/s)+" ms gap.");for(var k=0;k<x;k++){var w=Math.max(l,0),S=(0,p["default"])(n,r);S||(u["default"].log("Unable to get silent frame for given audio codec; duplicating last frame instead."),S=b.data.subarray()),i.byteLength+=S.byteLength,i.splice(g,0,{data:S,pts:w,dts:w}),l+=_,g++}b.pts=b.dts=l,l+=_,g++}else b.pts=b.dts=l,l+=_,g++}var T=i[0],A=Math.max(T.pts,0);e.baseMediaDecodeTime=A/c;for(var I,E,P=new Uint8Array(i.byteLength),D=0,q=0;D<i.length;D++)I=i[D],E=i[D+1],e.samples.push({size:I.data.byteLength,duration:E?Math.round((E.pts-I.pts)/c):0,cts:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:0}}),P.set(I.data,q),q+=I.data.byteLength;e.samples.length>=2&&(e.samples[e.samples.length-1].duration=e.samples[e.samples.length-2].duration),this.nextSegmentPts=l,this.curSegmentPts=A,this.mdat=P}}]),e}();t["default"]=b},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(108),u=a(d),l=i(93),c=a(l),f=i(107),_=a(f),h=i(174),p=a(h),b=i(196),g=a(b),v=u["default"].browser.SAFARI,m=function(){function e(t){(0,r["default"])(this,e),this.context=t,this.videoSequenceNumber=1,this.mdat=null,this.nextSegmentDts=null,this.nextSegmentPts=null,this.cacheBuffer=new p["default"]}return(0,s["default"])(e,[{key:"parse",value:function(e){var t=null,i=e.tracks.videoTrack;if(i){this._loopGOPs(i);t={type:"fragment",contentType:"video",arrayBufferList:this._remuxVideo(i),duration:(this.nextSegmentDts-i.firstDTS)/i.timescale,startDTS:i.firstDTS/i.timescale,startPTS:i.firstPTS/i.timescale}}return t}},{key:"reset",value:function(){this.videoSequenceNumber=1,this.mdat=null,this.nextSegmentDts=null,this.nextSegmentPts=null,this.cacheBuffer.clear()}},{key:"_remuxVideo",value:function(e){var t=g["default"].moof(this.videoSequenceNumber,e.baseMediaDecodeTime,e),i=g["default"].mdat(this.mdat);this.videoSequenceNumber++,this.cacheBuffer.append(t),this.cacheBuffer.append(i);var a=this.cacheBuffer.toNewBytes();return this.cacheBuffer.clear(),[a.buffer]}},{key:"_loopGOPs",value:function(e){var t=void 0,i=void 0,a=void 0,n=void 0,r=0,o=e.gops,s=void 0,d=void 0,l=void 0,f=void 0,h=void 0,p=void 0,b=-1,g=void 0,m=0;e.samples=[];var y=o[0],x=y[0],k=o[o.length-1],w=k[k.length-1];s=Math.max(x.dts,0),d=Math.max(x.pts,0),l=Math.max(w.dts,0),f=Math.max(w.pts,0,l),u["default"].browser.SAFARI&&(r=Math.round((l-s)/(o.frameLength-1)));var S=o.length&&this.nextSegmentDts&&(Math.abs((s-this.nextSegmentDts)/e.timescale)<.1||Math.abs(d-this.nextSegmentPts)<e.timescale/5);"boolean"==typeof S&&(S=!0);var T=Math.round((s-this.nextSegmentDts)/90);if(S&&T)if(T>1){var A=x.duration/90,I=Math.round(T/A)||0;for(c["default"].warn("AVC:"+T+" ms hole between fragments detected, filling it "+I+" I-frame"),n=0;n<I;n++){var E=Math.max(this.nextSegmentDts,0),P=Math.max(this.nextSegmentPts,0),D=(0,_["default"])([],x,!0);D.dts=E,D.pts=P,0===n&&(s=E,d=P),this.nextSegmentDts+=D.duration,this.nextSegmentPts+=D.duration,o.byteLength+=D.byteLength,o.naluCount+=D.naluCount,y.splice(n,0,D)}}else T<-1&&c["default"].log("AVC:"+-T+" ms overlapping between fragments detected");var q=o.byteLength+4*o.naluCount,O=new Uint8Array(q),R=new DataView(O.buffer);for(t=0;t<o.length;t++)for(h=o[t],i=0;i<h.length;i++){p=h[i],b+=1,u["default"].browser.SAFARI?p.dts=s+b*r:p.dts=Math.max(p.dts,s),p.pts=Math.max(p.pts,p.dts);var L={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};for(L.cts=v?Math.max(0,r*Math.round((p.pts-p.dts)/r)):p.pts-p.dts,L.duration=p.duration,L.size=4*p.length,L.size+=p.byteLength,(p.keyframe||u["default"].browser.CHROME&&0===e.samples.length)&&(L.flags.dependsOn=2,L.flags.isDependedOn=1,L.flags.isNonSyncSample=0),e.samples.push(L),a=0;a<p.length;a++)g=p[a],R.setUint32(m,g.rawData.byteLength),m+=4,O.set(g.rawData,m),m+=g.rawData.byteLength}e.firstDTS=s,e.firstPTS=d,e.lastDTS=l,e.lastPTS=f,e.baseMediaDecodeTime=s;var M=e.samples[e.samples.length-1].duration;this.nextSegmentPts=f+M,this.nextSegmentDts=l+M,this.mdat=O}}]),e}();t["default"]=m},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={ERROR:"ERROR",INFO:"INFO",DATA:"DATA",DEMUX_DATA:"DEMUX_DATA",DONE:"DONE"}},function(e,t,i){function a(){return""}function n(e){return o["default"].warn("used un impl external tool: "+e),a}Object.defineProperty(t,"__esModule",{value:!0});var r=i(93),o=function(e){return e&&e.__esModule?e:{"default":e}}(r);t["default"]={md5:n("md5"),cmd5x:n("cmd5x"),UUID:function(e){return o["default"].warn("used un impl external tool: "+e),{}}("UUID"),filesize:n("filesize")}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(){(0,r["default"])(this,e),this.msg=null,this.repostCount=0}return(0,s["default"])(e,[{key:"clear",value:function(){this.msg=null,this.repostCount=0}}]),e}();d.MaxRepostCount=10,t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];self.postMessage({cmd:e,msg:t},i)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(148),o=a(r),s=i(112),d=a(s),u=i(93),l=a(u);t["default"]=function(e){var t=new d["default"];e.addEventListener("message",function(i){if(null===i.data)n("__ACK__",!1);else{var a=i.data,r=a.cmd,s=a.msg;switch(n("__ACK__",!0),r){case"__init__":try{var d=s.from,u=s.to,c=s.options;c.debug&&(l["default"].enable=!0),e._mux=new o["default"](d,u,c),t.on(l["default"],l["default"].MSG_NAME,function(e,t){return n("__log__",{type:e,message:t})}),t.on(e._mux,"__idle__",function(){return n("__idle__")}),t.on(e._mux,"error",function(e,t){return n("error",{code:e,message:t})}),t.on(e._mux,"info",function(e){return n("info",e)}),t.on(e._mux,"demux_data",function(e){var t=[];e.data instanceof ArrayBuffer&&t.push(e.data),n("demux_data",e,t)}),t.on(e._mux,"remux_data",function(e){var t=[],i=e.data;Array.isArray(i)&&i.forEach(function(e){e instanceof ArrayBuffer&&t.push(e)}),n("remux_data",e,t)}),t.on(e._mux,"done",function(){return n("done")}),n("__init__"),n("__idle__")}catch(i){throw"worker __init__ fail "+(i.stack||i.message)}break;case"push":e._mux.push(s.buf,s.conf);break;case"reset":e._mux&&e._mux.reset()}}})}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a=0;t["default"]={P2P:a++,CDN:a++}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(240),p=a(h),b=i(238),g=a(b),v=i(246),m=a(v),y=i(116),x=a(y),k=i(93),w=a(k),S=i(277),T=a(S),A=i(105),I=a(A),E=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,!0));return i.TAG="DashLoader",i._videoSegments=null,i._audioSegments=null,i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"videoSegments",set:function(e){this._eof=!1,this._eod=!1,this._videoSegments=e}},{key:"audioSegments",set:function(e){this._audioSegments=e}}]),(0,c["default"])(t,[{key:"read",value:function(){var e=this;if(this.mode===g["default"].CDN)return null;var t=this._p2pProxy.read(),i=this._videoSegments||[],a=this._audioSegments||[];if(t&&t.type){var n=t.bid,r=t.loadDone;if("m4s"===t.type.toLowerCase()){var o={contentType:"video",index:t.video.index,bytes:t.video.data,chunkEOF:t.video.chunkEOF,segment:i[t.video.index]},s={contentType:"audio",index:t.audio.index,bytes:t.audio.data,chunkEOF:t.audio.chunkEOF,segment:a[t.audio.index]};if(r&&(this.state=m["default"].END),[o,s].filter(function(e){return!!e.segment}).forEach(function(t){var i=t.contentType,a=t.index,r=t.bytes,o=t.chunkEOF,s=t.segment,d=s.startTime,u=s.duration,l=s.startByte,c=s.endByte,f=c-l;if(s.status=o?2:1,r){var _="\n\t\t\t\t\t\t\t\t"+e.LOG_TAG+": received "+i+" "+a+" segment, bid: "+n+". \n\t\t\t\t\t\t\t\tbytes length: "+r.length+", "+l+"->"+c+". \n\t\t\t\t\t\t\t\tstartTime: "+d+", duration: "+u+"\n\t\t\t\t\t\t\t\t";w["default"].log(_),r.length!==f&&(self._error=new I["default"](I["default"].severity.CRITICAL,I["default"].category.DATA_SOURCE,I["default"].DATA_P2P_DASH_BYTES_LENGTH),w["default"].error(e.LOG_TAG+": bytes length not match, expect "+f+", return "+r.length+", "+_))}}),!this._hasAudio||s.index>=a.length||s.index===a.length-1&&s.bytes?self._audioEOF=!0:self._audioEOF=!1,!this._hasVideo||o.index>=i.length||o.index===i.length-1&&o.bytes?self._videoEOF=!0:self._videoEOF=!1,this._eof=self._videoEOF&&self._audioEOF,this._eof&&w["default"].log(this.LOG_TAG+": EOF"),o.bytes||s.bytes)return{type:x["default"].DASH,data:new Uint8Array(0),meta:{video:this._hasVideo&&o.bytes?o:null,audio:this._hasAudio&&s.bytes?s:null}}}}return null}},{key:"findSegmentByPTS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{fragment:null,segment:this._findPieceByPTS(e,this._videoSegments)}}},{key:"_findPieceByPTS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],i=arguments[2];return i&&!this._pieceWithinToleranceTest(e,i)?i:(0,T["default"])(t,this._pieceWithinToleranceTest.bind(this,e))}},{key:"_pieceWithinToleranceTest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];return e<0&&(e=0),t.startTime+t.duration<=e?1:t.startTime>e&&t.startTime?-1:0}}]),t}(p["default"]);t["default"]=E},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(105),g=a(b),v=i(127),m=a(v),y=i(93),x=a(y),k=i(114),w=a(k),S=i(241),T=a(S),A=i(246),I=a(A),E=i(238),P=a(E),D=i(247),q=a(D),O=i(248),R=a(O),L=i(92),M=a(L),C=i(107),F=a(C),N={};for(var V in I["default"])N[I["default"][V]]=V;var U=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a.TAG="BaseLoader",a._ctx=e,a._silenced=!1,a._cfg=e.config,a._uuid=m["default"].create(),a._eof=!1,a._eod=!1,a._hasAudio=!1,a._hasVideo=!1,a._useP2P=i,a._p2pProxy=a._ctx.p2pLoader,a._error=null,a._state=I["default"].IDLE,a._tickTimer=new w["default"](function(){return a._ticker()}),a.mode===P["default"].CDN&&a._tickTimer.scheduleRepeated(a._silenced?.5:.1),a._maxBufferTimeLength=a._cfg.maxBufferTimeLength,a._downFragBufferTimeLength=30,a._bufferPool=new T["default"],a._openOffset=!1,a._withBufferMaxRetry=e.config.loaderWithBufferMaxRetry,a._noBufferMaxRetry=e.config.loaderNoBufferMaxRetry,a._withBufferRetryCount=0,a._noBufferRetryCount=0,a._loaderConfig=new q["default"],a._dnsParser=new R["default"],a._dnsParser.on(M["default"].DNS_PARSER_SUCCESS,function(e){a._ctx.emit(M["default"].DNS_PARSER_SUCCESS,e)}),a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"eof",get:function(){return this._eof}},{key:"eod",get:function(){return this._eod}},{key:"mode",get:function(){var e=P["default"].CDN;return this._useP2P&&this._p2pProxy&&this._p2pProxy.enabled&&(e=P["default"].P2P),e}},{key:"state",set:function(e){if(this._state!==e){var t=this.state;this._state=e,x["default"].log(this.LOG_TAG+": "+N[t]+" -> "+N[e]),this._silenced||this._state!==I["default"].END||(this._eod=!0,x["default"].log(this.LOG_TAG+": EOD"))}},get:function(){return this._state}},{key:"buffer",get:function(){var e=0,t=0;if(this.mode===P["default"].P2P){var i=this._p2pProxy.getBuffTime();if(i){var a=i.start,n=i.length;"number"==typeof a&&a>=0&&"number"==typeof n&&n>=0&&(t=a,e=n)}}else{var r=this._getUnreadBufInfo();t=r.start,e=r.timeLength}return{len:e,start:t,end:t+e}}},{key:"error",get:function(){var e=null;if(this.mode===P["default"].P2P){switch(this._p2pProxy.error()){case"dispatch":e=new g["default"](g["default"].severity.CRITICAL,g["default"].category.DATA_SOURCE,g["default"].code.DATA_P2P_DISPATCH);break;case"load":e=new g["default"](g["default"].severity.CRITICAL,g["default"].category.DATA_SOURCE,g["default"].code.DATA_P2P_LOAD);break;case"loadAccessErr":e=new g["default"](g["default"].severity.CRITICAL,g["default"].category.DATA_SOURCE,g["default"].code.DATA_P2P_LOAD_ACCESS);break;case"memoryAllocErr":e=new g["default"](g["default"].severity.CRITICAL,g["default"].category.DATA_SOURCE,g["default"].code.DATA_P2P_MEMORY_ALLOC);break;case"authorFailed":e=new g["default"](g["default"].severity.CRITICAL,g["default"].category.DATA_SOURCE,g["default"].code.DATA_P2P_AUTH)}}else e=this._error;return e}},{key:"silenced",set:function(e){this._silenced=e,this._tickTimer.adjustFrequency(this._silenced?.5:.1)}},{key:"LOG_TAG",get:function(){return"["+this.TAG+(this._silenced?"(silence)":"")+"]"}},{key:"hasAudio",set:function(e){this._hasAudio=e}},{key:"hasVideo",set:function(e){this._hasVideo=e}},{key:"openOffset",set:function(e){this._openOffset=e},get:function(){return this._openOffset}},{key:"loaderConfig",get:function(){return this._loaderConfig},set:function(e){(0,F["default"])(this._loaderConfig,e,!0)}},{key:"qosTimer",get:function(){return this._ctx.qosTimer}}]),(0,c["default"])(t,[{key:"reset",value:function(){this._uuid=m["default"].create(),this._eof=!1,this._eod=!1,this._openOffset=!1,this._hasAudio=!1,this._hasVideo=!1,this.mode===P["default"].P2P||this._reset()}},{key:"_reset",value:function(){}},{key:"destroy",value:function(){this.mode===P["default"].P2P||(this._tickTimer.cancel(),this._bufferPool.drain()),delete this._ctx,delete this._cfg,delete this._p2pProxy,delete this._error,delete this._tickTimer,delete this._bufferPool,this._dnsParser.destroy(),delete this._dnsParser}},{key:"read",value:function(){}},{key:"_ticker",value:function(){if(!this._ctx.bufferOperating){var e=performance.now();!this._silenced&&this.state===I["default"].IDLE&&(void 0==this._lastGCTimestamp||e-this._lastGCTimestamp>5e3)&&(this._gc?this._gc():this.mode===P["default"].CDN&&x["default"].warn("Recommend to impl gc on cdn loader~"),this._lastGCTimestamp=e),this._tick&&this._tick()}}},{key:"seek",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._error=null,this.state!==I["default"].ERROR&&this.state!==I["default"].END||(this.state=I["default"].IDLE),this._eod=!1,this._eof=!1,this.mode===P["default"].P2P?this._silenced||this._ctx.variantSwitching&&!t||i||this._p2pProxy.seek(e):this._seek(e)}},{key:"_seek",value:function(e){}},{key:"getNextFrag",value:function(e){return null}},{key:"abortCurrentADGas",value:function(){}},{key:"drainBufferPool",value:function(){this._bufferPool.drain()}},{key:"_getUnreadBufInfo",value:function(){return{start:0,byteLength:0,timeLength:0}}},{key:"getStateKey",value:function(e){return N[e]}},{key:"_doDNSParser",value:function(e){this._dnsParser.doRequest(e.url,e.userinfo,e.idc)}}]),t}(p["default"]);t["default"]=U},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(89),r=a(n),o=i(242),s=a(o),d=i(69),u=a(d),l=i(73),c=a(l),f=i(75),_=a(f),h=i(74),p=a(h),b=i(79),g=a(b),v=i(88),m=a(v),y=i(235),x=a(y),k={maxBytesLength:104857600},w=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c["default"])(this,t);var i=(0,p["default"])(this,(t.__proto__||(0,u["default"])(t)).call(this));return i._config={},i._pool={},i._byteLength=0,(0,s["default"])(i._config,k),(0,s["default"])(i._config,e),i}return(0,g["default"])(t,e),(0,_["default"])(t,[{key:"add",value:function(e,t){var i=(this._config,this._pool),a=i[e],n=void 0;a?(n=new Uint8Array(a.byteLength+t.byteLength),n.set(a,0),n.set(t,a.byteLength)):n=t,this._byteLength+=t.byteLength,i[e]=n}},{key:"del",value:function(e){var t=this._pool,i=t[e];i&&(this._byteLength-=i.byteLength,t[e]=null,delete t[e])}},{key:"read",value:function(e){return this._pool[e]}},{key:"drain",value:function(){var e=this._pool;for(var t in e)this.del(t);0!==this._byteLength&&(this._pool={},this._byteLength=0)}},{key:"keys",get:function(){return(0,r["default"])(this._pool)}},{key:"size",get:function(){return this._byteLength}},{key:"humanSize",get:function(){return x["default"].filesize(this._byteLength)}},{key:"isSafe",get:function(){return this._byteLength<this._config.maxBytesLength}}]),t}(m["default"]);t["default"]=w},function(e,t,i){e.exports={"default":i(243),__esModule:!0}},function(e,t,i){i(244),e.exports=i(13).Object.assign},function(e,t,i){var a=i(11);a(a.S+a.F,"Object",{assign:i(245)})},function(e,t,i){var a=i(21),n=i(32),r=i(60),o=i(61),s=i(48),d=i(35),u=Object.assign;e.exports=!u||i(22)(function(){var e={},t={},i=Symbol(),a="abcdefghijklmnopqrst";return e[i]=7,a.split("").forEach(function(e){t[e]=e}),7!=u({},e)[i]||Object.keys(u({},t)).join("")!=a})?function(e,t){for(var i=s(e),u=arguments.length,l=1,c=r.f,f=o.f;u>l;)for(var _,h=d(arguments[l++]),p=c?n(h).concat(c(h)):n(h),b=p.length,g=0;b>g;)_=p[g++],a&&!f.call(h,_)||(i[_]=h[_]);return i}:u},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a={IDLE:0,LOADING:1,END:2,ERROR:3};t["default"]=a},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(107),s=a(o),d=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r["default"])(this,e),this.doRetry=!0,this.doDispatch=!0,this.allowIPDispatch=!0,this.skipErrorFrag=!1,this.timeout=1e4,this.retryNum=2,this.ipMaxRetry=1,this.flvKeyframesFusionTime=6e3,(0,s["default"])(this,t,!0)};t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(93),g=a(b),v=i(249),m=a(v),y=i(276),x=a(y),k=i(251),w=a(k),S=i(92),T=a(S),A=i(126),I=a(A),E=function(e){function t(){(0,s["default"])(this,t);var e=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e._ipProxy=new m["default"],e._ipretry=0,e._parserUrl="",e._netProxy=new m["default"],e._parserReq=null,e._domainName="",e._parsering=!1,e._data=null,e}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"doRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e){var a={userinfo:t,idc:i,url:e},n=new I["default"](a.url);a.domainName=n.domain;if(!/[a-z]/i.test(a.domainName))return void this.emit(T["default"].DNS_PARSER_SUCCESS,{dmnm:a.domainName,ips:a.domainName,userinfo:a.userinfo,idc:a.idc});this._parsering&&this.abort(),this._data=a,this._domainName=a.domainName,this._parsering=!0,this._request()}}},{key:"_request",value:function(){var e=this;if(""==e._parserUrl)return void e._getIPList(e._request.bind(e));e._parserUrl.indexOf("/3eb/")>-1&&(e._parserUrl=e._parserUrl.replace("/3eb/",""));var t=x["default"].protocol+"//"+e._parserUrl+"/3f0/hd.cloud.iqiyi.com/d?dn="+this._domainName+"&business=pcwPlayer&cross-domain=1",i=w["default"].DISPATCH,a=e._netProxy.makeRequestContext([t],{timeout:3e3,maxRetry:1});a.method="GET",a.responseType="text",a.callbacks={onSuccess:function(t){e._ipretry=0,e.emit(T["default"].DNS_PARSER_SUCCESS,{dmnm:e._domainName,ips:t.data,userinfo:e._data.userinfo,idc:e._data.idc}),e._parsering=!1,e._domainName=""},onError:function(){e._retryGetIpList()},onTimeout:function(){e._retryGetIpList()},onAbort:function(){},onComplete:function(){}},e._parserReq=e._netProxy.request(i,a)}},{key:"abort",value:function(){this._parserReq&&this._parserReq.abort(),this._ipReq&&this._ipReq.abort(),this._parsering=!1,this._ipretry=0,this._domainName="",this._data=null}},{key:"destroy",value:function(){this._parsering&&this.abort(),this._netProxy=null,this._parserReq&&(this._parserReq.destroy(),this._parserReq=null),this._ipProxy=null,this._ipReq&&(this._ipReq.destroy(),this._ipReq=null),this._parsering=!1,this._ipretry=0,this._parserUrl="",this._domainName="",this._data=null}},{key:"_getIPList",value:function(e){var t=this,i=x["default"].dispatchAccessURL;g["default"].log("dnsParser getting ip by: "+i);var a=w["default"].DISPATCH,n=t._ipProxy.makeRequestContext([i],{timeout:3e3,maxRetry:1});n.method="GET",n.responseType="text",n.callbacks={onSuccess:function(i){if(i&&i.data)if("string"==typeof i.data){var a=i.data.split(";");t._parserUrl=a[0]}else t._parserUrl=x["default"].dispatchIPFail;else t._parserUrl=x["default"].dispatchIPFail;e()},onError:function(i){t._parserUrl=x["default"].dispatchIPFail,e()},onTimeout:function(i,a){t._parserUrl=x["default"].dispatchIPFail,e()},onAbort:function(){},onComplete:function(){}},t._ipReq=t._ipProxy.request(a,n)}},{key:"_retryGetIpList",value:function(){this._ipretry<1?(this._getIPList(self.request),this._ipretry++):this._parsering=!1}}]),t}(p["default"]);t["default"]=E},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(250),p=a(h),b=i(253),g=a(b),v=i(252),m=a(v),y=i(126),x=a(y),k=i(88),w=a(k),S=i(275),T=a(S),A=i(105),I=a(A),E=i(107),P=a(E),D=i(251),q=a(D),O=i(93),R=a(O),L=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e.runtime||(e.runtime={}),i._ctx=e,i._runtime=e.runtime,i._schemes={},i._speedSampler=new m["default"](e.runtime),g["default"].isSupported()?(i._registerLoader("http",g["default"]),i._registerLoader("https",g["default"])):(i._registerLoader("http",p["default"]),i._registerLoader("https",p["default"])),i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"defaultRetryParameters",get:function(){return{maxRetry:2,baseDelay:1e3,maxRetryDelay:8e3,timeout:0}}},{key:"isProgressSupported",get:function(){return g["default"].isSupported()||p["default"].isMozChunkedSupported()}}]),(0,c["default"])(t,[{key:"makeRequestContext",value:function(e,t){return{uris:e,method:"GET",headers:{},body:null,responseType:"arraybuffer",allowCrossSiteCredentials:!1,retryParameters:t,callbacks:{onSuccess:function(e){},onError:function(){},onTimeout:function(e,t){},onAbort:function(){},onComplete:function(){}}}}},{key:"request",value:function(e,t){return t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=(0,P["default"])((0,T["default"])(this.defaultRetryParameters),t.retryParameters,!0),t.uris=(0,T["default"])(t.uris),this._makeRequestWithRetry(e,t)}},{key:"_makeRequestWithRetry",value:function(e,t){return this._send(e,t,0)}},{key:"_send",value:function(e,t,i){var a=this._ctx,n=this._schemes,r=this._runtime,o=this._speedSampler,s=new x["default"](t.uris[i]),d=s.scheme,u=s.domain,l=this._getLocationProtocol();if(d||(d=l.slice(0,-1),s.setScheme(d),t.uris[i]=s.toString()),e===q["default"].SEGMENT){if("http"===d&&/^https/gi.test(l))return R["default"].warn("HTTP request in HTTPS Page: "+s.toString()),a._emitError(new I["default"](I["default"].severity.CRITICAL,I["default"].category.NETWORK,I["default"].code.NET_HTTPS_UNMATCHED_HTTP_SCHEME,s));r.cdnHost=u,r.netProtocol=d}var c=n[d],f=c?c.loader:null;if(!f)return a._emitError(new I["default"](I["default"].severity.CRITICAL,I["default"].category.NETWORK,I["default"].code.NET_UNSUPPORTED_SCHEME,s));var _=new f(e,t,a,o);return _.load(t.uris[i]),_}},{key:"_getLocationProtocol",value:function(){return window.location.protocol}},{key:"_registerLoader",value:function(e,t,i){this._schemes[e]={loader:t,priority:i}}}]),t}(w["default"]);t["default"]=L},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(251),u=a(d),l=i(252),c=(a(l),i(134)),f=void 0,_=function(){function e(t,i,a,n){(0,r["default"])(this,e),this.netType=t,this.context=i,this.speedSampler=n}return(0,s["default"])(e,null,[{key:"isMozChunkedSupported",value:function(){if("boolean"!=typeof f)if(/firefox/gi.test(navigator.userAgent.toLowerCase())){var e=new XMLHttpRequest;try{e.responseType="moz-chunked-arraybuffer"}catch(e){}f="moz-chunked-arraybuffer"===e.responseType}else f=!1;return f}}]),(0,s["default"])(e,[{key:"destroy",value:function(){this.abort(),this.url=this.loader=this.stats=this.context=null}},{key:"_resetTimer",value:function(){clearTimeout(this._requestTimeout),clearTimeout(this._retryTimeout),this._requestTimeout=this._retryTimeout=null}},{key:"abort",value:function(){var e=this.stats,t=this.loader;this._resetTimer(),e&&(e.isTimeout?e.aborted=!1:e.aborted=!0),t&&4!==t.readyState?t.abort():this._onAbort(),e&&e.aborted&&this._onAbort()}},{key:"load",value:function(e){return this.url=e,this.stats={retry:0,retryDelay:this.context.retryParameters.baseDelay,dump:!1},this._resetTimer(),this._doLoad()}},{key:"_doLoad",value:function(){var t=this.url,i=this.context,a=(this.stats,this.loader=new XMLHttpRequest);if(a.open(i.method,t,!0),i.retryParameters.timeout>0&&(this._requestTimeout=setTimeout(this._onTimeout.bind(this),i.retryParameters.timeout)),a.withCredentials=!!i.allowCrossSiteCredentials,a.onloadend=this._onEnd.bind(this),a.onprogress=this._onProgress.bind(this),i.headers)for(var n in i.headers){var r=n.toLowerCase();a.setRequestHeader(r,i.headers[n])}return a.responseType=i.responseType||"arraybuffer","arraybuffer"===a.responseType&&e.isMozChunkedSupported()&&(a.responseType="moz-chunked-arraybuffer"),a.send(i.body),this}},{key:"_retry",value:function(){var e=this.context,t=this.stats;t.isTimeout=!1,this._resetTimer(),this._retryTimeout=setTimeout(this._doLoad.bind(this),t.retryDelay),t.retryDelay=Math.min(2*t.retryDelay,e.retryParameters.maxRetryDelay),t.retry++}},{key:"_onEnd",value:function(e){var t=this.context,i=this.stats,a=(this.loader,e.currentTarget),n=a.status,r=t.callbacks;if(i.aborted)this._onAbort();else if(clearTimeout(this._requestTimeout),n>=200&&n<300){var o=a.response;if("moz-chunked-arraybuffer"===a.responseType&&(o=t.totalBuffer),r.onSuccess){((0,c.isUint8Array)(o)||(0,c.isArrayBuffer)(o))&&this.speedSampler.sample(o.byteLength);var s={url:a.responseURL,data:o};r.onSuccess(s,i,t)}this._onComplete(),i.dump=!0}else i.retry>=t.retryParameters.maxRetry||n>=400&&n<499?(i.isTimeout?r.onTimeout&&r.onTimeout(i,t):r.onError&&r.onError({code:n,response:a.response},t),this._onComplete()):this._retry()}},{key:"_onTimeout",value:function(){this.stats.isTimeout=!0,this.abort()}},{key:"_onProgress",value:function(t){var i=this.context,a=this.stats,n=(this.loader,i.callbacks);if(t.lengthComputable){var r=void 0;a.loaded?(r=t.loaded-a.loaded,this.speedSampler.sample(r)):r=t.loaded,this.speedSampler.sample(r||0),a.loaded=t.loaded,a.total=t.total}if(n.onProgress&&this.netType===u["default"].SEGMENT&&e.isMozChunkedSupported()){var o=t.target?t.target.response:null;if(o){var s=new Uint8Array(o),d=new Uint8Array(i.totalBuffer||0),l=new Uint8Array(d.byteLength+s.byteLength);l.set(d,0),l.set(s,d.byteLength),i.totalBuffer=l.buffer}o&&(((0,c.isUint8Array)(o)||(0,c.isArrayBuffer)(o))&&this.speedSampler.sample(o.byteLength),n.onProgress(o,a),a.dump=!0)}}},{key:"_onAbort",value:function(){var e=this.context;if(e&&!e.completed){var t=e.callbacks;t.onAbort&&t.onAbort(),this._onComplete()}}},{key:"_onComplete",value:function(){var e=this.context;if(e&&!e.completed){var t=e.callbacks;e.completed=!0,e.totalBuffer=null,this.speedSampler.reset(),this._resetTimer(),t.onComplete&&t.onComplete()}}}]),e}();t["default"]=_},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={MANIFEST:0,DISPATCH:1,SEGMENT:2,LICENSE:3,APP:4}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=i(114),u=a(d),l=performance&&performance.now?performance.now.bind(performance):Date.now,c=function(){function e(t){var i=this;(0,r["default"])(this,e),this.runtime=t,this.tInit=null,this.tLastArrivedSecond=null,this.bytesInSecond=null,this.bytesAll=null,this._resetTimer=new u["default"](function(){i.tInit=null,i.tLastArrivedSecond=null,i.bytesInSecond=null,i.bytesAll=null,i.runtime.downloadSpeed=0})}return(0,s["default"])(e,[{key:"averageBps",get:function(){if(null===this.bytesAll||null===this.tInit)return 0;var e=l(),t=(e-this.tInit)/1e3;return this.bytesAll/t}}]),(0,s["default"])(e,[{key:"reset",value:function(){this._resetTimer.schedule(1)}},{key:"sample",value:function(e){var t=l();if(null===this.tInit)this.tInit=t,this.tLastArrivedSecond=t,this.bytesInSecond=e;else{var i=(t-this.tLastArrivedSecond)/1e3;i<1?this.bytesInSecond+=e:(this.bytesInSecond=e,this.tLastArrivedSecond=t),0==i&&(i=1),i>.5&&(this.runtime.downloadSpeed=this.bytesInSecond/i||0,this.runtime.bandwidth=Math.floor(Math.max(this.runtime.downloadSpeed,this.runtime.bandwidth||0))||null)}}}]),e}();t["default"]=c},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(254),r=a(n),o=i(257),s=a(o),d=i(73),u=a(d),l=i(75),c=a(l),f=i(93),_=a(f),h=i(134),p=void 0,b=function(){function e(t,i,a,n){(0,u["default"])(this,e),this.netType=t,this.context=i,this.speedSampler=n}return(0,c["default"])(e,null,[{key:"isSupported",value:function(){if("boolean"!=typeof p){var e=!!window.fetch,t=!!window.AbortController,i=!0;if(window.ReadableStream)try{new ReadableStream({})}catch(e){i=!1}else i=!1;p=e&&i&&t}return p}}]),(0,c["default"])(e,[{key:"destroy",value:function(){this.abort(),this.url=this.controller=this.loader=this.stats=this.context=null}},{key:"_resetTimer",value:function(){clearTimeout(this._requestTimeout),clearTimeout(this._retryTimeout),this._requestTimeout=this._retryTimeout=null}},{key:"abort",value:function(){var e=this.controller,t=this.stats;this._resetTimer(),t&&(t.isTimeout?t.aborted=!1:t.aborted=!0),e&&!e.signal.aborted&&e.abort(),t&&t.aborted&&this._onAbort()}},{key:"load",value:function(e){return this.url=e,this.stats={retry:0,retryDelay:this.context.retryParameters.baseDelay,dump:!1},this._resetTimer(),this._doLoad()}},{key:"_parseRes",value:function(){function e(e,i){return t.apply(this,arguments)}var t=(0,s["default"])(r["default"].mark(function e(t,i){var a;return r["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=void 0,e.t0=t,e.next="arraybuffer"===e.t0?4:"json"===e.t0?8:12;break;case 4:return e.next=6,i.arrayBuffer();case 6:return a=e.sent,e.abrupt("break",15);case 8:return e.next=10,i.json();case 10:return a=e.sent,e.abrupt("break",15);case 12:return e.next=14,i.text();case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"_initReqTimeout",value:function(){var e=this.context;this.stats;e.retryParameters.timeout>0&&(clearTimeout(this._requestTimeout),this._requestTimeout=setTimeout(this._onTimeout.bind(this),e.retryParameters.timeout))}},{key:"_doLoad",value:function(){function e(){return t.apply(this,arguments)}var t=(0,s["default"])(r["default"].mark(function e(){var t,i,a,n,o,d,u,l,c,f,h,p,b,g,v,m,y,x=this;return r["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){return a.retry>=i.retryParameters.maxRetry||o>=400&&o<499},t=this,i=this.context,a=this.stats,n=this.speedSampler,o=void 0,d=void 0,u=0,l=void 0,c=i.callbacks,f=this.controller=new AbortController,this._initReqTimeout(),e.prev=10,p=this.url,b={method:i.method,headers:i.headers||{},body:i.body||void 0,mode:"cors",credentials:i.allowCrossSiteCredentials?"include":"same-origin",signal:f.signal},e.next=15,window.fetch(p,b);case 15:if(d=e.sent,!((o=d.status)>=200&&o<300)){e.next=30;break}return l=d.clone().body.getReader(),g=function(){var e=(0,s["default"])(r["default"].mark(function e(){var i,a;return r["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.read();case 2:if(i=e.sent,clearTimeout(t._requestTimeout),i.done){e.next=10;break}return a=ArrayBuffer.isView(i.value)?i.value.buffer:null,a&&(u+=a.byteLength),t._onProgress(a),e.next=10,g();case 10:case"end":return e.stop()}},e,x)}));return function(){return e.apply(this,arguments)}}(),e.next=22,g();case 22:if(!c.onSuccess){e.next=28;break}return e.next=25,t._parseRes(i.responseType,d);case 25:v=e.sent,m={url:p,data:v},a.aborted||(v&&n.sample(v.byteLength-u),c.onSuccess(m,a,i),this._onComplete(),a.dump=!0);case 28:e.next=44;break;case 30:if(!h()){e.next=43;break}if(!a.isTimeout){e.next=35;break}c.onTimeout&&c.onTimeout(a,i),e.next=40;break;case 35:if(!c.onError){e.next=40;break}return e.next=38,t._parseRes(i.responseType,d);case 38:y=e.sent,a.aborted||c.onError({code:o,response:y},i);case 40:this._onComplete(),e.next=44;break;case 43:this._retry();case 44:e.next=50;break;case 46:e.prev=46,e.t0=e["catch"](10),(e.t0 instanceof RangeError||e.t0 instanceof ReferenceError||e.t0 instanceof SyntaxError||e.t0 instanceof TypeError||e.t0 instanceof URIError)&&_["default"].error(e.t0.stack?e.t0.stack:e.t0.message?e.t0.message:e.t0);try{a.aborted||(h()?(a.isTimeout?c.onTimeout&&c.onTimeout(a,i):c.onError&&c.onError({code:o,response:null,error:e.t0},i),this._onComplete()):this._retry())}catch(e){_["default"].error(e.stack?e.stack:e.message?e.message:e)}case 50:return e.abrupt("return",this);case 51:case"end":return e.stop()}},e,this,[[10,46]])}));return e}()},{key:"_retry",value:function(){var e=this.context,t=this.stats;t.isTimeout=!1,this._resetTimer(),this._retryTimeout=setTimeout(this._doLoad.bind(this),t.retryDelay),t.retryDelay=Math.min(2*t.retryDelay,e.retryParameters.maxRetryDelay),t.retry++}},{key:"_onTimeout",value:function(){this.context;this.stats.isTimeout=!0,this.abort()}},{key:"_onProgress",value:function(e){var t=this.context,i=this.stats,a=t.callbacks;a.onProgress&&(((0,h.isUint8Array)(e)||(0,h.isArrayBuffer)(e))&&this.speedSampler.sample(e.byteLength),a.onProgress(e,i),i.dump=!0)}},{key:"_onAbort",value:function(){var e=this.context;if(!e.completed){var t=e.callbacks;t.onAbort&&t.onAbort(),this._onComplete()}}},{key:"_onComplete",value:function(){var e=this.context;if(e&&!e.completed){var t=e.callbacks;e.completed=!0,this.speedSampler.reset(),this._resetTimer(),t.onComplete&&t.onComplete()}}}]),e}();t["default"]=b},function(e,t,i){e.exports=i(255)},function(e,t,i){var a=function(){return this}()||Function("return this")(),n=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,r=n&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=i(256),n)a.regeneratorRuntime=r;else try{delete a.regeneratorRuntime}catch(e){a.regeneratorRuntime=void 0}},function(e,t){!function(t){function i(e,t,i,a){var r=t&&t.prototype instanceof n?t:n,o=Object.create(r.prototype),s=new _(a||[]);return o._invoke=u(e,i,s),o}function a(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function n(){}function r(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){function t(i,n,r,o){var s=a(e[i],e,n);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==typeof u&&v.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(u).then(function(e){d.value=e,r(d)},o)}o(s.arg)}function i(e,i){function a(){return new Promise(function(a,n){t(e,i,a,n)})}return n=n?n.then(a,a):a()}var n;this._invoke=i}function u(e,t,i){var n=T;return function(r,o){if(n===I)throw new Error("Generator is already running");if(n===E){if("throw"===r)throw o;return p()}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var d=l(s,i);if(d){if(d===P)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===T)throw n=E,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=I;var u=a(e,t,i);if("normal"===u.type){if(n=i.done?E:A,u.arg===P)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(n=E,i.method="throw",i.arg=u.arg)}}}function l(e,t){var i=e.iterator[t.method];if(i===b){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=b,l(e,t),"throw"===t.method))return P;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var n=a(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,P;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=b),t.delegate=null,P):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,P)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function h(e){if(e){var t=e[y];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(v.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=b,t.done=!0,t};return a.next=a}}return{next:p}}function p(){return{value:b,done:!0}}var b,g=Object.prototype,v=g.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},y=m.iterator||"@@iterator",x=m.asyncIterator||"@@asyncIterator",k=m.toStringTag||"@@toStringTag",w="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(w&&(e.exports=S));S=t.regeneratorRuntime=w?e.exports:{},S.wrap=i;var T="suspendedStart",A="suspendedYield",I="executing",E="completed",P={},D={};D[y]=function(){return this};var q=Object.getPrototypeOf,O=q&&q(q(h([])));O&&O!==g&&v.call(O,y)&&(D=O);var R=o.prototype=n.prototype=Object.create(D);r.prototype=R.constructor=o,o.constructor=r,o[k]=r.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(R),e},S.awrap=function(e){return{__await:e}},s(d.prototype),d.prototype[x]=function(){return this},S.AsyncIterator=d,S.async=function(e,t,a,n){var r=new d(i(e,t,a,n));return S.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},s(R),R[k]="Generator",R[y]=function(){return this},R.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var a=t.pop();if(a in e)return i.value=a,i.done=!1,i}return i.done=!0,i}},S.values=h,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=b)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,a){return r.type="throw",r.arg=e,i.next=t,a&&(i.method="next",i.arg=b),!!a}if(this.done)throw e;for(var i=this,a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],r=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var o=v.call(n,"catchLoc"),s=v.call(n,"finallyLoc");if(o&&s){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&v.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=e,r.arg=t,n?(this.method="next",this.next=n.finallyLoc,P):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),P},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),f(i),P}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var a=i.completion;if("throw"===a.type){var n=a.arg;f(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:h(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=b),P}}}(function(){return this}()||Function("return this")())},function(e,t,i){t.__esModule=!0;var a=i(258),n=function(e){return e&&e.__esModule?e:{"default":e}}(a);t["default"]=function(e){return function(){var t=e.apply(this,arguments);return new n["default"](function(e,i){function a(r,o){try{var s=t[r](o),d=s.value}catch(e){return void i(e)}if(!s.done)return n["default"].resolve(d).then(function(e){a("next",e)},function(e){a("throw",e)});e(d)}return a("next")})}}},function(e,t,i){e.exports={"default":i(259),__esModule:!0}},function(e,t,i){i(66),i(5),i(49),i(260),i(273),i(274),e.exports=i(13).Promise},function(e,t,i){var a,n,r,o,s=i(10),d=i(12),u=i(14),l=i(102),c=i(11),f=i(19),_=i(15),h=i(261),p=i(262),b=i(263),g=i(264).set,v=i(266)(),m=i(267),y=i(268),x=i(269),k=i(270),w=d.TypeError,S=d.process,T=S&&S.versions,A=T&&T.v8||"",I=d.Promise,E="process"==l(S),P=function(){},D=n=m.f,q=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[i(46)("species")]=function(e){e(P,P)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==A.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var i=e._c;v(function(){for(var a=e._v,n=1==e._s,r=0;i.length>r;)!function(t){var i,r,o,s=n?t.ok:t.fail,d=t.resolve,u=t.reject,l=t.domain;try{s?(n||(2==e._h&&C(e),e._h=1),!0===s?i=a:(l&&l.enter(),i=s(a),l&&(l.exit(),o=!0)),i===t.promise?u(w("Promise-chain cycle")):(r=O(i))?r.call(i,d,u):d(i)):u(a)}catch(e){l&&!o&&l.exit(),u(e)}}(i[r++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){g.call(d,function(){var t,i,a,n=e._v,r=M(e);if(r&&(t=y(function(){E?S.emit("unhandledRejection",n,e):(i=d.onunhandledrejection)?i({promise:e,reason:n}):(a=d.console)&&a.error&&a.error("Unhandled promise rejection",n)}),e._h=E||M(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},C=function(e){g.call(d,function(){var t;E?S.emit("rejectionHandled",e):(t=d.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},N=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw w("Promise can't be resolved itself");(t=O(e))?v(function(){var a={_w:i,_d:!1};try{t.call(e,u(N,a,1),u(F,a,1))}catch(e){F.call(a,e)}}):(i._v=e,i._s=1,R(i,!1))}catch(e){F.call({_w:i,_d:!1},e)}}};q||(I=function(e){h(this,I,"Promise","_h"),_(e),a.call(this);try{e(u(N,this,1),u(F,this,1))}catch(e){F.call(this,e)}},a=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=i(271)(I.prototype,{then:function(e,t){var i=D(b(this,I));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=E?S.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&R(this,!1),i.promise},"catch":function(e){return this.then(void 0,e)}}),r=function(){var e=new a;this.promise=e,this.resolve=u(N,e,1),this.reject=u(F,e,1)},m.f=D=function(e){return e===I||e===o?new r(e):n(e)}),c(c.G+c.W+c.F*!q,{Promise:I}),i(45)(I,"Promise"),i(272)("Promise"),o=i(13).Promise,c(c.S+c.F*!q,"Promise",{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(s||!q),"Promise",{resolve:function(e){return k(s&&this===o?I:this,e)}}),c(c.S+c.F*!(q&&i(103)(function(e){I.all(e)["catch"](P)})),"Promise",{all:function(e){var t=this,i=D(t),a=i.resolve,n=i.reject,r=y(function(){var i=[],r=0,o=1;p(e,!1,function(e){var s=r++,d=!1;i.push(void 0),o++,t.resolve(e).then(function(e){d||(d=!0,i[s]=e,--o||a(i))},n)}),--o||a(i)});return r.e&&n(r.v),i.promise},race:function(e){var t=this,i=D(t),a=i.reject,n=y(function(){p(e,!1,function(e){t.resolve(e).then(i.resolve,a)})});return n.e&&a(n.v),i.promise}})},function(e,t){e.exports=function(e,t,i,a){if(!(e instanceof t)||void 0!==a&&a in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var a=i(14),n=i(98),r=i(99),o=i(18),s=i(38),d=i(101),u={},l={},t=e.exports=function(e,t,i,c,f){var _,h,p,b,g=f?function(){return e}:d(e),v=a(i,c,t?2:1),m=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(r(g)){for(_=s(e.length);_>m;m++)if((b=t?v(o(h=e[m])[0],h[1]):v(e[m]))===u||b===l)return b}else for(p=g.call(e);!(h=p.next()).done;)if((b=n(p,v,h.value,t))===u||b===l)return b};t.BREAK=u,t.RETURN=l},function(e,t,i){var a=i(18),n=i(15),r=i(46)("species");e.exports=function(e,t){var i,o=a(e).constructor;return void 0===o||void 0==(i=a(o)[r])?t:n(i)}},function(e,t,i){var a,n,r,o=i(14),s=i(265),d=i(44),u=i(23),l=i(12),c=l.process,f=l.setImmediate,_=l.clearImmediate,h=l.MessageChannel,p=l.Dispatch,b=0,g={},v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},m=function(e){v.call(e.data)};f&&_||(f=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return g[++b]=function(){s("function"==typeof e?e:Function(e),t)},a(b),b},_=function(e){delete g[e]},"process"==i(36)(c)?a=function(e){c.nextTick(o(v,e,1))}:p&&p.now?a=function(e){p.now(o(v,e,1))}:h?(n=new h,r=n.port2,n.port1.onmessage=m,a=o(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(a=function(e){l.postMessage(e+"","*")},l.addEventListener("message",m,!1)):a="onreadystatechange"in u("script")?function(e){d.appendChild(u("script")).onreadystatechange=function(){d.removeChild(this),v.call(e)}}:function(e){setTimeout(o(v,e,1),0)}),e.exports={set:f,clear:_}},function(e,t){e.exports=function(e,t,i){var a=void 0===i;switch(t.length){case 0:return a?e():e.call(i);case 1:return a?e(t[0]):e.call(i,t[0]);case 2:return a?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var a=i(12),n=i(264).set,r=a.MutationObserver||a.WebKitMutationObserver,o=a.process,s=a.Promise,d="process"==i(36)(o);e.exports=function(){var e,t,i,u=function(){var a,n;for(d&&(a=o.domain)&&a.exit();e;){n=e.fn,e=e.next;try{n()}catch(a){throw e?i():t=void 0,a}}t=void 0,a&&a.enter()};if(d)i=function(){o.nextTick(u)};else if(!r||a.navigator&&a.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);i=function(){l.then(u)}}else i=function(){n.call(a,u)};else{var c=!0,f=document.createTextNode("");new r(u).observe(f,{characterData:!0}),i=function(){f.data=c=!c}}return function(a){var n={fn:a,next:void 0};t&&(t.next=n),e||(e=n,i()),t=n}}},function(e,t,i){function a(e){var t,i;this.promise=new e(function(e,a){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=a}),this.resolve=n(t),this.reject=n(i)}var n=i(15);e.exports.f=function(e){return new a(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){var a=i(12),n=a.navigator;e.exports=n&&n.userAgent||""},function(e,t,i){var a=i(18),n=i(19),r=i(267);e.exports=function(e,t){if(a(e),n(t)&&t.constructor===e)return t;var i=r.f(e);return(0,i.resolve)(t),i.promise}},function(e,t,i){var a=i(16);e.exports=function(e,t,i){for(var n in t)i&&e[n]?e[n]=t[n]:a(e,n,t[n]);return e}},function(e,t,i){var a=i(12),n=i(13),r=i(17),o=i(21),s=i(46)("species");e.exports=function(e){var t="function"==typeof n[e]?n[e]:a[e];o&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,i){var a=i(11),n=i(13),r=i(12),o=i(263),s=i(270);a(a.P+a.R,"Promise",{"finally":function(e){var t=o(this,n.Promise||r.Promise),i="function"==typeof e;return this.then(i?function(i){return s(t,e()).then(function(){return i})}:e,i?function(i){return s(t,e()).then(function(){throw i})}:e)}})},function(e,t,i){var a=i(11),n=i(267),r=i(268);a(a.S,"Promise",{"try":function(e){var t=n.f(this),i=r(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},function(e,t,i){function a(e){var t=[];return function e(i){switch(void 0===i?"undefined":(0,r["default"])(i)){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return i;case"object":default:if(!i)return i;if(t.indexOf(i)>=0)return null;var a=i.constructor==Array;if(i.constructor!=Object&&!a)return null;t.push(i);var n=a?[]:{};for(var o in i)n[o]=e(i[o]);return a&&(n.length=i.length),n}}(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=function(e){return e&&e.__esModule?e:{"default":e}}(n);t["default"]=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a=window.location.protocol;t["default"]={dispatchAccessURL:a+"//103.44.59.54/3e8",dispatchIPSuccess:"{{IP}}",dispatchIPFail:"access.if.iqiyi.com",protocol:a}},function(e,t,i){function a(e,t){for(var i=0,a=e.length-1,n=null,r=null;i<=a;){n=(i+a)/2|0,r=e[n];var o=t(r);if(o>0)i=n+1;else{if(!(o<0))return r;a=n-1}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},n=function(e){return new Date(1e3*e-20828448e5)},r=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},o={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:s(e.subarray(78,e.byteLength))}},avcC:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},a=31&e[5],n=void 0,r=void 0,o=void 0,s=void 0;for(o=6,s=0;s<a;s++)r=t.getUint16(o),o+=2,i.sps.push(new Uint8Array(e.subarray(o,o+r))),o+=r;for(n=e[o],o++,s=0;s<n;s++)r=t.getUint16(o),o+=2,i.pps.push(new Uint8Array(e.subarray(o,o+r))),o+=r;return i},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[35]>>>3&31,samplingFrequencyIndex:(7&e[35])<<8+(128&e[36])>>7,channelConfiguration:(120&e[36])>>3}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={majorBrand:a(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)i.compatibleBrands.push(a(e.subarray(n,n+4))),n+=4;return i},dinf:function(e){return{boxes:s(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:s(e.subarray(8))}},hdlr:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:a(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}i.name+=String.fromCharCode(e[n])}return i.name=decodeURIComponent(decodeURIComponent(i.name)),i},mdhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,a=void 0,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=n(t.getUint32(i)),i+=8,r.modificationTime=n(t.getUint32(i)),i+=4,r.timescale=t.getUint32(i),i+=8,r.duration=t.getUint32(i)):(r.creationTime=n(t.getUint32(i)),i+=4,r.modificationTime=n(t.getUint32(i)),i+=4,r.timescale=t.getUint32(i),i+=4,r.duration=t.getUint32(i)),i+=4,a=t.getUint16(i),r.language+=String.fromCharCode(96+(a>>10)),r.language+=String.fromCharCode(96+((960&a)>>5)),r.language+=String.fromCharCode(96+(31&a)),r},mdia:function(e){return{boxes:s(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:s(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(i.streamDescriptor=s(e.subarray(28))[0]),i},moof:function(e){return{boxes:s(e)}},moov:function(e){return{boxes:s(e)}},mvex:function(e){return{boxes:s(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,a={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===a.version?(i+=4,a.creationTime=n(t.getUint32(i)),i+=8,a.modificationTime=n(t.getUint32(i)),i+=4,a.timescale=t.getUint32(i),i+=8,a.duration=t.getUint32(i)):(a.creationTime=n(t.getUint32(i)),i+=4,a.modificationTime=n(t.getUint32(i)),i+=4,a.timescale=t.getUint32(i),i+=4,a.duration=t.getUint32(i)),i+=4,a.rate=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,a.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,i+=8,a.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,i+=24,a.nextTrackId=t.getUint32(i),a},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=void 0;for(i=4;i<e.byteLength;i++)t.samples.push({dependsOn:(48&e[i])>>4,isDependedOn:(12&e[i])>>2,hasRedundancy:3&e[i]});return t},sidx:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8),earliestPresentationTime:t.getUint32(12),firstOffset:t.getUint32(16)},a=t.getUint16(22),n=void 0;for(n=24;a;n+=12,a--)i.references.push({referenceType:(128&e[n])>>>7,referencedSize:2147483647&t.getUint32(n),subsegmentDuration:t.getUint32(n+4),startsWithSap:!!(128&e[n+8]),sapType:(112&e[n+8])>>>4,sapDeltaTime:268435455&t.getUint32(n+8)});return i},stbl:function(e){return{boxes:s(e)}},stco:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=t.getUint32(4),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),entryCount:i,chunkOffsets:[]},n=8;i;n+=4,i--)a.chunkOffsets.push(t.getUint32(n));return a},stsc:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=t.getUint32(4),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]},n=void 0;for(n=8;i;n+=12,i--)a.sampleToChunks.push({firstChunk:t.getUint32(n),samplesPerChunk:t.getUint32(n+4),sampleDescriptionIndex:t.getUint32(n+8)});return a},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),boxes:s(e.subarray(8))}},stsz:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:t.getUint32(4),entries:[]},a=void 0;for(a=12;a<e.byteLength;a+=4)i.entries.push(t.getUint32(a));return i},stts:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},a=t.getUint32(4),n=void 0;for(n=8;a;n+=8,a--)i.timeToSamples.push({sampleCount:t.getUint32(n),sampleDelta:t.getUint32(n+4)});return i},styp:function(e){return o.ftyp(e)},tfdt:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},tfhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)},a=1&i.flags[2],n=2&i.flags[2],r=8&i.flags[2],o=16&i.flags[2],s=32&i.flags[2],d=void 0;return d=8,a&&(d+=4,i.baseDataOffset=t.getUint32(12),d+=4),n&&(i.sampleDescriptionIndex=t.getUint32(d),d+=4),r&&(i.defaultSampleDuration=t.getUint32(d),d+=4),o&&(i.defaultSampleSize=t.getUint32(d),d+=4),s&&(i.defaultSampleFlags=t.getUint32(d)),i},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,a={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===a.version?(i+=4,a.creationTime=n(t.getUint32(i)),i+=8,a.modificationTime=n(t.getUint32(i)),i+=4,a.trackId=t.getUint32(i),i+=4,i+=8,a.duration=t.getUint32(i)):(a.creationTime=n(t.getUint32(i)),i+=4,a.modificationTime=n(t.getUint32(i)),i+=4,a.trackId=t.getUint32(i),i+=4,i+=4,a.duration=t.getUint32(i)),i+=4,i+=8,a.layer=t.getUint16(i),i+=2,a.alternateGroup=t.getUint16(i),i+=2,a.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,a.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,a.width=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,a.height=t.getUint16(i)+t.getUint16(i+2)/16,a},traf:function(e){return{boxes:s(e)}},trak:function(e){return{boxes:s(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),a=1&t.flags[2],n=4&t.flags[2],o=1&t.flags[1],s=2&t.flags[1],d=4&t.flags[1],u=8&t.flags[1],l=i.getUint32(4),c=8,f=void 0;for(a&&(t.dataOffset=i.getUint32(c),c+=4),n&&l&&(f={flags:r(e.subarray(c,c+4))},c+=4,o&&(f.duration=i.getUint32(c),c+=4),s&&(f.size=i.getUint32(c),c+=4),u&&(f.compositionTimeOffset=i.getUint32(c),c+=4),t.samples.push(f),l--);l--;)f={},o&&(f.duration=i.getUint32(c),c+=4),s&&(f.size=i.getUint32(c),c+=4),d&&(f.flags=r(e.subarray(c,c+4)),c+=4),u&&(f.compositionTimeOffset=i.getUint32(c),c+=4),t.samples.push(f);return t},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}}},s=function(e){for(var t=0,i=[],n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=void 0,s=void 0,d=void 0,u=void 0;t<e.byteLength;)r=n.getUint32(t),s=a(e.subarray(t+4,t+8)),d=r>1?t+r:e.byteLength,u=(o[s]||function(e){return{data:e}})(e.subarray(t+8,d)),u.size=r,u.type=s,i.push(u),t=d;return i},d={mp4toJSON:s};t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(145),p=a(h),b=i(119),g=a(b),v=i(115),m=a(v),y=i(146),x=a(y),k=i(280),w=a(k),S=i(123),T=a(S),A=i(93),I=a(A),E=i(116),P=a(E),D=i(106),q=a(D),O=function(e){function t(e){(0,s["default"])(this,t);var i=new T["default"],a=new w["default"](e),n=new x["default"]("m2ts","mp4",{debug:q["default"].DEBUG,enableWorker:e.config.enableWorker}),o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,{manifest:i,loader:a,multiplexer:n}));return o.TAG="HLSActor",o._fragments=[],o._segments=[],o._rangeTSTolerance=e.config.hlsRangeTSTolerance,o._maxSegmentSearchTolerance=e.config.hlsMaxSegmentSearchTolerance,o._sendISWhileFragmentChange=!0,o._multiplexer.on(x["default"].Events.DATA,function(e){switch(e.fragmentType){case"initSegment":var t=e.contentType,i=e.container,a=e.codec,n=e.trackId,r=e.data;if(I["default"].log(o.LOG_TAG+" parsed "+t+" initSegment, "+i+"_"+a),"video"===t||"audio"===t){var s=new g["default"](t);s.origin=P["default"].HLS,s.bytesArray=r,s.trackId=n,s.container=i,s.codec=a,"video"===t?o.videoInitSegment=s:"audio"===t&&(o.audioInitSegment=s)}break;case"fragment":var d=e.contentType,u=e.data,l=e.duration,c=e.startDTS,f=e.startPTS,_=e.nextSegmentPTS;if(I["default"].log(o.LOG_TAG+" parsed "+d+", startDTS/startPTS/end/duration("+c.toFixed(3)+"/"+f.toFixed(3)+"/"+(f+l).toFixed(3)+"/"+l.toFixed(3)+")"),l<0)return void I["default"].warn(o.LOG_TAG+" ignore parsed, due the duration "+l);if("video"===d){var h=new m["default"]("video");if(h.origin=P["default"].HLS,h.bytesArray=u,h.startTime=c,h.duration=l,o._currentDataMeta){var p=o._currentDataMeta.fragIdx,b=o._currentDataMeta.segIdx,v=o._fragments[p];if(v){var y=v.segments[b];y.knownPTS||o._updateSegStartTime(y,c)}}o._videoMediaStartTimes.push(h.startTime),o._videoMediaSegments.push(h)}else if("audio"===d){var x=new m["default"]("audio");x.origin=P["default"].HLS,x.bytesArray=u,x.startTime=f,x.duration=l,o._audioSegmentAlignPTS=_,o._audioMediaSegments.push(x)}}}).on(x["default"].Events.DONE,function(){o._videoMediaStartTimes.length>0&&(o._onVideoSegmentParsed(o._videoMediaStartTimes[0]),o._videoMediaStartTimes=[])}),o}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"duration",get:function(){var e=0,t=this._fragments;if(t.length>0){var i=t[t.length-1];e=i.startTime+i.duration}return e}}]),(0,c["default"])(t,[{key:"_destroy",value:function(){this._fragments.splice(0,this._fragments.length),this._segments.splice(0,this._segments.length)}},{key:"applyRange",value:function(e){var t=this._manifest.isAccurateTimeStamp;this._maxSegmentSearchTolerance=t?0:this._ctx.config.hlsMaxSegmentSearchTolerance,this._rangeTSTolerance=t?0:this._ctx.config.hlsRangeTSTolerance;var i=this._constructPlaySegmentsByRangeList(this._manifest.fragments,e);this._fragments=i.fragments,this._segments=i.segments,I["default"].log("hls-actor applyRange,this._segments = "+this._segments.length),this._manifestDuration=this.duration,this._loader.fragsWithSegs={frags:this._fragments,segs:this._segments,isAccurateTimeStamp:t}}},{key:"_constructPlaySegmentsByRangeList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i=[],a=this._rangeTSTolerance,n=t.start(0)-a,r=t.end(t.length-1)+a;return I["default"].log(this.LOG_TAG+" qvs reset timerange = "+n+"-"+r),e.forEach(function(e,t){var a=e.segments;a.length>0&&a.map(function(a,o,s){var d=a.startTime,u=a.startTime+a.duration;return a.enabled=(d>=n||u>n)&&(u<=r||d<r),a.fragIdx=t,a.fragKey=e.key,a.flattenIdx=i.length,i.push(a),a})}),{fragments:e,segments:i}}},{key:"_reset",value:function(){this._fragments.splice(0,this._fragments.length),this._segments.splice(0,this._segments.length),this._loader.reset()}},{key:"_getSegmentByPTS",value:function(e){return this._loader.findSegmentByPTS(e).segment}},{key:"_getPrevSegmentByPTS",value:function(e){return this._loader.findPrevSegmentByPTS(e)}},{key:"_onVideoSegmentParsed",value:function(e){if(!this._seeked)if(e<=this._seekPTS)this._seeked=!0;else if(this._seekPTS>0){var t=this._getPrevSegmentByPTS(e);if(t){var i=t.startTime+this._maxSegmentSearchTolerance,a=t.enabled;a||(t.enabled=!0),I["default"].error(this.LOG_TAG+" correct seek time from "+this._seekPTS+" to "+i+(a?"":", & enabled prev seg"))}else I["default"].warn(this.LOG_TAG+" can't correct seek time by seek pts "+this._seekPTS)}}},{key:"_updateSegStartTime",value:function(e,t){var i=this._manifest.isAccurateTimeStamp,a=this._manifestDuration,n=this._segments,r=void 0,o=e.flattenIdx;if(e.knownPTS=!0,!i){for(e.startTime=t,r=o;r>0;r--){if(this._updateSegPTS(n,r,r-1).knownPTS)break}for(r=o;r<n.length-1;r++){if(this._updateSegPTS(n,r,r+1).knownPTS)break}}var s=n[n.length-1];s&&a>s.startTime&&(s.duration=a-s.startTime),i||this._updateFragPTS(this._fragments)}},{key:"_updateSegPTS",value:function(e,t,i){var a=0===i,n=e[t],r=e[i];if(r.knownPTS){var o=this.LOG_TAG+" adjust segment pts encounter negative duration computed for seg";i>t?(!n.knownPTS&&r.startTime<=n.startTime&&r.startTime>0&&(n.startTime=r.startTime-.001),n.duration=r.startTime-n.startTime,n.duration<0&&I["default"].warn(o+" "+n.fragIdx+"/"+n.idx+"!")):(!n.knownPTS&&n.startTime<=r.startTime&&(n.startTime=r.startTime+.001),r.duration=n.startTime-r.startTime,r.duration<0&&I["default"].warn(o+" "+n.fragIdx+"/"+n.idx+"!"))}else if(i>t){var s=n.startTime+n.duration;r.startTime=s}else r.startTime=a?0:Math.max(n.startTime-r.duration,0);return r}},{key:"_updateFragPTS",value:function(e){for(var t=0;t<e.length;t++){var i=e[t],a=e[t+1],n=i.segments;i.startTime=n[0].startTime,i.duration=a?a.segments[0].startTime-i.startTime:n[n.length-1].startTime+n[n.length-1].duration-i.startTime}}},{key:"_needSendIS",value:function(e){e&&(this.videoInitSegment=this.audioInitSegment=null)}}]),t}(p["default"]);t["default"]=O},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(135),r=a(n),o=i(69),s=a(o),d=i(73),u=a(d),l=i(74),c=a(l),f=i(75),_=a(f),h=i(79),p=a(h),b=i(281),g=a(b),v=i(116),m=a(v),y=i(93),x=a(y),k=i(277),w=a(k),S=i(246),T=a(S),A=i(240),I=a(A),E=i(238),P=a(E),D=i(282),q=a(D),O=i(283),R=a(O),L=i(112),M=a(L),C=i(105),F=a(C),N=function(e){function t(e){(0,u["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this,e,e.config.useP2PInHls));return i.TAG="HLSLoader",i._fragments=[],i._segments=[],i._readPos={f:-1,s:-1,b:-1},i._downPos={f:-1,s:-1,b:-1},i._maxSegmentSearchTolerance=e.config.hlsMaxSegmentSearchTolerance,i._eventManager=new M["default"],i._hlsRemote=new R["default"](e),i}return(0,p["default"])(t,e),(0,_["default"])(t,[{key:"fragsWithSegs",set:function(e){this._eof=!1,this._eod=!1,this._fragments=e.frags,this._segments=e.segs,this._maxSegmentSearchTolerance=e.isAccurateTimeStamp?0:this._ctx.config.hlsMaxSegmentSearchTolerance}},{key:"segments",set:function(e){this._segments=e}}]),(0,_["default"])(t,[{key:"_reset",value:function(){this._fragments.splice(0,this._fragments.length),this._segments.splice(0,this._segments.length),this._readPos.f=this._readPos.s=this._readPos.b=-1,this._downPos.f=this._downPos.s=this._downPos.b=-1,this._lastBufPos=void 0,this._lastBufInf=void 0,this.state!==T["default"].IDLE&&(this.state===T["default"].LOADING?this._abort():this.state=T["default"].IDLE),this._withBufferRetryCount=0,this._noBufferRetryCount=0,this._hlsRemote.reset()}},{key:"read",value:function(){return this.mode===P["default"].P2P?this._readP2P():this._readCDN()}},{key:"_seek",value:function(e){this._withBufferRetryCount=0,this._noBufferRetryCount=0,e-=this._maxSegmentSearchTolerance;var t=this.findSegmentByPTS(e),i=t.fragment,a=t.segment;if(!i||!a)throw Error("seek pts/frag/segment("+e+"/"+i+"/"+a+")");var n=this._getFloatNumByIdx(i.idx,a.idx),r=this._getFloatNumByIdx(this._readPos.f,this._readPos.s),o=this._getFloatNumByIdx(this._downPos.f,this._downPos.s),s=n>=r&&n<=o;this._readPos.f=i.idx,this._readPos.s=a.idx,this._readPos.b=0,this._downPos.f=i.idx,this._downPos.s=a.idx,this._downPos.b=0,this._findPieceByPos(this._downPos).segment.status===g["default"].LOADED&&this._moveToNextDownPosOrEOD(),s||this.state!==T["default"].LOADING||this._abort(),this._tick()}},{key:"_tick",value:function(){this._checkFetchOrEOD()}},{key:"_checkFetchOrEOD",value:function(){if(!this._eod&&!this._ctx.error&&this._segments&&0!==this._segments.length&&this.state===T["default"].IDLE){var e=this._getUnreadBufInfo();if(e.timeLength>this._maxBufferTimeLength)return;this._checkLoad(e)}}},{key:"_getFloatNumByIdx",value:function(e,t){return parseFloat(e+"."+t)}},{key:"_getUnreadBufInfo",value:function(){var e=this,t=this._fragments,i=this._downPos.f,a=this._downPos.s,n=this._readPos.f,r=this._readPos.s,o=0,s=0,d=0,u={start:d,byteLength:o,timeLength:s};if(e.eof){if(e.eof){var l=t[t.length-1];u.start=l.endTime}}else{var c=[n,r,i,a].join("-");if(this._lastBufPos&&this._lastBufPos===c)return this._lastBufInf;for(var f=n;f<=i;f++){var _=t[f];if(_){var h=_.segments,p=f===n?r:0,b=f===i?a:h.length-1;f===n&&(d=h[r].startTime);for(var g=p;g<=b;g++){var v=h[g],m=e._bufferPool.read(v.poolId);if(m)o+=m.byteLength,s+=v.duration;else{if(!(f===i&&g===b))throw new Error("A discontinuous buffer was detected. "+v.poolId)}}}}u.start=d,u.byteLength=o,u.timeLength=s,this._lastBufPos=c,this._lastBufInf=u}return u}},{key:"_readP2P",value:function(){var e=null,t=this._p2pProxy.read();if(t&&t.type){var i=t.loadDone,a=t.type.toLowerCase(),n=t.stream;if("ts"===a&&(i&&(this.state=T["default"].END),n)){var r=n.index,o=n.data,s=n.chunkEOF,d=this._segments,u=d[r];this._eof=r>d.length-1||r===d.length-1&&s||!u.enabled&&!this._getNextAvailableSegByFlatten(r),this._eof&&x["default"].log(this.LOG_TAG+": EOF"),o&&(x["default"].log(this.LOG_TAG+": Read seg flatten idx "+r+" ->[0,"+(d.length-1)+"], status/startTime/duration("+this.getStateKey(u.status)+"/"+u.startTime.toFixed(3)+"/"+u.duration.toFixed(3)+"), bid = "+u.bid+", length = "+o.byteLength+", total = "+(u.endByte-u.startByte)+", fragIdx = "+u.fragIdx+" - "+u.idx),e={type:m["default"].HLS,data:o,done:s,meta:{fragIdx:u.fragIdx,segIdx:u.idx,fragKey:u.fragKey}})}}return e}},{key:"_readCDN",value:function(){if(this.eof)return null;var e=this._findPieceByPos(this._readPos),t=e.fragment,i=e.segment;if(!i)return null;if(!i.enabled)return this._moveToNextReadPosOrEOF(),null;if(i.status!==g["default"].PARTIAL&&i.status!==g["default"].LOADED)return this._tryToSyncReadAndDownPos(),null;var a=this._fragments.length,n=this._readPos.f,r=this._readPos.s,o=this._readPos.b,s=this._bufferPool.read(i.poolId),d=null,u=!1;return o>=s.byteLength?d=null:(x["default"].log(this.LOG_TAG+": Read seg "+i.poolId+",  flatten idx "+i.flattenIdx+" ->[0,"+(this._segments.length-1)+"] & inner seg idx "+r+"->[0,"+(t.segments.length-1)+"] of frag "+n+"->[0,"+(a-1)+"], status "+this.getStateKey(i.status)+", bid = "+i.bid+", duration="+i.duration+",bytes="+(i.endByte-i.startByte)+", url "+i.uri.toString()),d=s.subarray(o,s.byteLength)),i.status===g["default"].PARTIAL?this._readPos.b=s.byteLength:i.status===g["default"].LOADED&&(u=!0,this._moveToNextReadPosOrEOF()),{type:m["default"].HLS,data:d,done:u,meta:{fragIdx:n,segIdx:r,fragKey:i.fragKey}}}},{key:"_abort",value:function(){this._hlsRemote.abort()}},{key:"findSegmentByPTS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._findPieceByPTS(e,this._fragments),i=null;return t&&(i=this._findPieceByPTS(e,t.segments)),{fragment:t,segment:i}}},{key:"findPrevSegmentByPTS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this.findSegmentByPTS(e),a=i.segment;return a&&a.flattenIdx>0&&(t=this._segments[a.flattenIdx-1]),t}},{key:"_findPieceByPTS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],i=arguments[2];return i&&!this._pieceWithinToleranceTest(e,i)?i:(0,w["default"])(t,this._pieceWithinToleranceTest.bind(this,e))}},{key:"_findPieceByPos",value:function(e){var t=this._fragments[e.f],i=null;return t&&(i=t.segments[e.s]),{fragment:t,segment:i}}},{key:"_pieceWithinToleranceTest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];return e<0&&(e=0),t.startTime+t.duration<=e?1:t.startTime>e&&t.startTime?-1:0}},{key:"_checkLoad",value:function(e){var t=this._findPieceByPos(this._downPos),i=t.fragment,a=t.segment;if(!i||!a)return x["default"].error(this.LOG_TAG+": load frag/segment("+i+"/"+a+"), down pos("+(0,r["default"])(this._downPos)+")");var n=new q["default"]({frag:i,fragIdx:this._downPos.f,range:[this._downPos.s,this._downPos.s],bufferInfo:e});this._loadSingleSegment(n)}},{key:"_isCurrentDownSeg",value:function(e){return!!e&&e.idx===this._downPos.s&&e.fragIdx===this._downPos.f}},{key:"_loadContiguousSegments",value:function(e){}},{key:"_loadSingleSegment",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.pieces,n=e.fragIdx,r=e.buffer,o=this,s=a[0],d=this._fragments[n],u=this._fragments.length;if(!i){if(s.status===g["default"].PARTIAL)return;if(s.status===g["default"].LOADED)return}o.state=T["default"].LOADING;var l=function(e,t){},c=function(e){o._bufferPool.del(s.poolId),o._bufferPool.add(s.poolId,e),s.status=g["default"].LOADED;var t="pool id "+s.poolId,i="seg "+s.idx+"->[0,"+(d.segments.length-1)+"]",a="frag "+n+"->[0,"+(u-1)+"]";x["default"].log(o.LOG_TAG+": Loaded "+t+", "+i+" of "+a+", buffer "+r.timeLength+"s"),o._isCurrentDownSeg(s)&&o._moveToNextDownPosOrEOD(),o.state!==T["default"].ERROR&&(o.state=T["default"].IDLE)},f=function(i){var a=t._getUnreadBufInfo(),n=a.timeLength>0;"auth-error"==i.category?t._doFinalError(i,e,s):n?t._withBufferRetryCount<t._withBufferMaxRetry?(t._withBufferRetryCount++,t._reloadSingleSegment(e)):t._doFinalError(i,e,s):t._noBufferRetryCount<t._noBufferMaxRetry?(t._noBufferRetryCount++,t._reloadSingleSegment(e)):t._doFinalError(i,e,s)},_=function(){var e="seg "+s.idx+"->[0,"+(d.segments.length-1)+"]",t="frag "+n+"->[0,"+(u-1)+"]";x["default"].log(o.LOG_TAG+": onAbort "+e+" of "+t+", buffer "+r.timeLength+"s"),s.status=g["default"].NOT_LOADED,o._bufferPool.del(s.poolId),o.state!==T["default"].ERROR&&(o.state=T["default"].IDLE)},h=function(e){o._doDNSParser(e)};this._eventManager.removeAll(),this._eventManager.on(this._hlsRemote,R["default"].Events.PROGRESS,l),this._eventManager.on(this._hlsRemote,R["default"].Events.SUCCESS,c),this._eventManager.on(this._hlsRemote,R["default"].Events.FAILURE,f),this._eventManager.on(this._hlsRemote,R["default"].Events.ABORT,_),this._eventManager.on(this._hlsRemote,R["default"].Events.DNSPARSER,h),this._hlsRemote.startLoad(e)}},{key:"_reloadSingleSegment",value:function(e){this._hlsRemote.reset(),this._hlsRemote.dispatcher&&this._hlsRemote.dispatcher.destroy(),this._hlsRemote.cdnLaborer&&this._hlsRemote.cdnLaborer.destroy(),this._loadSingleSegment(e,!0)}},{key:"_doFinalError",value:function(e,t,i){var a=this,n=e.category,r=e.code,o=t.fragIdx,s=a._fragments[o],d=a._fragments.length;switch(n){case"cdn-error":case"dispatcher-error":case"auth-error":if(a._isCurrentDownSeg(i)){i.status=g["default"].ERROR,a.state=T["default"].ERROR,x["default"].log(a.LOG_TAG+": onError: "+i.fragIdx+"-"+i.idx);var u="";switch(n){case"cdn-error":u=F["default"].code.DATA_HLS_CDN_ERROR;break;case"auth-error":u=F["default"].code.DATA_AUTH_Error;break;case"dispatcher-error":u=F["default"].code.DATA_HLS_DISPATCH_ERROR}a._error=new F["default"](F["default"].severity.CRITICAL,F["default"].category.DATA_SOURCE,u,r)}else{var l="seg "+i.idx+"->[0,"+(s.segments.length-1)+"]",c="frag "+o+"->[0,"+(d-1)+"]";x["default"].error(a.LOG_TAG+": onError "+l+" of "+c+", buffer "+t.buffer.timeLength+"s")}break;case"cdn-timeout":case"dispatcher-timeout":if(a._isCurrentDownSeg(i))i.status=g["default"].TIMEOUT,a.state=T["default"].ERROR,x["default"].log(a.LOG_TAG+": onTimeout: "+i.fragIdx+"-"+i.idx),a._error=new F["default"](F["default"].severity.CRITICAL,F["default"].category.DATA_SOURCE,"cdn-timeout"===n?F["default"].code.DATA_HLS_DISPATCH_TIMEOUT:F["default"].code.DATA_HLS_CDN_TIMEOUT);else{var f="seg "+i.idx+"->[0,"+(s.segments.length-1)+"]",_="frag "+o+"->[0,"+(d-1)+"]";x["default"].error(a.LOG_TAG+": onTimeout "+f+" of "+_+", buffer "+t.buffer.timeLength+"s")}break;default:a.state!==T["default"].ERROR&&(a.state=T["default"].IDLE)}}},{key:"_getNextAvailableSegByFlatten",value:function(e){var t=this._segments,i=t[e];return i?i.enabled?i:this._getNextAvailableSegByFlatten(e+1):null}},{key:"_moveToNextDownPosOrEOD",value:function(){var e=this._findPieceByPos(this._downPos),t=e.segment,i=this._getNextAvailableSegByFlatten(t.flattenIdx+1);i?(this._downPos.f=i.fragIdx,this._downPos.s=i.idx,this._downPos.b=0,i.status===g["default"].LOADED&&this._moveToNextDownPosOrEOD()):this.state=T["default"].END}},{key:"_moveToNextReadPosOrEOF",value:function(){var e=this._fragments,t=e[this._readPos.f],i=t.segments[this._readPos.s],a=this._getNextAvailableSegByFlatten(i.flattenIdx+1);a?(this._readPos.f=a.fragIdx,this._readPos.s=a.idx,this._readPos.b=0):(this._eof=!0,x["default"].log(this.LOG_TAG+": EOF"))}},{key:"_tryToSyncReadAndDownPos",value:function(){var e=!1;this._readPos.f>this._downPos.f?e=!0:this._readPos.s>this._downPos.s&&(e=!0),e&&(this._downPos.f=this._readPos.f,this._downPos.s=this._readPos.s,this._downPos.b=0)}},{key:"_gc",value:function(){if(!(this._readPos.f<0||this._readPos.s<0||this._downPos.f<0||this._downPos.s<0))for(var e=this._fragments[this._readPos.f].segments[this._readPos.s].flattenIdx,t=this._fragments[this._downPos.f].segments[this._downPos.s].flattenIdx,i=this._segments,a=this._bufferPool,n=a.keys,r=0;r<n.length;r++){var o=n[r],s=o.split("-"),d=parseInt(s[1],10),u=parseInt(s[2],10),l=this._fragments[d];if(l){var c=l.segments[u];if(c){var f=c.flattenIdx;if(f<e||f>t){var _=i[f];_.status=g["default"].NOT_LOADED,a.del(o)}}else a.del(o)}else a.del(o)}}}]),t}(I["default"]);t["default"]=N},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={NOT_LOADED:0,PARTIAL:1,LOADED:2,ERROR:3,TIMEOUT:4}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(t){(0,r["default"])(this,e),this._fragment=t.frag,this._fragIdx=t.fragIdx,this._range=t.range,this._bufferInfo=t.bufferInfo,this._pieces=[];for(var i=this._fragment.segments,a=t.range[0],n=t.range[1],o=this._pieces,s=a;s<=n;s++)o.push(i[s]);if(1===o.length){var d=o[0];this._uri=d.uri}}return(0,s["default"])(e,[{key:"uri",get:function(){return this._uri}},{key:"fragIdx",get:function(){return this._fragIdx}},{key:"pieces",get:function(){return this._pieces}},{key:"buffer",get:function(){return this._bufferInfo}},{key:"fragment",get:function(){return this._fragment}}]),(0,s["default"])(e,[{key:"destroy",value:function(){this._pieces=[],this._fragment=null,this._range=null,this._fragIdx=null}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(251),p=a(h),b=i(88),g=a(b),v=i(112),m=a(v),y=i(107),x=a(y),k=i(284),w=a(k),S=i(287),T=a(S),A=i(126),I=a(A),E=i(286),P=a(E),D=i(93),q=a(D),O=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.TAG="HLSRemote",i.ctx=e,i._eventManager=new m["default"],i.netProxy=e.netProxy,i._dispatcher=null,i._dispatcherResultDic={},i._cdnLaborer=null,i._internalRetryCount=0,i._internalMaxRetry=2,i._dnsInfo={userinfo:"",idc:""},i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"dispatcher",get:function(){return this._dispatcher}},{key:"cdnLaborer",get:function(){return this._cdnLaborer}}]),(0,c["default"])(t,[{key:"_makeCDNUri",value:function(e,t,i){var a=new I["default"](e);return a.query.update("start",t),a.query.update("end",i),a}},{key:"removeDispatchDicKey",value:function(e){delete this._dispatcherResultDic[e]}},{key:"startLoad",value:function(e){var i=this,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.fragment),n=new I["default"](e.uri.toString()),r=a.uri.path,o=this._dispatcherResultDic[r],s={startByte:e.pieces[0].startByte,endByte:e.pieces[e.pieces.length-1].endByte};if(o&&o.l){var d=this._makeCDNUri(o.l,s.startByte,s.endByte);this._loadCDNData(e,d)}else{if(this._dispatcher&&(this._eventManager.removeAll(),this._dispatcher.destroy()),o){var u=o.z;u&&n.query.update("z",u)}this._dispatcher=new w["default"](this.ctx,n.toString(),this._internalRetryCount),this._eventManager.on(this._dispatcher,T["default"].DISPATCH_SUCCESS,function(t){i._dispatcherResultDic[r]=t,i._dnsInfo={userinfo:t.t,idc:t.z};var a=i._makeCDNUri(t.l,s.startByte,s.endByte);i._loadCDNData(e,a)}),this._eventManager.on(this._dispatcher,T["default"].DNS_PARSER_REQUEST,function(e){i._doDNS(e)}),this._eventManager.on(this._dispatcher,T["default"].DISPATCH_FAIL,function(a){var n=a.reason,r=a.error;switch(n){case P["default"].TIMEOUT:i._internalRetryCount<i._internalMaxRetry?(i._internalRetryCount++,i._internalRetry(e)):i.emit(t.Events.FAILURE,{category:"dispatcher-timeout"});break;case P["default"].ERROR:405===r.code&&r.response&&r.response.code&&r.response.code.indexOf("D20")>=0?i.emit(t.Events.FAILURE,{category:"auth-error"}):i._internalRetryCount<i._internalMaxRetry?(i._internalRetryCount++,i._internalRetry(e)):i.emit(t.Events.FAILURE,{category:"dispatcher-error"});break;case P["default"].ABORT:i.emit(t.Events.ABORT);break;default:q["default"].warn("Unknown dispatch fail reason "+n)}}),this._dispatcher.load()}}},{key:"_loadCDNData",value:function(e,i){var a=this,n=this.netProxy,r=i.toString(),o=p["default"].SEGMENT,s=n.makeRequestContext([r],(0,x["default"])({timeout:1e4},n.defaultRetryParameters));s.method="GET",s.callbacks=(0,x["default"])(s.callbacks,{onProgress:function(e,i){a.emit(t.Events.PROGRESS,e,i)},onSuccess:function(e){var i=new Uint8Array(e.data);a.emit(t.Events.SUCCESS,i)},onError:function(i){a._internalRetryCount<a._internalMaxRetry?(a._internalRetryCount++,a._internalRetry(e)):(a._doDNS(r),a.emit(t.Events.FAILURE,{category:"cdn-error",code:i}))},onTimeout:function(i,n){a._internalRetryCount<a._internalMaxRetry?(a._internalRetryCount++,a._internalRetry(e)):(a._doDNS(r),a.emit(t.Events.FAILURE,{category:"cdn-timeout"}))},onAbort:function(){a.emit(t.Events.ABORT)}},!0),this._cdnLaborer=n.request(o,s)}},{key:"_internalRetry",value:function(e){var t=this._dispatcherResultDic[e.uri.path];t&&t.l&&delete t.l,this.startLoad(e,!0)}},{key:"_doDNS",value:function(e){this.emit(t.Events.DNSPARSER,{userinfo:this._dnsInfo.userinfo,idc:this._dnsInfo.idc,url:e})}},{key:"abort",value:function(){this._dispatcher&&this._dispatcher.abort(),this._cdnLaborer&&this._cdnLaborer.abort()}},{key:"reset",value:function(){this._internalRetryCount=0,this._dispatcherResultDic={},this._eventManager.removeAll(),this._dnsInfo={userinfo:"",idc:""},this.abort()}},{key:"destroy",value:function(){delete this._dispatcherResultDic,this._internalRetryCount=0,this._eventManager.destroy(),delete this._eventManager,this._dispatcher&&this._dispatcher.destroy(),delete this._dispatcher,this._cdnLaborer&&this._cdnLaborer.destroy(),delete this._cdnLaborer,this._dnsInfo={userinfo:"",idc:""}}}]),t}(g["default"]);O.Events={SUCCESS:"SUCCESS",PROGRESS:"PROGRESS",FAILURE:"FAILURE",ABORT:"ABORT",COMPLETE:"COMPLETE",DNSPARSER:"DNSPARSER"},t["default"]=O},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(285),p=a(h),b=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,s["default"])(this,t);var n=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,i));return n.ctx=e,n.netProxy=e.netProxy,n.retryCount=a,n.hooks.beforeLoad=n._beforeLoad.bind(n),n}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"_beforeLoad",value:function(){this.retryCount>0&&this.query.update("retry",this.retryCount),this.query.update("pv","0.1"),this.query.update("cross-domain",1)}}]),t}(p["default"]);t["default"]=b},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(135),r=a(n),o=i(69),s=a(o),d=i(73),u=a(d),l=i(74),c=a(l),f=i(75),_=a(f),h=i(79),p=a(h),b=i(251),g=a(b),v=i(286),m=a(v),y=i(88),x=a(y),k=i(126),w=a(k),S=i(93),T=a(S),A=i(107),I=a(A),E=i(287),P=a(E),D=i(288),q=a(D),O=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,u["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this));return T["default"].assert(!e,"Dispatch url should be empty!"),i.uri=new w["default"](e),i.query=i.uri.query,i.hooks={beforeLoad:function(){}},i._hostLaborer=null,i._ipLaborer=null,i}return(0,p["default"])(t,e),(0,_["default"])(t,[{key:"qkv",get:function(){var e=this.query;return{crossDomain:e.get("cross-domain"),pv:e.get("pv"),retry:e.get("retry"),client:e.get("client"),z:e.get("z"),l:e.get("l"),uid:e.get("uid"),cid:e.get("cid"),vid:e.get("vid"),t:e.get("t"),e:e.get("e"),tn:e.get("tn")}}}]),(0,_["default"])(t,[{key:"load",value:function(){this._startHostDispatch()}},{key:"abort",value:function(){this._hostLaborer&&this._hostLaborer.abort(),this._ipLaborer&&this._ipLaborer.abort()}},{key:"destroy",value:function(){this._hostLaborer&&this._hostLaborer.destroy(),this._ipLaborer&&this._ipLaborer.destroy()}},{key:"_startHostDispatch",value:function(){var e=this,t=this.netProxy,i=this.uri,a=g["default"].DISPATCH;this.hooks.beforeLoad(i);var n=i.toString();T["default"].log("Dispatch normal url: "+n);var o=t.makeRequestContext([n],(0,I["default"])({timeout:5e3,maxRetry:1},t.defaultRetryParameters));o.method="GET",o.responseType="json",o.callbacks=(0,I["default"])(o.callbacks,{onSuccess:function(t){var i=t.data;T["default"].log("Dispatch normal result: "+(0,r["default"])(i)),e.emit(P["default"].DISPATCH_SUCCESS,{l:i.l,z:i.z,t:i.t})},onError:function(t){T["default"].error("Request "+t.code+" "+t.error+": "+n),405===t.code&&t.response&&t.response.code&&t.response.code.indexOf("D20")>=0?e.emit(P["default"].DISPATCH_FAIL,{reason:m["default"].ERROR,error:t}):e._startIPDispatch(n)},onTimeout:function(t,i){T["default"].error("Request timeout: "+n),e._startIPDispatch(n)},onAbort:function(){e.emit(P["default"].DISPATCH_FAIL,{reason:m["default"].ABORT})},onComplete:function(){}},!0),this._hostLaborer=t.request(a,o)}},{key:"_startIPDispatch",value:function(e){var t=this;this.emit(P["default"].DNS_PARSER_REQUEST,e),this._ipLaborer=new q["default"](e),this._ipLaborer.on(q["default"].Events.DISPATCH_SUCCESS,function(e){var i=e.data;T["default"].log("Dispatch ip result: "+(0,r["default"])(i)),t.emit(P["default"].DISPATCH_SUCCESS,{l:i.l,z:i.z,t:i.t})}),this._ipLaborer.on(q["default"].Events.DISPATCH_FAIL,function(e){t.emit(P["default"].DISPATCH_FAIL,{reason:e.reason,error:e.error})}),this._ipLaborer.startIPDispatch()}}]),t}(x["default"]);t["default"]=O},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={ERROR:"ERROR",TIMEOUT:"TIMEOUT",ABORT:"ABORT"}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a=0,n="hls_loader_event_";t["default"]={DISPATCH_SUCCESS:n+a++,DISPATCH_FAIL:n+a++,DATA_LOAD_SUCCESS:n+a++,DATA_LOAD_PROGRESS:n+a++,DATA_LOAD_FAIL:n+a++,DNS_PARSER_REQUEST:n+a++}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(134),g=i(249),v=a(g),m=i(251),y=a(m),x=i(126),k=a(x),w=i(133),S=a(w),T=i(93),A=a(T),I=i(235),E=a(I),P=i(276),D=a(P),q=i(286),O=a(q),R={DISPATCH_SUCCESS:"DISPATCH_SUCCESS",DISPATCH_FAIL:"DISPATCH_FAIL"},L=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i._netProxy=new v["default"],i._dispatchURI=new k["default"](e),i._originDomain=i._dispatchURI.domain,i._originPath=i._dispatchURI.path,i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"startIPDispatch",value:function(){A["default"].warn("Start ip dispatch"),this._getIPList()}},{key:"_getIPList",value:function(){var e=this,t=D["default"].dispatchAccessURL,i=D["default"].dispatchIPFail;A["default"].log("Getting ip by: "+t);var a=y["default"].DISPATCH,n=e._netProxy.makeRequestContext([t],{timeout:3e3,maxRetry:1});n.method="GET",n.responseType="text",n.callbacks={onSuccess:function(t){if(t&&t.data)if("string"==typeof t.data){var a=t.data.split(";"),n=a[0],r=D["default"].dispatchIPSuccess.replace("{{IP}}",n);e._reqDispatchResult(r,!0)}else e._reqDispatchResult(i);else e._reqDispatchResult(i)},onError:function(t){e._reqDispatchResult(i)},onTimeout:function(t,a){e._reqDispatchResult(i)},onAbort:function(){e._finalError(O["default"].ABORT)},onComplete:function(){}},e._ipReq=e._netProxy.request(a,n)}},{key:"_prepareURLParam",value:function(e){var t=this,i="/3e8/"+E["default"].md5(t._originDomain)+S["default"].toBase64(t._originPath);t._dispatchURI.setDomain(e),t._dispatchURI.setPath(i);var a=t._dispatchURI.toString();return(0,b.isHttps)(a)?a+"&ssl=1":a}},{key:"_reqDispatchResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,a=i._prepareURLParam(e);a||i.emit(R.DISPATCH_FAIL),A["default"].log((t?"ip":"domain")+" proxy: "+a);var n=y["default"].DISPATCH;i._netProxy||(i._netProxy=new v["default"]);var r=i._netProxy.makeRequestContext([a],{timeout:3e3,maxRetry:1});r.method="GET",r.responseType="json",r.callbacks={onSuccess:function(e){i.emit(R.DISPATCH_SUCCESS,e)},onError:function(e){e.url=a,i._finalError(O["default"].ERROR,e)},onTimeout:function(e,t){i._finalError(O["default"].TIMEOUT)},onAbort:function(){i._finalError(O["default"].ABORT)},onComplete:function(){}},i._disReq=i._netProxy.request(n,r)}},{key:"abort",value:function(){this._ipReq&&this._ipReq.abort(),this._disReq&&this._disReq.abort()}},{key:"destroy",value:function(){this._netProxy=null,this._dispatchURI=null,this._ipReq&&(this._ipReq.destroy(),this._ipReq=null),this._disReq&&(this._disReq.destroy(),this._disReq=null)}},{key:"_finalError",value:function(e,t){this.emit(R.DISPATCH_FAIL,{reason:e,error:t})}}]),t}(p["default"]);L.Events=R,t["default"]=L},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(145),p=a(h),b=i(115),g=a(b),v=i(119),m=a(v),y=i(290),x=a(y),k=i(146),w=a(k),S=i(297),T=a(S),A=i(93),I=a(A),E=i(116),P=a(E),D=i(106),q=a(D),O=function(e){function t(e){(0,s["default"])(this,t);var i=new T["default"],a=new x["default"](e),n=new w["default"]("flv","mp4",{debug:q["default"].DEBUG,enableWorker:e.config.enableWorker}),o=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,{manifest:i,loader:a,multiplexer:n}));return o.TAG="FLVActor",o._fragments=[],o._sendISWhileFragmentChange=!0,o._loader.on("fragmentHeader",function(e,t){o._multiplexer.push(e,t)}),o._loader.on("readFidxChanged",function(e){if(o.openOffset){var t=o._fragments[e];t.offset=o._pretime,I["default"].log(o.LOG_TAG+" change fragment offset, isAD = "+t.isAd+", idx = "+t.idx+", offset = "+t.offset)}}),o._loader.on("fidxLoadStart",function(e){o.emit("fidxLoadStart",e)}),o._loader.on("fidxError",function(e){o.emit("fidxError",e)}),o._multiplexer.on(w["default"].Events.INFO,function(e){var t=e.type,i=e.data;switch(t){case"headerComplete":i.hasAudio&&i.hasVideo||I["default"].warn((i.hasAudio?"video":"audio")+" is not present in current flv"),o.hasAudio=i.hasAudio,o.hasVideo=i.hasVideo,o._loader.initSegs(i);break;case"endtimestamp":o._pretime=i}}),o._multiplexer.on(w["default"].Events.DATA,function(e){switch(e.fragmentType){case"initSegment":var t=e.contentType,i=e.container,a=e.codec,n=e.trackId,r=e.data;if(I["default"].log(o.LOG_TAG+" parsed "+t+" initSegment, "+i+"_"+a),"video"===t||"audio"===t){var s=new m["default"](t);s.origin=P["default"].HLS,s.bytesArray=r,s.trackId=n,s.container=i,s.codec=a,"video"===t?o.videoInitSegment=s:"audio"===t&&(o.audioInitSegment=s)}break;case"fragment":var d=e.contentType,u=e.data,l=e.duration,c=e.startDTS,f=e.startPTS,_=e.nextSegmentPTS;if(I["default"].log(o.LOG_TAG+" parsed "+d+", startDTS/startPTS/end/duration("+c.toFixed(3)+"/"+f.toFixed(3)+"/"+(f+l).toFixed(3)+"/"+l.toFixed(3)+")"),"video"===d){var h=new g["default"]("video");h.origin=P["default"].FLV,h.bytesArray=u,h.startTime=c,h.duration=l,o._videoMediaSegments.push(h)}else if("audio"===d){var p=new g["default"]("audio");p.origin=P["default"].FLV,p.bytesArray=u,p.startTime=f,p.duration=l,o._audioSegmentAlignPTS=_,o._audioMediaSegments.push(p)}}}).on(w["default"].Events.DONE,function(e){o.emit("done",e)}),o}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"duration",get:function(){return this._loader.duration}}]),(0,c["default"])(t,[{key:"applyRange",value:function(e){this._fragments=this._constructPlaySegmentsByRangeList(this._manifest.fragments,e),this._loader.fragments=this._fragments,this._loader.dispatcherParam=this._manifest.dispatcherParam}},{key:"_constructPlaySegmentsByRangeList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i=t.start(0)-.5,a=t.end(t.length-1)+.5;return e.forEach(function(e){var t=e.segments;t.length>0&&t.map(function(e,t,n){var r=e.startTime,o=e.startTime+e.duration;return e.enabled=(r>=i||o>i)&&(o<=a||r<a),e})}),e}},{key:"_getSegmentByPTS",value:function(e){var t=this._loader.findSegmentByPTS(e);return t?t.segment:null}},{key:"refreshFrags",value:function(){if(this._fragments.length>0){var e=this._manifest.fragments;if(e.length>0){for(var t=0;t<e.length;t++){var i=e[t];i.idx=this._fragments.length,this._fragments.push(i)}this._loader.refreshFrags()}}else this._fragments=this._fragments.concat(this._manifest.fragments),this._loader.fragments=this._fragments,this._loader.dispatcherParam=this._manifest.dispatcherParam}},{key:"getNextFrag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return this._loader.getNextFrag(e)}},{key:"abortCurrentADGas",value:function(e){return this._pretime=0,this._needSendInitSegment=!0,this.videoInitSegment=this.audioInitSegment=null,this.drainBuffer(),this._loader.abortCurrentADGas(e)}},{key:"_reset",value:function(){this._pretime=0,this._fragments.splice(0,this._fragments.length),this._loader.reset()}},{key:"_needSendIS",value:function(e){e&&(this.videoInitSegment=this.audioInitSegment=null)}}]),t}(p["default"]);t["default"]=O},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(240),p=a(h),b=i(246),g=a(b),v=i(281),m=a(v),y=i(116),x=a(y),k=i(93),w=a(k),S=i(105),T=a(S),A=i(127),I=a(A),E=i(107),P=a(E),D=i(277),q=a(D),O=i(124),R=a(O),L=i(291),M=a(L),C=i(292),F=a(C),N=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,!1));return i.TAG="FLVLoader",i._fragments=[],i._uuid=null,i._readPos={f:-1,s:-1,h:!1},i._loadPos={f:-1,s:-1,e:-1},i._seekTime=0,i._dispatcherParam=null,i._flvRemote=new F["default"](e.netProxy,i.loaderConfig),i._preReadFidx=-1,i._preLoadFidx=-1,i._preErrorData=null,i._lastError=!1,i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"fragments",set:function(e){this._eof=!1,this._eod=!1,this._uuid=I["default"].create(),this._fragments=e,this._preErrorData=null}},{key:"dispatcherParam",set:function(e){this._dispatcherParam=e,this._flvRemote._dispatcherParam=e}},{key:"duration",get:function(){var e=0;if(this._fragments.length>0){e=this._fragments[this._fragments.length-1].endTime}return e}}]),(0,c["default"])(t,[{key:"read",value:function(){var e=this,t=null;if(e._silenced||e._readPos.f<0||0==e._fragments.length)return null;if(e._readPos.f>=e._fragments.length&&(e._eof=!0),e.eof)return w["default"].log(e.LOG_TAG+": read data eof"),null;var i=e._fragments[e._readPos.f],a=e._readPos.s>-1&&i&&i._segments.length>0?i._segments[e._readPos.s]:null;if(e._bufferTime<5&&(i.status==m["default"].ERROR||i.status==m["default"].TIMEOUT)){if(w["default"].log(e.LOG_TAG+", read data error, readpos = "+e._readPos.f+" -- "+e._readPos.s),this.loaderConfig.skipErrorFrag){var n=e._readPos.f+1;return n<e._fragments.length?(e.emit("fidxError",{gas:i.gas,end:!1}),e._readPos.f=n,e._readPos.s=0):e._lastError||(e._lastError=!0,e._eof=!0,e.state=g["default"].END,e.emit("fidxError",{gas:i.gas,end:!0})),null}return e._error||(e._error=new T["default"](T["default"].severity.CRITICAL,T["default"].category.DATA_SOURCE,T["default"].code.DATA_FLV_ERROR),w["default"].log(e.LOG_TAG+" , read data error, create _error")),null}return a&&a.status===m["default"].LOADED&&(a.idx>=2&&(w["default"].log(e.LOG_TAG+" , read data return tagdata,readpos = "+e._readPos.f+" -- "+e._readPos.s+", startTime = "+a.startTime+", endtime = "+(a.startTime+a.duration)+", rfoffset = "+i.offset+", bid = "+a.bid+", ad = "+i.isAd),t={type:x["default"].FLV,data:e._bufferPool.read(a.poolId),done:!0,meta:{fragIdx:i.idx,segIdx:a.idx,vac:i.vaconfig,fragKey:a.fragKey}},this._preReadFidx!=i.idx&&e.emit("readFidxChanged",i.idx),this.openOffset&&(t.meta.offset=i.offset),e._preReadFidx=i.idx),i.idx==e._fragments.length-1&&e._readPos.s==i.segments.length-1?e._eof=!0:e._readPos.s==i.segments.length-1?(i=e._fragments[i.idx+1],e._readPos.h=!1,e._setReadPos(i.idx,0)):e._setReadPos(e._readPos.f,e._readPos.s+1)),e._loadFragment(),t}},{key:"initSegs",value:function(e){if(0!=e.keyframePositions.length&&0!=e.keyframeTimes.length){var t=this._fragments[e.f];t.vaconfig={ac:e.ac,vc:e.vc,naluSizeLength:e.naluSizeLength};var i=e.keyframePositions.join(","),a=e.keyframeTimes.join(",");if(w["default"].log(this.LOG_TAG+",initSegs keyframePositions = "+i+",keyframeTimes = "+a),t.segments.length>0)return void w["default"].log(this.LOG_TAG+",initSegs has created segments , return");t.isAd&&(t.totalBytes=e.filesize,t.duration=e.duration);for(var n=e.keyframePositions,r=e.keyframeTimes,o=0,s=0,d=0,u=0,l=t.startTime,c=t.endTime,f=t.totalBytes,_=0;_<=n.length;_++){0==_?(d=0,u=n[_]-1,o=l,s=0==r[_]?l:r[_]):_<n.length?(d=n[_-1],u=n[_]-1,o=0==r[_-1]?l:r[_-1],s=0==r[_]?l:r[_]):(d=n[_-1],u=f-1,o=r[_-1],s=c);var h=new R["default"](x["default"].FLV);h.idx=_,h.startTime=o,h.duration=s-o,h.startByte=d,h.endByte=u,h.poolId="flv-"+this._uuid+"-"+t.idx+"-"+h.idx,h.fragIdx=t.idx,h.fragKey=t.key,h.bid=t.bid,t.segments.push(h)}t.idx==this._readPos.f&&-1==this._readPos.s&&t.startTime<=this._seekTime&&t.endTime>this._seekTime&&t.segments.length&&(this._resetReadPosByTime(this._seekTime),this._findNextLoad(this._readPos.f,this._readPos.s)),e=null,this._loadFragment()}}},{key:"_seek",value:function(e){if(this._seekTime=e,this._seekTime>this.duration)return void(this._eof=!0);!this._preErrorData||this._preErrorData.status!=m["default"].ERROR&&this._preErrorData.status!=m["default"].TIMEOUT||(this._preErrorData.status=m["default"].NOT_LOADED),w["default"].log(this.LOG_TAG+" , seek, time = "+e),this._resetReadPosByTime(this._seekTime),this._findNextLoad(this._readPos.f,this._readPos.s),this._loadFragment()}},{key:"_resetReadPosByTime",value:function(e){var t=this._findFindexByTime(e);if(t.f>-1){var i=this._readPos.f;t.f!==i&&(i=t.f,this._readPos.h=!1),this._setReadPos(i,t.s),w["default"].log(this.LOG_TAG+" , reset readpos,time = "+e+", readpos = "+this._readPos.f+" -- "+this._readPos.s)}}},{key:"_findFindexByTime",value:function(e){for(var t=-1,i=-1,a=0;a<this._fragments.length;a++)if(e>=this._fragments[a].startTime&&e<this._fragments[a].endTime){t=a,i=this._findSegIdxByTime(a,e);break}return{f:t,s:i}}},{key:"_findSegIdxByTime",value:function(e,t){var i=this._fragments[e],a=(0,q["default"])(i.segments,function(e){return e.startTime+e.duration<=t?1:e.startTime>t?-1:0});return a?a.idx:-1}},{key:"_needLoadFrag",value:function(e){var t=e.f>=0&&this._fragments.length>0?this._fragments[e.f]:null,i=(e.s>=0&&t.segments&&t.segments.length)>0?t.segments[e.s].status:-1;return!(!t||t.headerStatus===m["default"].LOADED&&(-1===i||i===m["default"].LOADED))}},{key:"_decideLoadEndPos",value:function(){var e=this,t=e._loadPos.f,i=e._loadPos.s,a=i;if(i>2){var n=this._fragments[t],r=n.segments,o=r[e._loadPos.s],s=r[r.length-1];if(o){var d=this.loaderConfig.flvKeyframesFusionTime/1e3,u=o.startTime,l=u+d;l>=n.endTime&&(l=s.startTime);var c=this._findSegIdxByTime(t,l);-1!==c&&(a=c)}}return a}},{key:"_loadFragment",value:function(){var e=this;if(e._fragments&&e._fragments.length>0&&(e._needLoadFrag(e._readPos)&&(e._loadPos.f=e._readPos.f,e._loadPos.s=e._readPos.s,e._loadPos.e=e._decideLoadEndPos(),e._updateBufferTime()),e.state!==g["default"].LOADING&&e.state!==g["default"].ERROR&&e._bufferTime<this._maxBufferTimeLength&&e._needLoadFrag(e._loadPos))){var t=e._fragments[e._loadPos.f];e._preLoadFidx!==t.idx&&(e.emit("fidxLoadStart",t.gas),e._preLoadFidx=t.idx),e._flvRemote.removeAllListeners(),e._flvRemote.on(M["default"].Fail,function(t){e._dataLoadFail(t)}),e._flvRemote.on(M["default"].Success,function(t){e._noBufferRetryCount=0,e._withBufferRetryCount=0,e._dataLoadOk(t)}),e._flvRemote.on(M["default"].DNS_PARSER_REQUEST,function(t){e._doDNSParser(t)}),e.state=g["default"].LOADING,e._flvRemote.loadData(t,this._loadPos.s,this._loadPos.e,this.loaderConfig.doDispatch,this.loaderConfig.retryNum,this.loaderConfig.timeout)}}},{key:"_dataLoadFail",value:function(e){if(this._loadPos.f!==e.f||this._loadPos.s!==e.s)return this.state=g["default"].IDLE,void w["default"].log(this.LOG_TAG+" , data loading failure, not loadpos, pos = "+this._loadPos.f+"-"+this._loadPos.s+", obj = "+e.f+"-"+e.s);var t=this._fragments[e.f];w["default"].log(this.LOG_TAG+" ,data loading failure, pos = "+this._loadPos.f+"-"+this._loadPos.s+",ad="+t.isAd),this.loaderConfig.doRetry?this._doRetryStage(e):this.loaderConfig.skipErrorFrag?(this.state=g["default"].IDLE,this._fragments[e.f].status=m["default"].ERROR,e.f+1<this._fragments.length&&(this._loadPos.f=e.f+1,this._loadPos.s=0)):this._makeErrorContext(e)}},{key:"_makeErrorContext",value:function(e){var t=this,i=void 0,a=this._fragments[e.f];switch(a.status=m["default"].ERROR,e.data){case M["default"].FLV_Dispatch_Fail:i=T["default"].code.DATA_FLV_DISPATCH_ERROR;break;case M["default"].FLV_AUTH_Fail:i=T["default"].code.DATA_AUTH_Error;break;case m["default"].ERROR:i=T["default"].code.DATA_FLV_ERROR;break;case m["default"].TIMEOUT:i=T["default"].code.DATA_FLV_TIMEOUT}w["default"].log(t.LOG_TAG+" ,data loading error "+i),t._preErrorData=a,t.state=g["default"].ERROR,t._error=new T["default"](T["default"].severity.CRITICAL,T["default"].category.DATA_SOURCE,i)}},{key:"_doRetryStage",value:function(e){var t=this,i=t._fragments[t._loadPos.f],a=0===t._bufferTime?t._noBufferRetryCount:t._withBufferRetryCount,n=0===t._bufferTime?t._noBufferMaxRetry:t._withBufferMaxRetry;w["default"].log(this.LOG_TAG+" ,data loading failure, reload, bufferTime = "+t._bufferTime+", retry = "+a+", max = "+n),e.data==M["default"].FLV_AUTH_Fail?t._makeErrorContext(e):0===t._bufferTime?t._noBufferRetryCount>=t._noBufferMaxRetry?t._makeErrorContext(e):(t._noBufferRetryCount++,t._flvRemote.reloadData(i,t._loadPos.s,t._loadPos.e,this.loaderConfig.doDispatch)):t._withBufferRetryCount>=t._withBufferMaxRetry?t._makeErrorContext(e):(t._withBufferRetryCount++,t._flvRemote.reloadData(i,t._loadPos.s,t._loadPos.e,this.loaderConfig.doDispatch))}},{key:"_dataLoadOk",value:function(e){var t=this,i=new Uint8Array(e.data),a=e.f,n=e.s,r=e.e,o=t._fragments[a],s=o.segments,d=s[r],u=null,l=null;if(w["default"].log(t.LOG_TAG+", load ok "+n+"-"+r+" of frag "+a+", headerLoaded "+o.isHeaderLoaded),o.isHeaderLoaded){for(var c=s[n].startByte,f=n;f<=r;f++){var _=o.segments[f];if(!t._bufferPool.read(_.poolId)){var h=_.startByte-c,p=_.endByte-c,b=i.subarray(h,p);t._bufferPool.add(_.poolId,b)}_.status=m["default"].LOADED}d.idx==o.segments.length-1?(o.status=m["default"].LOADED,o.idx==t._fragments.length-1?t.state=g["default"].END:(u=o.idx+1,l=-1)):(u=o.idx,l=d.idx+1)}else o.headerStatus=m["default"].LOADED,t.emit("fragmentHeader",e.data,{f:o.idx}),u=o.idx,l=e.s>=0?e.s:0;t._updateBufferTime(),t.state!==g["default"].END&&(t.state=g["default"].IDLE),null!==u&&null!==l&&e.f==t._loadPos.f&&e.s==t._loadPos.s&&t.state==g["default"].IDLE&&t._findNextLoad(u,l),t._loadFragment()}},{key:"_findNextLoad",value:function(e,t){var i=this;if(this._prePos&&e>=this._prePos.f&&(e<this._prePos.rf||e==this._prePos.rf&&t>=this._prePos.s&&t<=this._prePos.rs))return this._prePos.f=e,void(this._prePos.s=t);this._prePos={f:e,s:t},this.__findNextLoad(e,t,function(e,t,a){if((0,P["default"])(i._prePos,{rf:e,rs:t}),i._loadPos.f=e,i._loadPos.s=t,i._loadPos.e=i._decideLoadEndPos(),a)i.state=g["default"].END;else{var n=i._fragments[e];n.status==m["default"].LOADED&&(n.status=m["default"].NOT_LOADED),i.state==g["default"].END&&(i.state=g["default"].IDLE)}})}},{key:"__findNextLoad",value:function(e,t,i){var a=!1,n=!1,r=this._fragments[e];r.headerStatus!==m["default"].LOADED?(t=-1,a=!0):r.segments.length>0&&(t=t>=0?t:0,r.segments[t].status==m["default"].LOADED?t==r.segments.length-1?(r.status=m["default"].LOADED,r.idx==this._fragments.length-1?(n=!0,a=!0):this.__findNextLoad(e+1,-1,i)):this.__findNextLoad(r.idx,t+1,i):a=!0),a&&i(e,t,n)}},{key:"_updateBufferTime",value:function(){var e=[this._loadPos.f,this._loadPos.s,this._readPos.f,this._readPos.s].join("-");if(!this._currentBuf||this._currentBuf.pos!=e){for(var t=0,i=0,a=0,n=null,r=null,o=this._readPos.f,s=this._loadPos.f,d=o;d<=s&&(n=this._fragments[d],r=n.segments,0!=r.length);d++){var u=d==o?this._readPos.s:0,l=d==s?this._loadPos.s:r.length-1;d==o&&(a=r[u].startTime);for(var c=!1,f=u;f<=l;f++){if(2!=r[f].status){c=!0;break}t+=r[f].duration,i+=r[f].endByte-r[f].startByte}if(c)break}this._currentBuf={pos:e,info:{start:a,byteLength:i,timeLength:t}}}}},{key:"_getUnreadBufInfo",value:function(){return this._currentBuf&&this._currentBuf.info?{start:this._currentBuf.info.start,byteLength:this._currentBuf.info.byteLength,timeLength:this._currentBuf.info.timeLength}:{start:0,byteLength:0,timeLength:0}}},{key:"_cancelLoaderData",value:function(){this._flvRemote.removeAllListeners(),this._flvRemote.destroy(),this.state=g["default"].IDLE}},{key:"_setReadPos",value:function(e,t){this._readPos.f=e,this._readPos.s=t,this._updateBufferTime()}},{key:"findSegmentByPTS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._findFindexByTime(e),i=null,a=null;return t.f>-1&&(i=this._fragments[t.f],i.segments.length>0&&(a=i.segments[t.s])),i&&a?{fragment:i,segment:a}:null}},{key:"refreshFrags",value:function(){this._eof&&(this._eof=!1,this._readPos.f+1<this._fragments.length&&(this._readPos.f=this._readPos.f+1,this._readPos.s=0)),this.state==g["default"].END&&(this.state=g["default"].NOT_LOADED),this._findNextLoad(this._readPos.f,this._readPos.s),this._loadFragment()}},{key:"getNextFrag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e+1<this._fragments.length)for(var t=null,i=e+1;i<this._fragments.length;i++)if(t=this._fragments[i],t.status!==m["default"].ERROR&&t.status!==m["default"].TIMEOUT)return t;return null}},{key:"abortCurrentADGas",value:function(e){var t=this.getNextFrag(e);return t?(this._readPos.f=t.idx,this._readPos.s=0,this._eof=!1,t.offset=0):this._eof=!0,this._preReadFidx=-1,w["default"].log(this.LOG_TAG+" , abortCurrentADGas done,abort= "+e+",next="+this._readPos.f+",eof = "+this._eof+",length = "+this._fragments.length),t}},{key:"_gc",value:function(){if(!(this._readPos.f<0||this._readPos.s<0||this._loadPos.f<0||this._loadPos.s<0||this._loadPos.f<this._readPos.f))for(var e=this._bufferPool.keys,t=void 0,i=void 0,a=void 0,n=void 0,r=this._readPos.f,o=this._loadPos.f,s=void 0,d=void 0,u=0;u<e.length;u++)n=e[u],a=n.split("-"),t=parseInt(a[2],10),i=parseInt(a[3],10),t<r||t>o?this._gcSeg(n,t,i):t==r&&t==o?(s=this._readPos.s,d=this._loadPos.s,(i<s||i>d)&&this._gcSeg(n,t,i)):t==r?(s=this._readPos.s,i<s&&this._gcSeg(n,t,i)):t==o&&(d=this._loadPos.s,i>d&&this._gcSeg(n,t,i))}},{key:"_gcSeg",value:function(e,t,i){var a=this._fragments[t],n=a.segments[i];this._bufferPool.del(e),a.status==m["default"].LOADED&&(a.status,m["default"].NOT_LOADED),n.status=m["default"].NOT_LOADED}},{key:"_reset",value:function(){this._cancelLoaderData(),this._fragments.splice(0,this._fragments.length),this._readPos.f=this._readPos.s=-1,this._loadPos.f=this._loadPos.s=this._loadPos.e=-1,this._readPos.h=!1,this._seekTime=0,this._currentBuf=null,this._dispatcherParam=null,this.state=g["default"].IDLE,this._preErrorData=null,this._lastError=!1}},{key:"_bufferTime",get:function(){return this._currentBuf&&this._currentBuf.info?this._currentBuf.info.timeLength:0}}]),t}(p["default"]);t["default"]=N},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={FLV_Type_FreeDispatch:"flv_freeDispatch",FLV_Type_MemberDispatch:"flv_memberDispatch",FLV_Type_IPDispatch:"flv_IPDispatch",Success:"Success",Fail:"Fail",FLV_Dispatch_Success:"flv_dispatch_success",FLV_Dispatch_Fail:"flv_dispatch_fail",FLV_AUTH_Fail:"flv_auth_fail",FLV_Dataload_Success:"flv_dataload_success",FLV_Dataload_Fail:"flv_dataload_fail",DNS_PARSER_REQUEST:"dns_parser_request"}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(93),g=a(b),v=i(107),m=a(v),y=i(293),x=a(y),k=i(281),w=a(k),S=i(251),T=a(S),A=i(291),I=a(A),E=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a._netProxy=e,a._dispatcherProxy=new x["default"](i),a._retryMax=3,a._timeout=1e4,a._dispatcherParam=null,a._laborer=null,a._dnsInfo={userinfo:"",idc:""},a._loaderConfig=i,a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"dispatcherParam",set:function(e){this._dispatcherParam=e}}]),(0,c["default"])(t,[{key:"loadData",value:function(e,t,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e4;this._dispatcherParam.retryCount=0,this._retryMax=n,this._timeout=r,this._loadData(e,t,i,a)}},{key:"_loadData",value:function(e,t,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=this,r=e.uri.toString(),o=e.uri.path,s={};if(a?s=n._dispatcherProxy.getDisResult(o):s.l=e.uri.toString(),s){g["default"].log("flv-remote load, "+e.idx+", "+t+"-"+i+", retry = "+this._dispatcherParam.retryCount+", max = "+this._retryMax);var d="";d=e.isHeaderLoaded?"range="+e.getRange(t,i):"range="+e.getRange(0),r=s.l+(-1==s.l.indexOf("?")?"?":"&")+d;var u=T["default"].SEGMENT,l=n._netProxy.makeRequestContext([r],(0,m["default"])({timeout:n._timeout},n._netProxy.defaultRetryParameters));l.method="GET",l.callbacks={onProgress:function(){},onSuccess:function(a){n._dispatcherParam.retryCount=0,n._sendResult(I["default"].Success,a.data,e.idx,t,i)},onError:function(){g["default"].log("data loading failure, url = "+r),n._doDNS(r),n._dataRetry(e,t,i,w["default"].ERROR,a)},onTimeout:function(){g["default"].log("data loading failure, url = "+r),n._doDNS(r),n._dataRetry(e,t,i,w["default"].TIMEOUT,a)},onAbort:function(){},onComplete:function(){}},n._laborer=n._netProxy.request(u,l)}else n._dispatcherProxy.removeAllListeners(),n._dispatcherProxy.on(I["default"].FLV_Dispatch_Fail,function(){n._dataRetry(e,t,i,I["default"].FLV_Dispatch_Fail,!0)}),n._dispatcherProxy.on(I["default"].FLV_AUTH_Fail,function(){n._sendResult(I["default"].Fail,I["default"].FLV_AUTH_Fail,e.idx,t,i)}),n._dispatcherProxy.on(I["default"].FLV_Dispatch_Success,function(r){n._dnsInfo={userinfo:r.data.t,idc:r.data.z},n._loadData(e,t,i,a)}),this._dispatcherProxy.on(I["default"].DNS_PARSER_REQUEST,function(e){n._doDNS(e)}),g["default"].log("flv-remote load, "+e.idx+", "+t+"-"+i+" , retry = "+this._dispatcherParam.retryCount+", max = "+this._retryMax),n._dispatcherProxy.dispatcher(e,n._dispatcherParam,{f:e.idx,s:t})}},{key:"_dataRetry",value:function(e,t,i,a,n){this._dispatcherParam.retryCount>=this._retryMax?this._sendResult(I["default"].Fail,a,e.idx,t,i):(g["default"].log("remote , data loading failure, retry"),this._dispatcherParam.retryCount++,this._dispatcherProxy.setDisResultLose(e.uri.path,e),this._loadData(e,t,i,n))}},{key:"_sendResult",value:function(e,t,i,a,n){this.emit(e,{data:t,f:i,s:a,e:n})}},{key:"reloadData",value:function(e,t,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.destroy(),this.loadData(e,t,i,a)}},{key:"destroy",value:function(){this._dispatcherProxy.stopDispatcher(),this._dispatcherProxy.removeAllListeners(),this._laborer&&this._laborer.abort(),this._laborer=null}},{key:"_doDNS",value:function(e){this.emit(I["default"].DNS_PARSER_REQUEST,{userinfo:this._dnsInfo.userinfo,idc:this._dnsInfo.idc,url:e})}}]),t}(p["default"]);t["default"]=E},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(135),r=a(n),o=i(69),s=a(o),d=i(73),u=a(d),l=i(75),c=a(l),f=i(74),_=a(f),h=i(79),p=a(h),b=i(88),g=a(b),v=i(93),m=a(v),y=i(294),x=a(y),k=i(295),w=a(k),S=i(296),T=a(S),A=i(291),I=a(A),E=function(e){function t(e){(0,u["default"])(this,t);var i=(0,_["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this));return i._disResultDic=null,i._fragment=null,i._ro=null,i._stateCode="",i._fileData=null,i._paramsData={},i._loaderConfig=e,i}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"reset",value:function(){this.stopDispatcher(),this._disResultDic=null,this._fragment=null,this._ro=null,this._stateCode="",this._fileData=null,this._paramsData={},this._loadPos=null}},{key:"stopDispatcher",value:function(){this._destroyRemote(),this._fragment=null,this._stateCode="",this._fileData=null}},{key:"getDisResult",value:function(e){return this._disResultDic&&this._disResultDic[e]?this._disResultDic[e]:null}},{key:"setDisResultLose",value:function(e,t){this._disResultDic&&this._disResultDic[e]&&delete this._disResultDic[e],this._fragment&&t==this._fragment&&(this._fragment=null)}},{key:"dispatcher",value:function(e,t,i){this._fragment!=e&&(this._paramsData=t,this._paramsData.rid=e.rid,this._loadPos=i,this.stopDispatcher(),this._fragment=e,t.movieIsMember?(this._ro=new w["default"](e),this._stateCode=I["default"].FLV_Type_MemberDispatch):(this._ro=new x["default"](this._fragment),this._stateCode=I["default"].FLV_Type_FreeDispatch),this._ro.on(I["default"].FLV_Dispatch_Success,this._onDispatchSuccess.bind(this)),this._ro.on(I["default"].FLV_Dispatch_Fail,this._onDispatchFail.bind(this)),this._ro.request(this._paramsData))}},{key:"_destroyRemote",value:function(){this._ro&&(this._ro.removeAllListeners(I["default"].FLV_Dispatch_Success),this._ro.removeAllListeners(I["default"].FLV_Dispatch_Fail),this._ro.destroy(),this._ro=null)}},{key:"_onDispatchSuccess",value:function(){if(null!=this._ro){this._stateCode+="_"+I["default"].Success,this._fileData=this._ro.getData();var e=this._fragment.uri.path;e&&(this._disResultDic||(this._disResultDic={}),this._disResultDic[e]=this._fileData),this._destroyRemote(),this._sendResult(I["default"].FLV_Dispatch_Success)}}},{key:"_onDispatchFail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null!=this._ro&&(this._stateCode+="_"+I["default"].Fail,this._fileData=this._ro.getData(),m["default"].log("dispatcher,DispatchFail ,"+this._stateCode+", "+(0,r["default"])(e)),405===e.code&&e.response&&e.response.code&&e.response.code.indexOf("D20")>=0?(this._destroyRemote(),this._sendResult(I["default"].FLV_AUTH_Fail)):!this._loaderConfig.allowIPDispatch||this._ro.name!=I["default"].FLV_Type_MemberDispatch&&this._ro.name!=I["default"].FLV_Type_FreeDispatch?(this._destroyRemote(),this._sendResult(I["default"].FLV_Dispatch_Fail)):(this.emit(I["default"].DNS_PARSER_REQUEST,e.url),this._IPDispatch()))}},{key:"_IPDispatch",value:function(){this._destroyRemote(),this._ro=new T["default"](this._fragment,this._loaderConfig),this._stateCode=I["default"].FLV_Type_IPDispatch,this._ro.on(I["default"].FLV_Dispatch_Success,this._onDispatchSuccess.bind(this)),this._ro.on(I["default"].FLV_Dispatch_Fail,this._onDispatchFail.bind(this)),this._ro.startIPRequest(this._paramsData)}},{key:"_sendResult",value:function(e){this.emit(e,{state:this._stateCode,data:this._fileData,f:this._loadPos.f,s:this._loadPos.s})}}]),t}(g["default"]);t["default"]=E},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(235),g=a(b),v=i(249),m=a(v),y=i(251),x=a(y),k=i(291),w=a(k),S=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.name=w["default"].FLV_Type_FreeDispatch,i._netProxy=new m["default"],i._request=null,i._data=null,i._fragment=e,i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"request",value:function(e){var t=this,i=t._fragment.uri.toString();t._data=null;var a=g["default"].UUID.getFluid();i+=-1==i.indexOf("?")?"?":"&",i+="tn="+Math.random(),i+="&su="+a,-1==i.indexOf("&pv=")&&(i+="&pv=0.1"),-1==i.indexOf("&qyid=")&&(i+="&qyid="+a),e.retryCount>0&&(i+="&retry="+e.retryCount),i+="&client="+e.currentUserIP,i+="&z="+e.preDispatchArea,i+="&mi="+e.mi,i+="&bt="+e.preDefinition,i+="&ct="+e.currentDefinition,e.preAverageSpeed>0&&(i+="&s="+e.preAverageSpeed),i+="&e="+e.preErrorCode;var n=x["default"].DISPATCH,r={timeout:3e3,maxRetry:1,result:!1},o=t._netProxy.makeRequestContext([i],r);o.method="GET",o.responseType="json",o.callbacks={onSuccess:function(i){if(t._data=i.data,e.preDispatchArea=t._data.z,""==e.currentUserIP&&t._data.t){var a=String(t._data.t).split("-");e.currentUserArea=a[0],e.currentUserIP=a[1]}t.emit(w["default"].FLV_Dispatch_Success)},onError:function(a){e.preErrorURL=i,a.url=i,t.emit(w["default"].FLV_Dispatch_Fail,a)},onTimeout:function(a,n){e.preErrorURL=i,t.emit(w["default"].FLV_Dispatch_Fail,{stats:a,context:n,url:i})},onAbort:function(){},onComplete:function(){}},t._request=t._netProxy.request(n,o)}},{key:"getData",value:function(){return this._data}},{key:"destroy",value:function(){this._netProxy=null,this._request=null,this._data=null,this._fragment=null}}]),t}(p["default"]);t["default"]=S},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(235),g=a(b),v=i(249),m=a(v),y=i(251),x=a(y),k=i(291),w=a(k),S=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i.name=w["default"].FLV_Type_MemberDispatch,i._netProxy=new m["default"],i._request=null,i._data=null,i._fragment=e,i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"request",value:function(e){var t=this,i=t._fragment.uri.toString();t._data=null;var a=g["default"].UUID,n=g["default"].cmd5x,r=a.getFluid();i+=-1==i.indexOf("?")?"?":"&",i+="t="+e.key,-1==i.indexOf("&cid=")&&(i+="&cid="+e.communicationlId),-1==i.indexOf("&vid=")&&(i+="&vid="+e.vid),-1==i.indexOf("&QY00001=")&&(i+="&QY00001="+e.QY00001),e.retryCount>0&&(i+="&retry="+e.retryCount),i+="&su="+r,i+="&client="+e.currentUserIP,i+="&z="+e.preDispatchArea,i+="&mi="+e.mi,i+="&bt="+e.preDefinition,i+="&ct="+e.currentDefinition,e.preAverageSpeed>0&&(i+="&s="+e.preAverageSpeed),i+="&e="+e.preErrorCode,-1==i.indexOf("&qyid=")&&(i+="&qyid="+r),-1==i.indexOf("&ib=")&&(i+="&ib=4"),-1==i.indexOf("&ptime=")&&(i+="&ptime="+(e.auth_ptime==1/0?0:e.auth_ptime)),-1==i.indexOf("&pv=")&&(i+="&pv=0.1"),i+="&tn="+Math.random();var o=e.key+t._fragment.rid,s=o;i+="&ibt="+n(s,s);var d=x["default"].DISPATCH,u={timeout:3e3,maxRetry:1},l=t._netProxy.makeRequestContext([i],u);l.method="GET",l.responseType="json",l.callbacks={onSuccess:function(i){t._data=i.data,e.preDispatchArea=t._data.z,""==e.currentUserIP&&t._data.t&&(e.currentUserIP=String(t._data.t).split("-")[1]),t.emit(w["default"].FLV_Dispatch_Success)},onError:function(a){e.preErrorURL=i,a.url=i,t.emit(w["default"].FLV_Dispatch_Fail,a)},onTimeout:function(a,n){e.preErrorURL=i,t.emit(w["default"].FLV_Dispatch_Fail,{stats:a,context:n,url:i})},onAbort:function(){},onComplete:function(){}},t._request=t._netProxy.request(d,l)}},{key:"getData",value:function(){return this._data}},{key:"destroy",value:function(){this._netProxy=null,this._request=null,this._data=null,this._fragment=null}}]),t}(p["default"]);t["default"]=S},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(107),g=(a(b),i(134)),v=i(249),m=a(v),y=i(251),x=a(y),k=i(126),w=a(k),S=i(133),T=a(S),A=i(235),I=a(A),E=i(291),P=a(E),D=i(276),q=a(D),O=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a.name=P["default"].FLV_Type_IPDispatch,a._netProxy=new m["default"],a._request=null,a._data=null,a._fragment=e,a._loaderConfig=i,a}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"request",value:function(e,t){var i=this;i._data=null;var a=i._prepareURLParam(e,t);a||i.emit(P["default"].FLV_Dispatch_Fail);var n=x["default"].DISPATCH,r={timeout:3e3,maxRetry:this._loaderConfig.ipMaxRetry};i._netProxy||(i._netProxy=new m["default"]);var o=i._netProxy.makeRequestContext([a],r);o.method="GET",o.responseType="json",o.callbacks={onSuccess:function(t){if(i._data=t.data,e.preDispatchArea=i._data.z,""==e.currentUserIP&&i._data.t){var a=String(i._data.t).split("-");e.currentUserArea=a[0],e.currentUserIP=a[1]}i.emit(P["default"].FLV_Dispatch_Success)},onError:function(e){e.url=a,i.emit(P["default"].FLV_Dispatch_Fail,e)},onTimeout:function(e,t){i.emit(P["default"].FLV_Dispatch_Fail,{stats:e,context:t,url:a})},onAbort:function(){},onComplete:function(){}},i._request=i._netProxy.request(n,o)}},{key:"startIPRequest",value:function(e){var t=this,i=q["default"].dispatchAccessURL,a=q["default"].dispatchIPFail,n=x["default"].DISPATCH,r=t._netProxy.makeRequestContext([i],{timeout:3e3,maxRetry:this._loaderConfig.ipMaxRetry});r.method="GET",r.responseType="text",r.callbacks={onSuccess:function(i){if(i&&i.data)if("string"==typeof i.data){var n=i.data.split(";"),r=n[0],o=q["default"].dispatchIPSuccess.replace("{{IP}}",r);t.request(e,o)}else t.request(e,a);else t.request(e,a)},onError:function(i){t.request(e,a)},onTimeout:function(i,n){t.request(e,a)},onAbort:function(){},onComplete:function(){}},t._netProxy.request(n,r)}},{key:"_prepareURLParam",value:function(e,t){var i=this;if(!i._fragment)return null;var a=i._fragment.uri.domain,n=i._fragment.uri.path,r=(i._fragment.uri.query.toString(),"/3e8/"+I["default"].md5(a)+T["default"].toBase64(n)),o=new w["default"](e.preErrorURL);return o.setDomain(t),o.setPath(r),(0,g.isHttps)(o.toString())?o.toString()+"&ssl=1":o.toString()}},{key:"getData",value:function(){return this._data}},{key:"destroy",value:function(){this._netProxy=null,this._request=null,this._data=null,this._fragment=null}}]),t}(p["default"]);t["default"]=O},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(116),p=a(h),b=i(122),g=a(b),v=i(126),m=a(v),y=i(107),x=a(y),k=i(298),w=a(k),S=i(134),T=i(128),A=a(T),I=function(e){function t(){(0,s["default"])(this,t);var e=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return e.metadata=new A["default"],e.fragments=[],e.dispatcherParam=null,e}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"push",value:function(e){e.segments&&this._analyzeSegments(e),void 0!==e.dispatchParams&&(this.dispatcherParam=e.dispatchParams,(0,x["default"])(this.dispatcherParam,{dispatcherServerTime:"",key:"",currentUserIP:"",preDispatchArea:"",preDefinition:"",preAverageSpeed:0,preErrorCode:"",retryCount:0}))}},{key:"_analyzeSegments",value:function(e){this.fragments=[];var t=e.segments,i="boolean"!=typeof e.seekable||e.seekable;if(t&&t.length>0){var a=t.length;this.fragments=new Array(a);for(var n=null,r=0,o=null,s=null;r<a;++r)o=t[r],s=t[r+1],n=new w["default"](p["default"].FLV),n.idx=r,o.isAd&&(n.isAd=!0,n.seekable=i),n.startTime=o.startTime,n.duration=s?s.startTime-o.startTime:o.duration,n.totalBytes=o.totalBytes,n.uri=new m["default"](o.dispatUrl),n.bid=e.bid,(0,S.isHttps)()&&n.uri.setScheme("https"),n.gas=o.gas,this.fragments[r]=n}}},{key:"end",value:function(){}},{key:"reset",value:function(){this.metadata=new A["default"],this.fragments=[],this.dispatcherParam=null}}]),t}(g["default"]);t["default"]=I},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(125),p=a(h),b=i(281),g=a(b),v=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e));return i._headerStatus=0,i._totalBytes=0,i._vaconfig=null,i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"totalBytes",get:function(){return this._totalBytes},set:function(e){this._totalBytes=e}},{key:"headerStatus",get:function(){return this._headerStatus},set:function(e){this._headerStatus=e}},{key:"isHeaderLoaded",get:function(){return this._headerStatus===g["default"].LOADED}},{key:"rid",get:function(){if(!this._rid){var e=this.uri.path.split("/");if(e&&e.length>0){e=e[e.length-1].split("."),e&&e.length>0&&(this._rid=e[0])}}return this._rid}},{key:"vaconfig",get:function(){return this._vaconfig},set:function(e){this._vaconfig=e}}]),(0,c["default"])(t,[{key:"getRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===t&&(t=e),this._headerStatus===g["default"].LOADED?this.segments[e].startByte+"-"+this.segments[t].endByte:"0-8191"}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(93),p=a(h),b=i(105),g=a(b),v=i(300),m=a(v),y=i(305),x=a(y),k=i(142),w=a(k),S=i(92),T=a(S),A=i(115),I=a(A),E=i(119),P=a(E),D=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e));return i.TAG="MATStream",i._enabled=!1,i._playSource=null,i._audioActor=new m["default"](e),i._audioActor.on(x["default"].ACTOR_MUX_ERROR,i._onActorMuxError.bind(i)),i._audioActor.on(x["default"].ACTOR_LOAD_FAIL,i._onActorLoadFail.bind(i)),i._audioActor.on(x["default"].ACTOR_DISPATCHED_FAIL,i._onActorDispatchFail.bind(i)),i._audioActor.on(x["default"].ACTOR_AUDIOTRACK_SWITCHED_SUCCESSED,i._onAudioTrackSwitchedSuccessed.bind(i)),i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"eof",get:function(){return!!this._audioActor&&this._audioActor.eof}},{key:"eod",get:function(){return!!this._audioActor&&this._audioActor.eod}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}}]),(0,c["default"])(t,[{key:"_onActorMuxError",value:function(){var e=this._audioActor,t=this._ctx;e.audioLoader&&e.audioLoader._firstLoad&&(t.emit(T["default"].AUDIO_TRACK_SWITCHED_FAILED),this._enabled=!1)}},{key:"_onActorLoadFail",value:function(){var e=this._audioActor,t=this._ctx;e.audioLoader&&e.audioLoader._firstLoad&&(t.emit(T["default"].AUDIO_TRACK_SWITCHED_FAILED),this._enabled=!1)}},{key:"_onActorDispatchFail",value:function(){var e=this._audioActor,t=this._ctx;e.audioLoader&&e.audioLoader._firstLoad&&(t.emit(T["default"].AUDIO_TRACK_SWITCHED_FAILED),this._enabled=!1)}},{key:"_onAudioTrackSwitchedSuccessed",value:function(){this._ctx.emit(T["default"].AUDIO_TRACK_SWITCHED_SUCCESSED)}},{key:"push",value:function(e){var t=e.playSourceContent,i=e.trackId;this._filled=!0,this._playSource=t||null,this._playSource&&this._audioActor.init(i,this._playSource)}},{key:"seek",value:function(e){this._audioActor.seek(e)}},{key:"read",value:function(){var e=this._ctx,t=this._audioActor;if(t._currentReadTime==t._currentLoadTime&&!t.audioLoader._firstLoad&&t.error)return e._emitError(new g["default"](g["default"].severity.CRITICAL,g["default"].category.DATA_SOURCE,g["default"].code.DATA_AUDIO_LOADED_ERROR));var i=null;return i=arguments.length>0?t.read.apply(t,arguments):t.readInitSegment(),i&&(i instanceof P["default"]?p["default"].log("mat read() => init"):i instanceof I["default"]&&p["default"].log("mat read("+i.startTime.toFixed(3)+", "+i.duration.toFixed(3)+") => start/end/byteLength("+i.startTime.toFixed(3)+"/"+(i.startTime+i.duration).toFixed(3)+"/"+i.byteLength+")")),i}},{key:"recoverImmediately",value:function(e){this._audioActor.needIS=!0,this.seek(e)}},{key:"_reset",value:function(){this._playSource=null,this._audioActor.reset()}}]),t}(w["default"]);t["default"]=D},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(93),g=(a(b),i(114)),v=a(g),m=i(301),y=a(m),x=i(302),k=a(x),w=i(303),S=a(w),T=i(304),A=a(T),I=i(305),E=a(I),P=i(307),D=a(P),q=i(119),O=a(q),R=i(115),L=a(R),M=i(116),C=a(M),F=i(308),N=a(F),V=i(106),U=a(V),B=function(e){function t(e){(0,s["default"])(this,t);var i=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i._ctx=e,i._tickTimer=new v["default"](function(){return i._tick()}),i.multiplexer=new N["default"]("amp4","mp4",{debug:U["default"].DEBUG,enableWorker:e.config.enableWorker}),i._MaxCacheTime=e?1e3*e.config.maxBufferTimeLength:18e4,e.netProxy&&e.netProxy.isProgressSupported?i._TimePerLoad=6e4:i._TimePerLoad=15e3,i._trackId=null,i._aacMdatPosition=null,i._headDataReady=!1,i._headAnalyzed=!1,i._hasInit=!1,i._currentMdat=null,i.audioTrack=new y["default"],i._sampleEntryList=[],i._timeToSampleList=[],i._timeToFragmentList=[],i._audioFragments=[],i._initSegment=null,i._headerFragment=null,i._currentReadTime=null,i._currentLoadTime=null,i._error=!1,i._initAudioLoader(),i.multiplexer.on(D["default"].ERROR,function(){i._error=!0,i._dispatchEvent(E["default"].ACTOR_MUX_ERROR)}),i.multiplexer.on(D["default"].INFO,function(e){i._parseHeader(e)}),i.multiplexer.on(D["default"].DATA,function(e){e&&e.data&&(i._currentMdat=e.data)}),i}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"error",get:function(){return this._error}},{key:"eof",get:function(){var e=!1;return"number"==typeof this._currentReadTime&&(e=this._isTimeEnd(this._currentReadTime)),e}},{key:"eod",get:function(){var e=!1;return"number"==typeof this._currentLoadTime&&(e=this._isTimeEnd(this._currentLoadTime)),e}},{key:"audioUsing",get:function(){return this._audioFragments.length>0}},{key:"needIS",set:function(e){this._hasInit=!e}}]),(0,c["default"])(t,[{key:"_initAudioLoader",value:function(){this.audioLoader=new A["default"],this.audioLoader.on(E["default"].LOADER_DATA_LOAD_SUCCESS,this._onDataLoaderSuccess.bind(this)),this.audioLoader.on(E["default"].LOADER_DATA_LOAD_FAIL,this._onDataLoaderFail.bind(this)),this.audioLoader.on(E["default"].LOADER_DISPATCHER_FAIL,this._onLoaderDispatchFail.bind(this)),this.audioLoader.on(E["default"].LOADER_DISPATCHER_EXPIRED,this._onLoaderDispatchExpired.bind(this))}},{key:"_onDataLoaderSuccess",value:function(e){if(this.audioUsing){var t=e.data,i=t.fragment;"head"==i.type?(this._headDataReady=!0,this.multiplexer.pushMetadata(t.data,{trackId:this._trackId})):this._setMdat(i,t.data)}}},{key:"_onDataLoaderFail",value:function(e){this._error=!0,this._dispatchEvent(E["default"].ACTOR_LOAD_FAIL)}},{key:"_onLoaderDispatchFail",value:function(){this._error=!0,this._dispatchEvent(E["default"].ACTOR_DISPATCHED_FAIL)}},{key:"_onLoaderDispatchExpired",value:function(){this._error=!0,this._dispatchEvent(E["default"].ACTOR_DISPATCHED_FAIL)}},{key:"_dispatchEvent",value:function(e){this.emit(e)}},{key:"_setFragments",value:function(e){var t=e.fs;if(t&&0!=t.length)for(var i=void 0,a=0;a<t.length;a++)1==t[a].i?(this._headerFragment=new S["default"](t[a]),this._headerFragment.type="head"):(i=new k["default"](t[a]),i.type="mdat",this._audioFragments.push(i))}},{key:"_tick",value:function(){this._checkLoadData()}},{key:"_checkLoadData",value:function(){null===this._currentLoadTime||null===this._currentReadTime||!this.audioUsing||this._error||this.eod||this.eof||(this._headDataReady?this._headAnalyzed&&this._currentLoadTime<this._currentReadTime+this._MaxCacheTime&&(this._loadData(this._currentLoadTime,this._TimePerLoad),this._hasData(this._currentLoadTime,this._TimePerLoad)&&(this._currentLoadTime+=this._TimePerLoad)):this.audioLoader.hasDataLoading||this._loadHeader())}},{key:"_hasData",value:function(e,t){if(!this._headDataReady||!this._headAnalyzed||!this.audioUsing)return!1;var i=this._getStartIndexByTime(e),a=this._getEndIndexByTime(e+t),n=this._timeToFragmentList[i],r=this._timeToFragmentList[a],o=this._getFragmentByPosition(n.sPosition),s=this._getFragmentByPosition(r.ePosition),d=o.fragment,u=s.fragment,l=o.position,c=s.position;return d.order==u.order?d.hasPartData(l,c):!(!d.isComplete||d.isComplete&&d.startByte>l)&&u.hasPartData(0,c)}},{key:"_loadHeader",value:function(){this.audioLoader&&(this.audioLoader.cancelLoad(),this.audioLoader.startLoad(this._headerFragment,0,this._headerFragment.totalByte))}},{key:"_loadData",value:function(e,t){if(!this.audioLoader.hasDataLoading){var i=this._getFragmentByTime(e),a=this._getFragmentByTime(e+t),n=i.sFragment.fragment,r=a.eFragment.fragment,o=i.sFragment.position,s=a.eFragment.position,d=void 0;n.order==r.order&&o<s?(d=n.getLoadPart(o,s))&&this.audioLoader.startLoad(n,d.sp,d.ep):n.hasPartData(o,n.totalByte)?r.hasPartData(0,s)||(d=r.getLoadPart(0,s),o=d.sp,s=d.ep,this.audioLoader.startLoad(r,o,s)):(d=n.getLoadPart(o,n.totalByte),o=d.sp,s=d.ep,this.audioLoader.startLoad(n,o,s))}}},{key:"_getFragmentByPosition",value:function(e){for(var t,i,a="number"==typeof this._aacMdatPosition?this._aacMdatPosition:16,n=void 0,r=0,o=0;o<this._audioFragments.length;o++){if(t=this._audioFragments[o],i=0==o?t.totalByte-a:t.totalByte,0==e||e>r&&e-r<=i){n={},n.fragment=t,n.position=e-r+(0==o?a:0);break}r+=i}return n}},{key:"_getFragmentByTime",value:function(e){var t=this._getIndexByTime(e),i=this._timeToFragmentList[t];return i.sFragment=this._getFragmentByPosition(i.sPosition),i.eFragment=this._getFragmentByPosition(i.ePosition),i}},{key:"_getIndexByTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._sample_duration,a=Math.floor(e/i);return t&&(a-=1),a<0?a=0:a>this._timeToFragmentList.length-1&&(a=this._timeToFragmentList.length-1),a}},{key:"_getStartIndexByTime",value:function(e){return this._getIndexByTime(e,!1)}},{key:"_getEndIndexByTime",value:function(e){return this._getIndexByTime(e,!0)}},{key:"_getSampleData",value:function(e,t){var i=void 0;if(e.hasOwnProperty("fragment")&&t.hasOwnProperty("fragment"))if(e.fragment.order==t.fragment.order)i=e.fragment.getData(e.position,t.position);else{var a=e.fragment.getData(e.position,e.fragment.totalByte),n=t.fragment.getData(0,t.position);i=new Uint8Array(a.byteLength+n.byteLength),i.set(a,0),i.set(n,a.byteLength)}return i}},{key:"_getDataByTime",value:function(e,t){var i=e,a=e+t,n=this._getStartIndexByTime(i),r=this._getEndIndexByTime(a),o=this._timeToFragmentList[n],s=this._timeToFragmentList[r],d=this._getFragmentByPosition(o.sPosition),u=this._getFragmentByPosition(s.ePosition);return{startIdx:n,endIdx:r,data:this._getSampleData(d,u)}}},{key:"_getDataListByTime",value:function(e,t){t>this._timeToFragmentList.length-1&&(t=this._timeToFragmentList.length-1);for(var i=[],a=e;a<=t;a++){var n=this._timeToFragmentList[a],r=this._getFragmentByPosition(n.sPosition),o=this._getFragmentByPosition(n.ePosition),s=this._getSampleData(r,o);i.push({size:s.byteLength,duration:1024,cts:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:0}})}return i.length>0?i:[]}},{key:"_parseHeader",value:function(e){var t=e;this.audioTrack.$timescale=t.track.timescale,this.audioTrack.$duration=t.track.duration,this.audioTrack.$id=t.track.id,this.audioTrack.$width=t.track.width,this.audioTrack.$height=t.track.height,this.audioTrack.$sampleRate=t.track.sampleRate,this.audioTrack.$channelCount=t.track.channelCount,this.audioTrack.$config=t.track.config,this.audioTrack.$codec=t.track.codec,this.audioTrack.$container="audio/mp4",this._aacMdatPosition=t.track.aacMdatPosition,this._sample_duration=t.sample_duration,this._sampleEntryList=t.sampleEntryList,this._timeToSampleList=t.timeToSampleList,this._timeToFragmentList=t.timeToFragmentList,this._headAnalyzed=!0,this._initSegment=this._createInitSegment([t.bytes],this.audioTrack.container,this.audioTrack.codec),this._dispatchEvent(E["default"].ACTOR_AUDIOTRACK_SWITCHED_SUCCESSED)}},{key:"_setMdat",value:function(e,t){var i=this.audioLoader.loadPoint,a=this.audioLoader.loadPoint+t.byteLength;e.setData(t,i,a),this.audioLoader.loadPoint+=t.byteLength}},{key:"_createInitSegment",value:function(e,t,i){var a=new O["default"]("audio");return a.origin=C["default"].AMP4,a.container=t,a.codec=i,a.bytesArray=e,a}},{key:"_createMediaSegment",value:function(e,t,i){var a=new L["default"]("audio");return a.origin=C["default"].AMP4,a.bytesArray=e,a.startTime=t,a.duration=i,a}},{key:"_readData",value:function(e,t){if(this._hasData(e,t)){var i=this._getDataByTime(e,t);return this.audioTrack.samples=this._getDataListByTime(i.startIdx,i.endIdx),i.data}return null}},{key:"_isTimeEnd",value:function(e){var t=!1,i=this._sample_duration,a=Math.floor(e/i),n=this._timeToFragmentList.length;return n>0&&a>=n-1&&(t=!0),t}},{key:"init",value:function(e,t){this.reset(),this._trackId=e,this._setFragments(t),this._audioFragments.length>0&&this._tickTimer.scheduleRepeated(.1)}},{key:"seek",value:function(e){var t=e-10<0?0:e-10;this._error=null,this._currentMdat=null,this._currentReadTime=this._currentLoadTime=1e3*t,this._headAnalyzed&&this.multiplexer.reset()}},{key:"readInitSegment",value:function(){var e=null;return this._hasInit||this._initSegment instanceof O["default"]&&(e=this._initSegment,this._hasInit=!0),e}},{key:"read",value:function(e,t){e*=1e3,t*=1e3;var i=null,a=e+t;if(this._nextSegmentPTS=a,this._currentReadTime=e,(null===this._currentLoadTime||this._currentLoadTime>e)&&(this._currentLoadTime=e),this._hasInit){if(Array.isArray(this._currentMdat)&&this._currentMdat.length>0)i=this._createMediaSegment(this._currentMdat,e/1e3,t/1e3),this._currentReadTime=a,this._currentMdat=null;else if(this._headAnalyzed&&this.multiplexer.idle){var n=this._readData(e,t);n&&this.multiplexer.pushMdat(this.audioTrack,e/1e3*this.audioTrack.$timescale,n)}}else i=this.readInitSegment();return i}},{key:"reset",value:function(){this._hasInit=!1,this._headDataReady=!1,this._headAnalyzed=!1,this._sampleEntryList=[],this._timeToSampleList=[],this._timeToFragmentList=[],this._audioFragments=[],this._initSegment=null,this._currentMdat=null,this._headerFragment=null,this._currentLoadTime=this._currentReadTime=null,this.audioTrack=new y["default"],this.multiplexer.reset(),this.audioLoader.reset(),this._tickTimer.cancel()}}]),t}(p["default"]);t["default"]=B},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(){(0,r["default"])(this,e),this.type="audio",this.isAAC=!0,this.container="",this.codec="",this.duration="",this.timescale="",this.id="",this.width="",this.height="",this.sampleRate="",this.channelCount="",this.config=[],this.samples=[]}return(0,s["default"])(e,[{key:"$duration",get:function(){return this.duration},set:function(e){this.duration=e}},{key:"$timescale",get:function(){return this.timescale},set:function(e){this.timescale=e}},{key:"$id",get:function(){return this.id},set:function(e){this.id=e}},{key:"$width",get:function(){return this.width},set:function(e){this.width=e}},{key:"$height",get:function(){return this.height},set:function(e){this.height=e}},{key:"$sampleRate",get:function(){return this.sampleRate},set:function(e){this.sampleRate=e}},{key:"$channelCount",get:function(){return this.channelCount},set:function(e){this.channelCount=e}},{key:"$config",set:function(e){this.config=e}},{key:"$samples",set:function(e){this.samples=e}},{key:"$codec",set:function(e){this.codec=e}},{key:"$container",set:function(e){this.container=e}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(t){(0,r["default"])(this,e),this._isComplete=!1,this._order=t.i,this._uri=t.dpl.toString(),this._dataUrl="",this._data=new Uint8Array,this._totalByte=t.b,this._startByte=0,this._endByte=0,this._type=""}return(0,s["default"])(e,[{key:"getData",value:function(e,t){if(this._data){var i=e-this._startByte,a=t-this._startByte;return this._data.subarray(i,a)}return null}},{key:"setData",value:function(e,t,i){if(!(this.hasPartData(t,i)||t>=i)){var a=new Uint8Array(e);if(t<this._startByte&&i>this._endByte||i<this._startByte||t>this.endByte)this._data=null,this._data=new Uint8Array(e.byteLength),this._data.set(a,0),this._startByte=t,this._endByte=i;else if(t<this._startByte&&i>=this._startByte){var n=void 0,r=void 0;r=this._startByte==i?a:a.subarray(0,this._startByte-t),n=new Uint8Array(r.byteLength+this._data.byteLength),n.set(r,0),n.set(this._data,r.byteLength),this._data=n,this._startByte=t}else if(t<=this._endByte&&i>this._endByte){var o=void 0,s=void 0;s=t==this._endByte?a:a.subarray(this._endByte-t),o=new Uint8Array(this._data.byteLength+s.byteLength),o.set(this._data,0),o.set(s,this._data.byteLength),this._data=o,this._endByte=i}this._isComplete=this._endByte==this._totalByte}}},{key:"hasPartData",value:function(e,t){return!(!this._data||0==this._data.byteLength)&&(e>=this._startByte&&t<=this.endByte)}},{key:"getLoadPart",value:function(e,t){return this.hasPartData(e,t)?null:!this._data||0==this._data.length||e<this._startByte&&t>this._endByte||t<this._startByte||e>this._endByte?{sp:e,ep:t}:e<this._startByte&&t>=this._startByte&&t<this._endByte?{sp:e,ep:this._startByte}:e<this._endByte&&t>this._endByte?{sp:this._endByte,ep:t}:null}},{key:"clearData",value:function(){this._data=null,this._startByte=this._endByte=0}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"uri",get:function(){return this._uri},set:function(e){this._uri=e}},{key:"totalByte",get:function(){return this._totalByte},set:function(e){this._totalByte=e}},{key:"isComplete",get:function(){return this._isComplete},set:function(e){this._isComplete=e}},{key:"order",get:function(){return this._order},set:function(e){this._order=e}},{key:"dataUrl",get:function(){return this._dataUrl},set:function(e){this._dataUrl=e}},{key:"size",get:function(){return this._size}},{key:"startByte",get:function(){return this._startByte}},{key:"endByte",get:function(){return this._endByte}},{key:"holdDataLength",get:function(){return this._data.length}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(73),r=a(n),o=i(75),s=a(o),d=function(){function e(t){(0,r["default"])(this,e),this._isComplete=!1,this._order=t.i,this._uri=t.dpl.toString(),this._dataUrl="",this._data=new Uint8Array,this._totalByte=t.b,this._startByte=0,this._endByte=0,this._type=""}return(0,s["default"])(e,[{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"uri",get:function(){return this._uri},set:function(e){this._uri=e}},{key:"holdDataLength",get:function(){return this._data.length}},{key:"totalByte",get:function(){return this._totalByte},set:function(e){this._totalByte=e}},{key:"isComplete",get:function(){return this._isComplete},set:function(e){this._isComplete=e}},{key:"order",get:function(){return this._order},set:function(e){this._order=e}},{key:"dataUrl",get:function(){return this._dataUrl},set:function(e){this._dataUrl=e}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"size",get:function(){return this._size}},{key:"startByte",get:function(){return this._startByte}},{key:"endByte",get:function(){return this._endByte}}]),e}();t["default"]=d},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(107),g=a(b),v=i(93),m=(a(v),i(249)),y=a(m),x=i(251),k=a(x),w=i(305),S=a(w),T=i(306),A=a(T),I=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i._ctx=e||null,i._sPosition=0,i._ePosition=0,i._isLoading=!1,i._currFragment=null,i._netProxy=new y["default"],i._loadPoint=0,i._request=null,i._audioDispatcher=null,i._firstLoad=!0,i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"startLoad",value:function(e,t,i){if(e){this._currFragment=e,this._sPosition=t,this._ePosition=i,this.loadPoint=t;var a=this._currFragment.dataUrl;a?this._startRequest(a,t,i):this._dispatcher(e)}}},{key:"_startRequest",value:function(e,t,i){var a=this;this._isLoading=!0;var n=e+"&start="+t+"&end="+i,r=a._netProxy.makeRequestContext([n],a._netProxy.defaultRetryParameters);r.method="GET",r.callbacks=(0,g["default"])(r.callbacks,{onProgress:function(e,t){if(a._currFragment&&"mdat"===a._currFragment.type){var i=e,n={};i&&i.byteLength>0?(n.data=i,n.fragment=a._currFragment,n.byteLength=i.byteLength,a.emit(S["default"].LOADER_DATA_LOAD_SUCCESS,{data:n})):a.emit(S["default"].LOADER_DATA_LOAD_FAIL)}},onSuccess:function(e){if(a._currFragment&&"head"===a._currFragment.type){a._isLoading=!1;var n=e.data,r={};n&&n.byteLength>0?(a._firstLoad=!1,r.fragment=a._currFragment,r.data=n,a.emit(S["default"].LOADER_DATA_LOAD_SUCCESS,{data:r})):a.emit(S["default"].LOADER_DATA_LOAD_FAIL)}else if(!a._netProxy.isProgressSupported){a._isLoading=!1;var o=e.data,s={};o&&o.byteLength>0?(a._firstLoad=!1,s.fragment=a._currFragment,o.byteLength>i?s.data=o.slice(t,i):s.data=o,s.byteLength=o.byteLength,a.emit(S["default"].LOADER_DATA_LOAD_SUCCESS,{data:s})):a.emit(S["default"].LOADER_DATA_LOAD_FAIL)}},onError:function(){a._isLoading=!1,a.emit(S["default"].LOADER_DATA_LOAD_FAIL)},onTimeout:function(e,t){a._isLoading=!1,a.emit(S["default"].LOADER_DATA_LOAD_FAIL)},onAbort:function(){a._isLoading=!1},onComplete:function(){a._isLoading=!1}},!0),this._request=this._netProxy.request(k["default"].SEGMENT,r)}},{key:"_destroyLoader",value:function(){this._request&&(this.removeAllListeners(S["default"].LOADER_DATA_LOAD_SUCCESS),this.removeAllListeners(S["default"].LOADER_DATA_LOAD_FAIL),this._request.destroy(),this._request=null)}},{key:"_initDispatcher",value:function(e){this._audioDispatcher=new A["default"](this._ctx),this._audioDispatcher.on(S["default"].LOADER_DISPATCHER_SUCCESS,this._onLoaderDispatchSuccess.bind(this)),this._audioDispatcher.on(S["default"].LOADER_DISPATCHER_FAIL,this._onLoaderDispatchFail.bind(this)),this._audioDispatcher.on(S["default"].LOADER_DISPATCHER_EXPIRED,this._onLoaderDispatchExpired.bind(this)),this._audioDispatcher.getRequest(e)}},{key:"_destroyDispatcher",value:function(){this._audioDispatcher&&(this._audioDispatcher.removeAllListeners(S["default"].LOADER_DISPATCHER_SUCCESS),this._audioDispatcher.removeAllListeners(S["default"].LOADER_DISPATCHER_FAIL),this._audioDispatcher.destroy(),this._audioDispatcher=null)}},{key:"_dispatcher",value:function(e){this._audioDispatcher&&this._audioDispatcher.currFragment==this._currFragment&&this._isLoading||(this._audioDispatcher&&this._destroyDispatcher(),this._isLoading=!0,this._initDispatcher(e))}},{key:"_onLoaderDispatchSuccess",value:function(e){null!=this._audioDispatcher&&(e&&e.fragment&&this.startLoad(e.fragment,this._sPosition,this._ePosition),this._dispatchEvent(S["default"].LOADER_DISPATCHER_SUCCESS))}},{key:"_onLoaderDispatchFail",value:function(){this._dispatchEvent(S["default"].LOADER_DISPATCHER_FAIL)}},{key:"_onLoaderDispatchExpired",value:function(){this._dispatchEvent(S["default"].LOADER_DISPATCHER_EXPIRED)}},{key:"_dispatchEvent",value:function(e){this.emit(e)}},{key:"cancelLoad",value:function(){this._isLoading=!1,this._sPosition=this._ePosition=0,this._currFragment=null}},{key:"destroy",value:function(){this._destroyLoader()}},{key:"reset",value:function(){this._sPosition=0,this._ePosition=0,this._isLoading=!1,this._currFragment=null,this._request=null,this._firstLoad=!0}},{key:"hasDataLoading",get:function(){return this._isLoading}},{key:"currFragment",get:function(){return this._currFragment}},{key:"sPosition",get:function(){return this._sPosition}},{key:"ePosition",get:function(){return this._ePosition}},{key:"loadPoint",get:function(){return this._loadPoint},set:function(e){this._loadPoint=e}}]),t}(p["default"]);t["default"]=I},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={LOADER_DATA_LOAD_SUCCESS:"loader_dataload_success",LOADER_DATA_LOAD_FAIL:"loader_dataload_fail",LOADER_DISPATCHER_SUCCESS:"loader_dispatcher_success",LOADER_DISPATCHER_FAIL:"loader_dispatcher_fail",LOADER_DISPATCHER_EXPIRED:"loader_dispatcher_expired",ACTOR_LOAD_FAIL:"actor_load_fail",ACTOR_DISPATCHED_FAIL:"actor_dispatched_fail",ACTOR_AUDIOTRACK_SWITCHED_SUCCESSED:"actor_audiotrack_switched_successed",ACTOR_MUX_ERROR:"actor_mux_error"}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(249),g=a(b),v=i(251),m=a(v),y=i(305),x=a(y),k=i(107),w=a(k),S=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return i._ctx=e,i._netProxy=new g["default"],i._fragment=null,i._request=null,i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"getRequest",value:function(e){var t=this,i=void 0;e.uri&&(i=e.uri),t._fragment=e;var a=t._netProxy.makeRequestContext([i],t._netProxy.defaultRetryParameters);a.method="GET",a.responseType="json",a.callbacks=(0,w["default"])(a.callbacks,{onSuccess:function(e){var i=e.data;i&&i.l?(t._fragment.dataUrl=i.l,t.emit(x["default"].LOADER_DISPATCHER_SUCCESS,{fragment:t._fragment})):t.emit(x["default"].LOADER_DISPATCHER_FAIL)},onError:function(e){if(e&&e.response){var i=e.response;i.code&&"D2006"==i.code?t.emit(x["default"].LOADER_DISPATCHER_EXPIRED):t.emit(x["default"].LOADER_DISPATCHER_FAIL)}else t.emit(x["default"].LOADER_DISPATCHER_FAIL)},onTimeout:function(e,i){t.emit(x["default"].LOADER_DISPATCHER_FAIL)},onAbort:function(){},onComplete:function(){}},!0),t._request=t._netProxy.request(m["default"].DISPATCH,a)}},{key:"destroy",value:function(){this._fragment=null,this._request.destroy()}},{key:"currentFragment",get:function(){return this._fragment}}]),t}(p["default"]);t["default"]=S},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={ERROR:"ERROR",INFO:"INFO",DATA:"DATA",DEMUX_DATA:"DEMUX_DATA",DONE:"DONE"}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(93),p=a(h),b=i(134),g=i(107),v=a(g),m=i(147),y=a(m),x=i(112),k=a(x),w=i(309),S=a(w),T=i(307),A=a(T),I=i(189),E=a(I),P=i(88),D=a(P),q=function(e){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s["default"])(this,t);var n=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return n._args={from:e,to:i,options:a},(0,v["default"])(a,{debug:!1,enableWorker:!0}),n._onWorkerMessage=n._onWorkerMessage.bind(n),n._onWorkerError=n._onWorkerError.bind(n),n._eventManager=new k["default"],n._error=null,n._mux=null,n._w=null,n._idle=!0,n._initialize(),n}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"error",get:function(){return this._error}},{key:"idle",get:function(){return this._idle}}]),(0,c["default"])(t,[{key:"_initialize",value:function(){var e=this,t=this._args,i=t.from,a=t.to,n=t.options,r=void 0,o=void 0;if(this._idle=!1,n.enableWorker&&void 0!==window.Worker)try{var s="iqiyi_qvs_"+i;p["default"].log("spawn an audio worker thread "+s),o=this._w=(0,y["default"])(311,{worker:{name:s}}),o.__name__=s,o.addEventListener("message",this._onWorkerMessage),o.addEventListener("error",this._onWorkerError),o.addEventListener("messageerror",this._onWorkerMessageError),this._postMessage(o,"__init__",{from:i,to:a,options:n})}catch(e){this._w&&URL.revokeObjectURL(this._w.objectURL),delete this._w,p["default"].error("error while initializing audio-mux-worker, fallback on audio-mux-inline"),r=this._mux=new S["default"](i,a,n)}else r=this._mux=new S["default"](i,a,n);r&&(this._eventManager.on(r,"__idle__",function(){e._idle=!0}),this._eventManager.on(r,"error",function(t,i){return e._emitError(t,i)}),this._eventManager.on(r,"info",function(t){return e._emitInfo(t)}),this._eventManager.on(r,"remux_data",function(t){return e._emitRemuxData(t)}),this._eventManager.on(r,"done",function(){return e._emitDone()}),this._idle=!0)}},{key:"_postMessage",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];p["default"].log("audio mux send message: "+t),e.postMessage({cmd:t,msg:i},a)}},{key:"pushMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._w;if((0,b.isArrayBuffer)(e)||(0,b.isUint8Array)(e))if(p["default"].assert(0===e.byteLength,"audio mux push buff len should gt 0"),(0,b.isArrayBuffer)(e)&&(e=new Uint8Array(e)),this._idle=!1,i){var a=[];this._postMessage(i,"pushMetadata",{buf:e,conf:t},a)}else this._mux.pushMetadata(e,t)}},{key:"pushMdat",value:function(e,t,i){var a=this._w,n={};n.track=e,n.baseMediaDecodeTime=t,n.data=i,this._idle=!1,a?a.postMessage({cmd:"pushMdat",msg:n}):this._mux.pushMdat(e,t,i)}},{key:"_terminateWorker",value:function(){var e=this._w;e.removeEventListener("message",this._onWorkerMessage),e.removeEventListener("error",this._onWorkerError),e.removeEventListener("messageerror",this._onWorkerMessageError),e.terminate(),p["default"].log("terminate a "+e.__name__+" worker thread")}},{key:"reset",value:function(){this._w?(this._terminateWorker(),this._initialize()):this._mux.reset(),this._idle||(this._idle=!0)}},{key:"destroy",value:function(){this._w?this._terminateWorker():(this._mux.destroy(),this._eventManager.destroy())}},{key:"_onWorkerMessage",value:function(e){var t=e.data,i=e.target,a=t.cmd,n=t.msg;switch(a){case"__init__":p["default"].log("audio worker "+i.__name__+" initialized"),URL.revokeObjectURL(this._w.objectURL);break;case"__idle__":this._idle=!0;break;case"error":this._emitError(n.code,n.message);break;case"info":this._emitInfo(n);break;case"remux_data":this._emitRemuxData(n);break;case"done":this._emitDone()}}},{key:"_onWorkerError",value:function(e){var t=e.target||e.srcElement,i=t?t.__name__:"",a="Audio worker "+i+", "+e.message;p["default"].warn(a),this._emitError(E["default"].WORKER_EXCEPTION,a)}},{key:"_onWorkerMessageError",value:function(e){var t="Audio Worker met error while receiving message, "+e;p["default"].warn(t),this._emitError(E["default"].WORKER_MSG_EXCEPTION,t)}},{key:"_emitError",value:function(e,t){this._error={code:e,message:t},this.emit(A["default"].ERROR,this._error)}},{key:"_emitInfo",value:function(e){this.emit(A["default"].INFO,e)}},{key:"_emitRemuxData",value:function(e){e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),this.emit(A["default"].DATA,e)}},{key:"_emitDone",value:function(e){this.emit(A["default"].DONE,e)}}]),t}(D["default"]);q.ErrCode=E["default"],q.Events=A["default"],t["default"]=q},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(242),r=a(n),o=i(69),s=a(o),d=i(73),u=a(d),l=i(75),c=a(l),f=i(74),_=a(f),h=i(79),p=a(h),b=i(93),g=a(b),v=i(310),m=a(v),y=i(278),x=a(y),k=i(134),w=i(88),S=a(w),T=i(196),A=a(T),I=i(168),E=a(I),P=function(e){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u["default"])(this,t);var n=(0,_["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this));return a.debug&&(g["default"].enable=!0),n.sequenceNumber=1,n}return(0,p["default"])(t,e),(0,c["default"])(t,[{key:"pushMdat",value:function(e,t,i){var a=this._remuxAudio(e,t,i);this.emit("remux_data",{data:a}),this._noticeIdle()}},{key:"pushMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((0,k.isArrayBuffer)(e)||(0,k.isUint8Array)(e))&&this._analyzeHeader(e,t.trackId)}},{key:"_flattenMp4Box",value:function(e){var t={};if(Array.isArray(e))for(var i=0;i<e.length;i++){var a=e[i],n=a.type,o=t,s=this._flattenMp4Box(a.boxes,"boxes");switch(a.type){case"trak":o=t[s.handlerType+"Track"]={};break;case"hdlr":t.handlerType=a.handlerType}a.hasOwnProperty("boxes")&&(0,r["default"])(o,s),"trak"!==a.type&&(t[n]=a)}return t}},{key:"_analyzeHeader",value:function(e,t){var i=this,a={},n=void 0,r={},o=[],s=[],d=[],u=new Uint8Array(e),l=m["default"].ungzip(u),c=x["default"].mp4toJSON(l),f=this._flattenMp4Box(c),_=f.sounTrack;if(_||g["default"].error("mat can't discovery soun box"),r.type="audio",r.isAAC=!0,_.stco.entryCount>0){var h=_.stco.chunkOffsets[0],p=l.byteLength;r.aacMdatPosition=h-p}else r.aacMdatPosition=null;r.duration=f.mvhd.duration/f.mvhd.timescale,r.id=t||_.tkhd.trackId,r.width=_.tkhd.width,r.height=_.tkhd.height,r.sampleRate=_.mp4a.samplerate,r.channelCount=_.mp4a.channelcount;var b=_.mp4a.streamDescriptor.decoderConfig.decoderConfigDescriptor;a.audioObjectType=b.audioObjectType,a.channelCount=b.channelConfiguration,a.samplingFrequencyIndex=b.samplingFrequencyIndex;var v=(0,E["default"])(a.audioObjectType,a.samplingFrequencyIndex,a.channelCount);r.config=v.config,r.codec=v.codec,r.timescale=_.mdhd.timescale,o=_.stsz.entries,s=_.stts.timeToSamples,n=_.stts.timeToSamples[0].sampleDelta/_.mp4a.samplerate*1e3;var y=0;!function e(t){for(var a=+new Date,u=t;u<o.length;u++){if("break"===function(t){var u={},l=o[t];if(u.tm=n*t,u.index=t,u.size=l,u.sPosition=y,u.ePosition=y+l,d.push(u),y+=l,+new Date-a>=30)return i._analyzeHeaderTimer=setTimeout(function(){e(t+1)},10),"break";if(d.length===o.length){var c=A["default"].initSegment([r]);i.emit("info",{track:r,timeScale:r.timescale,sample_duration:n,sampleEntryList:o,timeToSampleList:s,timeToFragmentList:d,bytes:c}),i._noticeIdle()}}(u))break}}(0)}},{key:"_remuxAudio",value:function(e,t,i){var a=A["default"].moof(this.sequenceNumber++,t,e),n=A["default"].mdat(i);return[a.buffer,n.buffer]}},{key:"reset",value:function(){this.sequenceNumber=1,clearTimeout(this._analyzeHeaderTimer)}},{key:"destroy",value:function(){}},{key:"_noticeIdle",value:function(){this.emit("__idle__")}}]),t}(S["default"]);t["default"]=P},function(e,t,i){var a,a;Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=function(e){return e&&e.__esModule?e:{"default":e}}(n),o=function(e){return function(){return function e(t,i,n){function r(s,d){if(!i[s]){if(!t[s]){var u="function"==typeof a&&a;if(!d&&u)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return r(i||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof a&&a,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!==(void 0===i?"undefined":(0,r["default"])(i)))throw new TypeError(i+"must be non-object");for(var n in i)a(i,n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,i,a,n){if(t.subarray&&e.subarray)return void e.set(t.subarray(i,i+a),n);for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){var t,i,a,n,r,o;for(a=0,t=0,i=e.length;t<i;t++)a+=e[t].length;for(o=new Uint8Array(a),n=0,t=0,i=e.length;t<i;t++)r=e[t],o.set(r,n),n+=r.length;return o}},s={arraySet:function(e,t,i,a,n){for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(n)},{}],2:[function(e,t,i){function a(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}var n=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new n.Buf8(256),d=0;d<256;d++)s[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;s[254]=s[254]=1,i.string2buf=function(e){var t,i,a,r,o,s=e.length,d=0;for(r=0;r<s;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),d+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(d),o=0,r=0;o<d;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},i.buf2binstring=function(e){return a(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,a=t.length;i<a;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,o,d=t||e.length,u=new Array(2*d);for(n=0,i=0;i<d;)if((r=e[i++])<128)u[n++]=r;else if((o=s[r])>4)u[n++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&i<d;)r=r<<6|63&e[i++],o--;o>1?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return a(u,n)},i.utf8border=function(e,t){var i;for(t=t||e.length,t>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+s[e[i]]>t?i:t}},{"./common":1}],3:[function(e,t,i){function a(e,t,i,a){for(var n=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){o=i>2e3?2e3:i,i-=o;do{n=n+t[a++]|0,r=r+n|0}while(--o);n%=65521,r%=65521}return n|r<<16|0}t.exports=a},{}],4:[function(e,t,i){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,i){function a(e,t,i,a){var r=n,o=a+i;e^=-1;for(var s=a;s<o;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=a},{}],6:[function(e,t,i){function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=a},{}],7:[function(e,t,i){t.exports=function(e,t){var i,a,n,r,o,s,d,u,l,c,f,_,h,p,b,g,v,m,y,x,k,w,S,T,A;i=e.state,a=e.next_in,T=e.input,n=a+(e.avail_in-5),r=e.next_out,A=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),d=i.dmax,u=i.wsize,l=i.whave,c=i.wnext,f=i.window,_=i.hold,h=i.bits,p=i.lencode,b=i.distcode,g=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{h<15&&(_+=T[a++]<<h,h+=8,_+=T[a++]<<h,h+=8),m=p[_&g];t:for(;;){if(y=m>>>24,_>>>=y,h-=y,0===(y=m>>>16&255))A[r++]=65535&m;else{if(!(16&y)){if(0==(64&y)){m=p[(65535&m)+(_&(1<<y)-1)];continue t}if(32&y){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}x=65535&m,y&=15,y&&(h<y&&(_+=T[a++]<<h,h+=8),x+=_&(1<<y)-1,_>>>=y,h-=y),h<15&&(_+=T[a++]<<h,h+=8,_+=T[a++]<<h,h+=8),m=b[_&v];i:for(;;){if(y=m>>>24,_>>>=y,h-=y,!(16&(y=m>>>16&255))){if(0==(64&y)){m=b[(65535&m)+(_&(1<<y)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(k=65535&m,y&=15,h<y&&(_+=T[a++]<<h,(h+=8)<y&&(_+=T[a++]<<h,h+=8)),(k+=_&(1<<y)-1)>d){e.msg="invalid distance too far back",i.mode=30;break e}if(_>>>=y,h-=y,y=r-o,k>y){if((y=k-y)>l&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(w=0,S=f,0===c){if(w+=u-y,y<x){x-=y;do{A[r++]=f[w++]}while(--y);w=r-k,S=A}}else if(c<y){if(w+=u+c-y,(y-=c)<x){x-=y;do{A[r++]=f[w++]}while(--y);if(w=0,c<x){y=c,x-=y;do{A[r++]=f[w++]}while(--y);w=r-k,S=A}}}else if(w+=c-y,y<x){x-=y;do{A[r++]=f[w++]}while(--y);w=r-k,S=A}for(;x>2;)A[r++]=S[w++],A[r++]=S[w++],A[r++]=S[w++],x-=3;x&&(A[r++]=S[w++],x>1&&(A[r++]=S[w++]))}else{w=r-k;do{A[r++]=A[w++],A[r++]=A[w++],A[r++]=A[w++],x-=3}while(x>2);x&&(A[r++]=A[w++],x>1&&(A[r++]=A[w++]))}break}}break}}while(a<n&&r<s);x=h>>3,a-=x,h-=x<<3,_&=(1<<h)-1,e.next_in=a,e.next_out=r,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=r<s?s-r+257:257-(r-s),i.hold=_,i.bits=h}},{}],8:[function(e,t,i){function a(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new v.Buf32(pe),t.distcode=t.distdyn=new v.Buf32(be),t.sane=1,t.back=-1,P):O}function o(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):O}function s(e,t){var i,a;return e&&e.state?(a=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?O:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=i,a.wbits=t,o(e))):O}function d(e,t){var i,a;return e?(a=new n,e.state=a,a.window=null,i=s(e,t),i!==P&&(e.state=null),i):O}function u(e){return d(e,ge)}function l(e){if(ve){var t;for(b=new v.Buf32(512),g=new v.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(k(S,e.lens,0,288,b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;k(T,e.lens,0,32,g,0,e.work,{bits:5}),ve=!1}e.lencode=b,e.lenbits=9,e.distcode=g,e.distbits=5}function c(e,t,i,a){var n,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new v.Buf8(r.wsize)),a>=r.wsize?(v.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(n=r.wsize-r.wnext,n>a&&(n=a),v.arraySet(r.window,t,i-a,n,r.wnext),a-=n,a?(v.arraySet(r.window,t,i-a,a,0),r.wnext=a,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}function f(e,t){var i,n,r,o,s,d,u,f,_,h,p,b,g,pe,be,ge,ve,me,ye,xe,ke,we,Se,Te,Ae=0,Ie=new v.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return O;i=e.state,i.mode===W&&(i.mode=K),s=e.next_out,r=e.output,u=e.avail_out,o=e.next_in,n=e.input,d=e.avail_in,f=i.hold,_=i.bits,h=d,p=u,we=P;e:for(;;)switch(i.mode){case F:if(0===i.wrap){i.mode=K;break}for(;_<16;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(2&i.wrap&&35615===f){i.check=0,Ie[0]=255&f,Ie[1]=f>>>8&255,i.check=y(i.check,Ie,2,0),f=0,_=0,i.mode=N;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",i.mode=fe;break}if((15&f)!==C){e.msg="unknown compression method",i.mode=fe;break}if(f>>>=4,_-=4,ke=8+(15&f),0===i.wbits)i.wbits=ke;else if(ke>i.wbits){e.msg="invalid window size",i.mode=fe;break}i.dmax=1<<ke,e.adler=i.check=1,i.mode=512&f?z:W,f=0,_=0;break;case N:for(;_<16;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(i.flags=f,(255&i.flags)!==C){e.msg="unknown compression method",i.mode=fe;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=fe;break}i.head&&(i.head.text=f>>8&1),512&i.flags&&(Ie[0]=255&f,Ie[1]=f>>>8&255,i.check=y(i.check,Ie,2,0)),f=0,_=0,i.mode=V;case V:for(;_<32;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}i.head&&(i.head.time=f),512&i.flags&&(Ie[0]=255&f,Ie[1]=f>>>8&255,Ie[2]=f>>>16&255,Ie[3]=f>>>24&255,i.check=y(i.check,Ie,4,0)),f=0,_=0,i.mode=U;case U:for(;_<16;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}i.head&&(i.head.xflags=255&f,i.head.os=f>>8),512&i.flags&&(Ie[0]=255&f,Ie[1]=f>>>8&255,i.check=y(i.check,Ie,2,0)),f=0,_=0,i.mode=B;case B:if(1024&i.flags){for(;_<16;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}i.length=f,i.head&&(i.head.extra_len=f),512&i.flags&&(Ie[0]=255&f,Ie[1]=f>>>8&255,i.check=y(i.check,Ie,2,0)),f=0,_=0}else i.head&&(i.head.extra=null);i.mode=H;case H:if(1024&i.flags&&(b=i.length,b>d&&(b=d),b&&(i.head&&(ke=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),v.arraySet(i.head.extra,n,o,b,ke)),512&i.flags&&(i.check=y(i.check,n,b,o)),d-=b,o+=b,i.length-=b),i.length))break e;i.length=0,i.mode=j;case j:if(2048&i.flags){if(0===d)break e;b=0;do{ke=n[o+b++],i.head&&ke&&i.length<65536&&(i.head.name+=String.fromCharCode(ke))}while(ke&&b<d);if(512&i.flags&&(i.check=y(i.check,n,b,o)),d-=b,o+=b,ke)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=Q;case Q:if(4096&i.flags){if(0===d)break e;b=0;do{ke=n[o+b++],i.head&&ke&&i.length<65536&&(i.head.comment+=String.fromCharCode(ke))}while(ke&&b<d);if(512&i.flags&&(i.check=y(i.check,n,b,o)),d-=b,o+=b,ke)break e}else i.head&&(i.head.comment=null);i.mode=Y;case Y:if(512&i.flags){for(;_<16;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(f!==(65535&i.check)){e.msg="header crc mismatch",i.mode=fe;break}f=0,_=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=W;break;case z:for(;_<32;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}e.adler=i.check=a(f),f=0,_=0,i.mode=G;case G:if(0===i.havedict)return e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=d,i.hold=f,i.bits=_,q;e.adler=i.check=1,i.mode=W;case W:if(t===I||t===E)break e;case K:if(i.last){f>>>=7&_,_-=7&_,i.mode=ue;break}for(;_<3;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}switch(i.last=1&f,f>>>=1,_-=1,3&f){case 0:i.mode=X;break;case 1:if(l(i),i.mode=ie,t===E){f>>>=2,_-=2;break e}break;case 2:i.mode=$;break;case 3:e.msg="invalid block type",i.mode=fe}f>>>=2,_-=2;break;case X:for(f>>>=7&_,_-=7&_;_<32;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",i.mode=fe;break}if(i.length=65535&f,f=0,_=0,i.mode=Z,t===E)break e;case Z:i.mode=J;case J:if(b=i.length){if(b>d&&(b=d),b>u&&(b=u),0===b)break e;v.arraySet(r,n,o,b,s),d-=b,o+=b,u-=b,s+=b,i.length-=b;break}i.mode=W;break;case $:for(;_<14;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(i.nlen=257+(31&f),f>>>=5,_-=5,i.ndist=1+(31&f),f>>>=5,_-=5,i.ncode=4+(15&f),f>>>=4,_-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=fe;break}i.have=0,i.mode=ee;case ee:for(;i.have<i.ncode;){for(;_<3;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}i.lens[Ee[i.have++]]=7&f,f>>>=3,_-=3}for(;i.have<19;)i.lens[Ee[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Se={bits:i.lenbits},we=k(w,i.lens,0,19,i.lencode,0,i.work,Se),i.lenbits=Se.bits,we){e.msg="invalid code lengths set",i.mode=fe;break}i.have=0,i.mode=te;case te:for(;i.have<i.nlen+i.ndist;){for(;Ae=i.lencode[f&(1<<i.lenbits)-1],be=Ae>>>24,ge=Ae>>>16&255,ve=65535&Ae,!(be<=_);){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(ve<16)f>>>=be,_-=be,i.lens[i.have++]=ve;else{if(16===ve){for(Te=be+2;_<Te;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(f>>>=be,_-=be,0===i.have){e.msg="invalid bit length repeat",i.mode=fe;break}ke=i.lens[i.have-1],b=3+(3&f),f>>>=2,_-=2}else if(17===ve){for(Te=be+3;_<Te;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}f>>>=be,_-=be,ke=0,b=3+(7&f),f>>>=3,_-=3}else{for(Te=be+7;_<Te;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}f>>>=be,_-=be,ke=0,b=11+(127&f),f>>>=7,_-=7}if(i.have+b>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=fe;break}for(;b--;)i.lens[i.have++]=ke}}if(i.mode===fe)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=fe;break}if(i.lenbits=9,Se={bits:i.lenbits},we=k(S,i.lens,0,i.nlen,i.lencode,0,i.work,Se),i.lenbits=Se.bits,we){e.msg="invalid literal/lengths set",i.mode=fe;break}if(i.distbits=6,i.distcode=i.distdyn,Se={bits:i.distbits},we=k(T,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Se),i.distbits=Se.bits,we){e.msg="invalid distances set",i.mode=fe;break}if(i.mode=ie,t===E)break e;case ie:i.mode=ae;case ae:if(d>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=d,i.hold=f,i.bits=_,x(e,p),s=e.next_out,r=e.output,u=e.avail_out,o=e.next_in,n=e.input,d=e.avail_in,f=i.hold,_=i.bits,i.mode===W&&(i.back=-1);break}for(i.back=0;Ae=i.lencode[f&(1<<i.lenbits)-1],be=Ae>>>24,ge=Ae>>>16&255,ve=65535&Ae,!(be<=_);){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(ge&&0==(240&ge)){for(me=be,ye=ge,xe=ve;Ae=i.lencode[xe+((f&(1<<me+ye)-1)>>me)],be=Ae>>>24,ge=Ae>>>16&255,ve=65535&Ae,!(me+be<=_);){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}f>>>=me,_-=me,i.back+=me}if(f>>>=be,_-=be,i.back+=be,i.length=ve,0===ge){i.mode=de;break}if(32&ge){i.back=-1,i.mode=W;break}if(64&ge){e.msg="invalid literal/length code",i.mode=fe;break}i.extra=15&ge,i.mode=ne;case ne:if(i.extra){for(Te=i.extra;_<Te;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}i.length+=f&(1<<i.extra)-1,f>>>=i.extra,_-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=re;case re:for(;Ae=i.distcode[f&(1<<i.distbits)-1],be=Ae>>>24,ge=Ae>>>16&255,ve=65535&Ae,!(be<=_);){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(0==(240&ge)){for(me=be,ye=ge,xe=ve;Ae=i.distcode[xe+((f&(1<<me+ye)-1)>>me)],be=Ae>>>24,ge=Ae>>>16&255,ve=65535&Ae,!(me+be<=_);){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}f>>>=me,_-=me,i.back+=me}if(f>>>=be,_-=be,i.back+=be,64&ge){e.msg="invalid distance code",i.mode=fe;break}i.offset=ve,i.extra=15&ge,i.mode=oe;case oe:if(i.extra){for(Te=i.extra;_<Te;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}i.offset+=f&(1<<i.extra)-1,f>>>=i.extra,_-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=fe;break}i.mode=se;case se:if(0===u)break e;if(b=p-u,i.offset>b){if((b=i.offset-b)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=fe;break}b>i.wnext?(b-=i.wnext,g=i.wsize-b):g=i.wnext-b,b>i.length&&(b=i.length),pe=i.window}else pe=r,g=s-i.offset,b=i.length;b>u&&(b=u),u-=b,i.length-=b;do{r[s++]=pe[g++]}while(--b);0===i.length&&(i.mode=ae);break;case de:if(0===u)break e;r[s++]=i.length,u--,i.mode=ae;break;case ue:if(i.wrap){for(;_<32;){if(0===d)break e;d--,f|=n[o++]<<_,_+=8}if(p-=u,e.total_out+=p,i.total+=p,p&&(e.adler=i.check=i.flags?y(i.check,r,p,s-p):m(i.check,r,p,s-p)),p=u,(i.flags?f:a(f))!==i.check){e.msg="incorrect data check",i.mode=fe;break}f=0,_=0}i.mode=le;case le:if(i.wrap&&i.flags){for(;_<32;){if(0===d)break e;d--,f+=n[o++]<<_,_+=8}if(f!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=fe;break}f=0,_=0}i.mode=ce;case ce:we=D;break e;case fe:we=R;break e;case _e:return L;case he:default:return O}return e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=d,i.hold=f,i.bits=_,(i.wsize||p!==e.avail_out&&i.mode<fe&&(i.mode<ue||t!==A))&&c(e,e.output,e.next_out,p-e.avail_out)?(i.mode=_e,L):(h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,i.total+=p,i.wrap&&p&&(e.adler=i.check=i.flags?y(i.check,r,p,e.next_out-p):m(i.check,r,p,e.next_out-p)),e.data_type=i.bits+(i.last?64:0)+(i.mode===W?128:0)+(i.mode===ie||i.mode===Z?256:0),(0===h&&0===p||t===A)&&we===P&&(we=M),we)}function _(e){if(!e||!e.state)return O;var t=e.state;return t.window&&(t.window=null),e.state=null,P}function h(e,t){var i;return e&&e.state?(i=e.state,0==(2&i.wrap)?O:(i.head=t,t.done=!1,P)):O}function p(e,t){var i,a,n=t.length;return e&&e.state?(i=e.state,0!==i.wrap&&i.mode!==G?O:i.mode===G&&(a=1,(a=m(a,t,n,0))!==i.check)?R:c(e,t,n,n)?(i.mode=_e,L):(i.havedict=1,P)):O}var b,g,v=e("../utils/common"),m=e("./adler32"),y=e("./crc32"),x=e("./inffast"),k=e("./inftrees"),w=0,S=1,T=2,A=4,I=5,E=6,P=0,D=1,q=2,O=-2,R=-3,L=-4,M=-5,C=8,F=1,N=2,V=3,U=4,B=5,H=6,j=7,Q=8,Y=9,z=10,G=11,W=12,K=13,X=14,Z=15,J=16,$=17,ee=18,te=19,ie=20,ae=21,ne=22,re=23,oe=24,se=25,de=26,ue=27,le=28,ce=29,fe=30,_e=31,he=32,pe=852,be=592,ge=15,ve=!0;i.inflateReset=o,i.inflateReset2=s,i.inflateResetKeep=r,i.inflateInit=u,i.inflateInit2=d,i.inflate=f,i.inflateEnd=_,i.inflateGetHeader=h,i.inflateSetDictionary=p,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,i){var a=e("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,d,u,l,c,f){var _,h,p,b,g,v,m,y,x,k=f.bits,w=0,S=0,T=0,A=0,I=0,E=0,P=0,D=0,q=0,O=0,R=null,L=0,M=new a.Buf16(16),C=new a.Buf16(16),F=null,N=0;for(w=0;w<=15;w++)M[w]=0;for(S=0;S<d;S++)M[t[i+S]]++;for(I=k,A=15;A>=1&&0===M[A];A--);if(I>A&&(I=A),0===A)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(T=1;T<A&&0===M[T];T++);for(I<T&&(I=T),D=1,w=1;w<=15;w++)if(D<<=1,(D-=M[w])<0)return-1;if(D>0&&(0===e||1!==A))return-1;for(C[1]=0,w=1;w<15;w++)C[w+1]=C[w]+M[w];for(S=0;S<d;S++)0!==t[i+S]&&(c[C[t[i+S]]++]=S);if(0===e?(R=F=c,v=19):1===e?(R=n,L-=257,F=r,N-=257,v=256):(R=o,F=s,v=-1),O=0,S=0,w=T,g=l,E=I,P=0,p=-1,q=1<<I,b=q-1,1===e&&q>852||2===e&&q>592)return 1;for(;;){m=w-P,c[S]<v?(y=0,x=c[S]):c[S]>v?(y=F[N+c[S]],x=R[L+c[S]]):(y=96,x=0),_=1<<w-P,h=1<<E,T=h;do{h-=_,u[g+(O>>P)+h]=m<<24|y<<16|x|0}while(0!==h);for(_=1<<w-1;O&_;)_>>=1;if(0!==_?(O&=_-1,O+=_):O=0,S++,0==--M[w]){if(w===A)break;w=t[i+c[S]]}if(w>I&&(O&b)!==p){for(0===P&&(P=I),g+=T,E=w-P,D=1<<E;E+P<A&&!((D-=M[E+P])<=0);)E++,D<<=1;if(q+=1<<E,1===e&&q>852||2===e&&q>592)return 1;p=O&b,u[p]=I<<24|E<<16|g-l|0}}return 0!==O&&(u[g+O]=w-P<<24|64<<16|0),f.bits=I,0}},{"../utils/common":1}],10:[function(e,t,i){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,i){function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=a},{}],"/lib/inflate.js":[function(e,t,i){function a(e){if(!(this instanceof a))return new a(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=o.inflateInit2(this.strm,t.windowBits);if(i!==u.Z_OK)throw new Error(l[i]);this.header=new f,o.inflateGetHeader(this.strm,this.header)}function n(e,t){var i=new a(t);if(i.push(e,!0),i.err)throw i.msg||l[i.err];return i.result}function r(e,t){return t=t||{},t.raw=!0,n(e,t)}var o=e("./zlib/inflate"),s=e("./utils/common"),d=e("./utils/strings"),u=e("./zlib/constants"),l=e("./zlib/messages"),c=e("./zlib/zstream"),f=e("./zlib/gzheader"),_=Object.prototype.toString;a.prototype.push=function(e,t){var i,a,n,r,l,c,f=this.strm,h=this.options.chunkSize,p=this.options.dictionary,b=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof e?f.input=d.binstring2buf(e):"[object ArrayBuffer]"===_.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new s.Buf8(h),f.next_out=0,f.avail_out=h),i=o.inflate(f,u.Z_NO_FLUSH),i===u.Z_NEED_DICT&&p&&(c="string"==typeof p?d.string2buf(p):"[object ArrayBuffer]"===_.call(p)?new Uint8Array(p):p,i=o.inflateSetDictionary(this.strm,c)),i===u.Z_BUF_ERROR&&!0===b&&(i=u.Z_OK,b=!1),i!==u.Z_STREAM_END&&i!==u.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==u.Z_STREAM_END&&(0!==f.avail_in||a!==u.Z_FINISH&&a!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(n=d.utf8border(f.output,f.next_out),r=f.next_out-n,l=d.buf2string(f.output,n),f.next_out=r,f.avail_out=h-r,r&&s.arraySet(f.output,f.output,n,r,0),this.onData(l)):this.onData(s.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(b=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==u.Z_STREAM_END);return i===u.Z_STREAM_END&&(a=u.Z_FINISH),a===u.Z_FINISH?(i=o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===u.Z_OK):a!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),f.avail_out=0,!0)},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=a,i.inflate=n,i.inflateRaw=r,i.ungzip=n},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}()}();t["default"]=o},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];self.postMessage({cmd:e,msg:t},i)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(309),o=a(r),s=i(112),d=a(s),u=i(93),l=a(u);t["default"]=function(e){var t=new d["default"];e.addEventListener("message",function(i){null===i.data&&l["default"].warn("Audio worker message's data is "+i.data);var a=i.data,r=a.cmd,s=a.msg;switch(r){case"__init__":var d=s.from,u=s.to,c=s.options;c.debug&&(l["default"].enable=!0),e._mux=new o["default"](d,u,c),t.on(e._mux,"__idle__",function(){return n("__idle__")}),t.on(e._mux,"error",function(e,t){return n("error",{code:e,message:t})}),t.on(e._mux,"info",function(e){return n("info",e)}),t.on(e._mux,"remux_data",function(e){var t=[],i=e.data;Array.isArray(i)&&i.forEach(function(e){e instanceof ArrayBuffer&&t.push(e)}),n("remux_data",e,t)}),t.on(e._mux,"done",function(){return n("done")}),n("__init__"),n("__idle__");break;case"pushMetadata":e._mux.pushMetadata(s.buf,s.conf);break;case"pushMdat":e._mux.pushMdat(s.track,s.baseMediaDecodeTime,s.data);break;case"reset":e._mux&&e._mux.reset()}})}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(143),p=a(h),b=i(93),g=a(b),v=i(116),m=a(v),y=i(92),x=a(y),k=i(142),w=a(k),S=i(144),T=a(S),A=i(279),I=a(A),E=i(289),P=a(E),D=i(105),q=a(D),O=i(247),R=a(O),L=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e));return a.TAG="RollStream",a._silenced=!1,a.silenced=i,a._actor=null,a._rollType=null,a._isAD=!1,a._range=new p["default"],a._range.add(0,1/0),a._done=!1,a._offset=0,a._loadstartEvts=[],a._loadErrorEvts=[],a._loadstartOpen=!1,a._curFragment=null,a._abortNextFrag=!1,a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"_sendAdEnded",value:function(){g["default"].log("rollstream, change fragment , ended = "+this._curFragment.idx),this._ctx.emit(x["default"].STATE_CHANGE,{state:"ended"})}},{key:"_changeCurrFrag",value:function(e){var t=this._ctx;g["default"].log("rollstream, change fragment , playing="+(e?e.idx:null)+",eof = "+this._actor.eof+",done="+this.done),e&&(this._curFragment=e,t.media.readyState>=2&&t.emit(x["default"].STATE_CHANGE,{state:"playing"}))}},{key:"offset",get:function(){return this._offset}},{key:"mediaRanges",get:function(){return this._range}},{key:"playRanges",get:function(){return this._range}},{key:"rollType",get:function(){return this._rollType}},{key:"isAD",get:function(){return this._isAD}},{key:"seekable",get:function(){var e=!1;return this._curFragment&&(e=this._curFragment.seekable),e}},{key:"eof",get:function(){return this._actor&&this._done&&this._actor.eof}},{key:"eod",get:function(){return!!this._actor&&this._actor.eod}},{key:"duration",get:function(){return this._curFragment?this._curFragment.duration:this._actor?this._actor.duration:0}},{key:"silenced",get:function(){return this._silenced},set:function(e){this._silenced=e,this._actor&&(this._actor.silenced=e)}},{key:"needInitSegment",set:function(e){this._actor&&(this._actor.needIS=e)}},{key:"willSendInitSegment",get:function(){return!!this._actor&&this._actor.willSendIS}},{key:"audioInitSegment",get:function(){return this._actor?this._actor.audioInitSegment:null}},{key:"buffer",get:function(){var e={len:0,start:0,end:0};try{if(this._actor){var t=this._actor.buffer;t&&(e=t)}}catch(e){}return e}},{key:"done",get:function(){return this._done}},{key:"currentTime",set:function(e){if(this._currentTime=e,null==this._curFragment)this._curFragment=this._actor.getNextFrag();else{var t=this._curFragment.startTime+this._curFragment.offset,i=this._curFragment.endTime+this._curFragment.offset;e>=t&&e<i||e>=i&&(this._sendAdEnded(),this._changeCurrFrag(this._actor.getNextFrag(this._curFragment.idx)))}},get:function(){return this._curFragment?this._currentTime-this._curFragment.offset:0}}]),(0,c["default"])(t,[{key:"_reset",value:function(){this._rollType=null,this._isAD=!1,this._offset=0,this._loadstartOpen=!1}},{key:"push",value:function(e){var t=e.playSourceContent,i=e.playSourceType,a=!!e.done;t.isContinuousMode=!0,this._isAD=t.isAD,this._isAD?t.loaderConfig=new R["default"]({doRetry:!1,allowIPDispatch:!1,skipErrorFrag:!0,retryNum:1,ipMaxRetry:0,timeout:5e3}):(this.ignoreError=!0,t.loaderConfig=new R["default"]({doRetry:!1,doDispatch:!1,retryNum:1,timeout:5e3})),this._filled||this._actor||this._initActor(i),this._rollType=t.rollType,this._filled=!0,this._done=a,a||(this._offset=t.offset),this._actor.feed(t)}},{key:"_initActor",value:function(e){var t=this,i=!1;switch(this._manifestType=e,e){case m["default"].HLS:this._actor&&this._actor instanceof I["default"]||(this._actor&&(this._actor.removeAllListeners(),this._actor.destroy()),i=!0,this._actor=new I["default"](this._ctx));break;case m["default"].DASH:this._actor&&this._actor instanceof T["default"]||(this._actor&&(this._actor.removeAllListeners(),this._actor.destroy()),i=!0,this._actor=new T["default"](this._ctx));break;case m["default"].FLV:this._actor&&this._actor instanceof P["default"]||(this._actor&&(this._actor.removeAllListeners(),this._actor.destroy()),i=!0,this._actor=new P["default"](this._ctx))}if(!this._actor)throw new Error(e+" actor init failed!");this._actor.silenced=this._silenced,i&&this._actor&&(this._actor.openOffset=!0,this._actor.on("fidxLoadStart",function(e){t._loadstartOpen||t.silenced?t._loadstart(e):t._loadstartEvts.push(e)}),this._actor.on("fidxError",function(e){t._loadstartOpen||t.silenced?t._loadError(e.gas):t._loadErrorEvts.push(e.gas),t._curFragment&&e.gas&&e.gas==t._curFragment.gas&&t._changeCurrFrag(t._actor.getNextFrag(t._curFragment.idx))}))}},{key:"seek",value:function(e){this._start=e,this._actor&&this._actor.seek(this._start)}},{key:"read",value:function(){return this._actor?this._actor.read():null}},{key:"getSegmentByPTS",value:function(e){return this._actor?this._actor.getSegmentByPTS(e):null}},{key:"refreshFrags",value:function(){this._actor&&(this._actor.refreshFrags(),this._abortNextFrag&&(this._changeCurrFrag(this._actor.getNextFrag(this._curFragment.idx)),this._abortNextFrag=!1))}},{key:"openLoadStart",value:function(){if(!this._loadstartOpen){for(var e=this._loadstartEvts.length,t=this._loadErrorEvts.length,i=e>t?e:t,a=0;a<i;a++){if(a>0){var n=this._loadstartEvts[a];n&&this._loadstart(n)}var r=this._loadErrorEvts[a];r&&this._loadError(r)}this._loadstartEvts=[],this._loadErrorEvts=[],this._loadstartOpen=!0}}},{key:"_loadstart",value:function(e){this._ctx.emit(x["default"].STATE_CHANGE,{state:"loadstart",gas:e})}},{key:"_loadError",value:function(e){this._ctx.emit(x["default"].ERROR,{category:q["default"].category.DATA_SOURCE,code:q["default"].code.DATA_AD_ERROR,data:[{gas:e}],severity:q["default"].severity.IGNORABLE})}},{key:"getCurrentADGas",value:function(){return null==this._curFragment&&(this.currentTime=0),this._curFragment?this._curFragment.gas:void 0}},{key:"abortCurrentADGas",value:function(){var e=null;return this._actor&&this._curFragment&&(e=this._actor.abortCurrentADGas(this._curFragment.idx),g["default"].log("=rollstream, abortCurrentADGas done, current = ",this._curFragment.idx,",next = ",e?e.idx:"ended"),this._sendAdEnded(),this._changeCurrFrag(e),this.done||null!=e||(this._abortNextFrag=!0)),null==e&&this.done}},{key:"recoverImmediately",value:function(e){this.needInitSegment=!0,this._actor&&(this._actor._destroySchedules(),this._actor.drainBuffer())}},{key:"recoverImmediatelyed",value:function(){this._actor&&this._actor._initSchedules()}}]),t}(w["default"]);t["default"]=L},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(314),r=a(n),o=i(69),s=a(o),d=i(138),u=a(d),l=i(73),c=a(l),f=i(74),_=a(f),h=i(75),p=a(h),b=i(79),g=a(b),v=i(88),m=a(v),y=i(93),x=a(y),k=i(312),w=a(k),S=i(120),T=a(S),A=i(141),I=a(A),E=i(299),P=a(E),D=i(114),q=a(D),O=0,R={STAGE_BEGIN:"stage_event_"+O++,STAGE_END:"stage_event_"+O++,PLAYING_STREAM_CHANGED:"stage_event_"+O++,PLAYING_STREAM_PROGRESS:"stage_event_"+O++,ROLL_EOD:"stage_event_"+O++,MOVIE_EOD:"stage_event_"+O++},L=function(e){function t(e){(0,c["default"])(this,t);var i=(0,_["default"])(this,(t.__proto__||(0,s["default"])(t)).call(this));return i._ctx=e,i._set=new r["default"],i._playingStream=null,i._playingStreamBufferEnd=0,i}return(0,g["default"])(t,e),(0,p["default"])(t,[{key:"playingStream",get:function(){return this._playingStream},set:function(e){if(this.has(e)){var t=e instanceof w["default"]&&e.isAD;x["default"].log("stage change playing stream to "+e.TAG+" , isAD = "+t),this._playingStream=e,this.emit(R.PLAYING_STREAM_CHANGED,e)}else x["default"].warn("playing stream change failed~")}},{key:"isRolling",get:function(){var e=this._playingStream,t=!!e;return t&&(t=e===this.rollStream&&e.isAD),t}},{key:"isPatching",get:function(){var e=this._playingStream,t=!!e;return t&&(t=e===this.patchStream&&!e.isAD),t}},{key:"isLast",get:function(){var e=this._playingStream,t=!!e;return t&&(t=e===this.movieStream&&!this._hasPatch||e==this.patchStream),t}},{key:"_hasPatch",get:function(){var e=this.patchStream;return e&&e.rollType==T["default"].POST_ROLL&&!e.error}},{key:"rollStream",get:function(){var e=null,t=!0,i=!1,a=void 0;try{for(var n,r=(0,u["default"])(this.values());!(t=(n=r.next()).done);t=!0){var o=n.value;if(o instanceof w["default"]&&o.isAD){e=o;break}}}catch(e){i=!0,a=e}finally{try{!t&&r["return"]&&r["return"]()}finally{if(i)throw a}}return e}},{key:"movieStream",get:function(){var e=null,t=!0,i=!1,a=void 0;try{for(var n,r=(0,u["default"])(this.values());!(t=(n=r.next()).done);t=!0){var o=n.value;if(o instanceof I["default"]){e=o;break}}}catch(e){i=!0,a=e}finally{try{!t&&r["return"]&&r["return"]()}finally{if(i)throw a}}return e}},{key:"matStream",get:function(){var e=null,t=!0,i=!1,a=void 0;try{for(var n,r=(0,u["default"])(this.values());!(t=(n=r.next()).done);t=!0){var o=n.value;if(o instanceof P["default"]){e=o;break}}}catch(e){i=!0,a=e}finally{try{!t&&r["return"]&&r["return"]()}finally{if(i)throw a}}return e}},{key:"patchStream",get:function(){var e=null,t=!0,i=!1,a=void 0;try{for(var n,r=(0,u["default"])(this.values());!(t=(n=r.next()).done);t=!0){var o=n.value;if(o instanceof w["default"]&&!o.isAD){e=o;break}}}catch(e){i=!0,a=e}finally{try{!t&&r["return"]&&r["return"]()}finally{if(i)throw a}}return e}},{key:"size",get:function(){return this._set.size}}]),(0,p["default"])(t,[{key:"_startSchedules",value:function(){var e=this;this._destroySchedules(),this._secClockTimer=new q["default"](function(){return e._doSecClockJob()}),this._secClockTimer.scheduleRepeated(1)}},{key:"_destroySchedules",value:function(){this._secClockTimer&&(this._secClockTimer.cancel(),this._secClockTimer=null)}},{key:"add",value:function(e){var t=!1,i=!1;if(e instanceof w["default"])if(e.isAD){if(t=!0,this.rollStream)return x["default"].error("stage should has only one roll stream"),this;if(e.rollType===T["default"].PRE_ROLL&&this.movieStream)return x["default"].error("stage now has a movie stream, but add a pre roll"),this}else if(this.patchStream)return x["default"].error("stage should has only one patch stream"),this;return e instanceof I["default"]&&(i=!0,this.movieStream)?(x["default"].error("stage should has just a movie stream"),this):e instanceof P["default"]&&this.matStream?(x["default"].error("stage should has just a mat stream"),this):(this._set.add(e),1===this.size&&(t||i)&&(this.playingStream=e,this.emit(R.STAGE_BEGIN),this._startSchedules()),this)}},{key:"clear",value:function(){this._playingStream=null,this._set.clear()}},{key:"delete",value:function(e){return this._set["delete"](e)}},{key:"forEach",value:function(e,t){t?this._set.forEach(e,t):this._set.forEach(e)}},{key:"has",value:function(e){return this._set.has(e)}},{key:"keys",value:function(){return this._set.keys()}},{key:"values",value:function(){return this._set.values()}},{key:"entries",value:function(){return this._set.entries()}},{key:"endOfPlayingStream",value:function(){this.tryToSwitchStream(!0)}},{key:"tryToSwitchStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._playingStream;if(t){var i=t instanceof w["default"]&&!t.isAD,a=t instanceof w["default"]&&t.isAD,n=t instanceof I["default"],r=this.rollStream,o=this.patchStream,s=this.movieStream;if(a){if(e){var d=t.rollType;switch(d){case T["default"].PRE_ROLL:case T["default"].MID_ROLL:s&&(this.playingStream=s);break;case T["default"].POST_ROLL:this.emit(R.STAGE_END)}this["delete"](t),t.destroy(),t=null}}else if(n){if(e)this._hasPatch?this.playingStream=o:r&&r.rollType==T["default"].POST_ROLL?this.playingStream=r:this.emit(R.STAGE_END);else if(r&&r.rollType===T["default"].MID_ROLL){var u=r.offset,l=t.currentTime;if(l>=u){this.playingStream=r;var c=l+.1;t.needInitSegment=!0,t.range(c),t.seek(c)}}}else i&&e&&(t.rollType==T["default"].POST_ROLL&&(r&&r.rollType==T["default"].POST_ROLL?this.playingStream=r:this.emit(R.STAGE_END)),this["delete"](t),t.destroy(),t=null)}}},{key:"_doSecClockJob",value:function(){var e=this._playingStream;if(e){if(!e.hasNoticeEOD&&e.eod)switch(e){case this.movieStream:e.hasNoticeEOD=!0,this.emit(R.MOVIE_EOD);break;case this.rollStream:e.hasNoticeEOD=!0,this.emit(R.ROLL_EOD)}var t=e.buffer.end;t!==this._playingStreamBufferEnd&&(this._playingStreamBufferEnd=t,this.emit(R.PLAYING_STREAM_PROGRESS))}}}]),t}(m["default"]);L.Events=R,t["default"]=L},function(e,t,i){e.exports={"default":i(315),__esModule:!0}},function(e,t,i){i(66),i(5),i(49),i(316),i(323),i(326),i(328),e.exports=i(13).Set},function(e,t,i){var a=i(317),n=i(318);e.exports=i(319)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return a.def(n(this,"Set"),e=0===e?0:e,e)}},a)},function(e,t,i){var a=i(17).f,n=i(30),r=i(271),o=i(14),s=i(261),d=i(262),u=i(9),l=i(52),c=i(272),f=i(21),_=i(57).fastKey,h=i(318),p=f?"_s":"size",b=function(e,t){var i,a=_(t);if("F"!==a)return e._i[a];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,u){var l=e(function(e,a){s(e,l,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[p]=0,void 0!=a&&d(a,i,e[u],e)});return r(l.prototype,{clear:function(){for(var e=h(this,t),i=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete i[a.i];e._f=e._l=void 0,e[p]=0},"delete":function(e){var i=h(this,t),a=b(i,e);if(a){var n=a.n,r=a.p;delete i._i[a.i],a.r=!0,r&&(r.n=n),n&&(n.p=r),i._f==a&&(i._f=n),i._l==a&&(i._l=r),i[p]--}return!!a},forEach:function(e){h(this,t);for(var i,a=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(a(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!b(h(this,t),e)}}),f&&a(l.prototype,"size",{get:function(){return h(this,t)[p]}}),l},def:function(e,t,i){var a,n,r=b(e,t);return r?r.v=i:(e._l=r={i:n=_(t,!0),k:t,v:i,p:a=e._l,n:void 0,r:!1},e._f||(e._f=r),a&&(a.n=r),e[p]++,"F"!==n&&(e._i[n]=r)),e},getEntry:b,setStrong:function(e,t,i){u(e,t,function(e,i){this._t=h(e,t),this._k=i,this._l=void 0},function(){for(var e=this,t=e._k,i=e._l;i&&i.r;)i=i.p;return e._t&&(e._l=i=i?i.n:e._t._f)?"keys"==t?l(0,i.k):"values"==t?l(0,i.v):l(0,[i.k,i.v]):(e._t=void 0,l(1))},i?"entries":"values",!i,!0),c(t)}}},function(e,t,i){var a=i(19);e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,i){var a=i(12),n=i(11),r=i(57),o=i(22),s=i(16),d=i(271),u=i(262),l=i(261),c=i(19),f=i(45),_=i(17).f,h=i(320)(0),p=i(21);e.exports=function(e,t,i,b,g,v){var m=a[e],y=m,x=g?"set":"add",k=y&&y.prototype,w={};return p&&"function"==typeof y&&(v||k.forEach&&!o(function(){(new y).entries().next()}))?(y=t(function(t,i){l(t,y,e,"_c"),t._c=new m,void 0!=i&&u(i,g,t[x],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in k&&(!v||"clear"!=e)&&s(y.prototype,e,function(i,a){if(l(this,y,e),!t&&v&&!c(i))return"get"==e&&void 0;var n=this._c[e](0===i?0:i,a);return t?this:n})}),v||_(y.prototype,"size",{get:function(){return this._c.size}})):(y=b.getConstructor(t,e,g,x),d(y.prototype,i),r.NEED=!0),f(y,e),w[e]=y,n(n.G+n.W+n.F,w),v||b.setStrong(y,e,g),y}},function(e,t,i){var a=i(14),n=i(35),r=i(48),o=i(38),s=i(321);e.exports=function(e,t){var i=1==e,d=2==e,u=3==e,l=4==e,c=6==e,f=5==e||c,_=t||s;return function(t,s,h){for(var p,b,g=r(t),v=n(g),m=a(s,h,3),y=o(v.length),x=0,k=i?_(t,y):d?_(t,0):void 0;y>x;x++)if((f||x in v)&&(p=v[x],b=m(p,x,g),e))if(i)k[x]=b;else if(b)switch(e){case 3:return!0;case 5:return p;case 6:return x;case 2:k.push(p)}else if(l)return!1;return c?-1:u||l?l:k}}},function(e,t,i){var a=i(322);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,i){var a=i(19),n=i(62),r=i(46)("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),a(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){var a=i(11);a(a.P+a.R,"Set",{toJSON:i(324)("Set")})},function(e,t,i){var a=i(102),n=i(325);e.exports=function(e){return function(){if(a(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},function(e,t,i){var a=i(262);e.exports=function(e,t){var i=[];return a(e,!1,i.push,i,t),i}},function(e,t,i){i(327)("Set")},function(e,t,i){var a=i(11);e.exports=function(e){a(a.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,i){i(329)("Set")},function(e,t,i){var a=i(11),n=i(15),r=i(14),o=i(262);e.exports=function(e){a(a.S,e,{from:function(e){var t,i,a,s,d=arguments[1];return n(this),t=void 0!==d,t&&n(d),void 0==e?new this:(i=[],t?(a=0,s=r(d,arguments[2],2),o(e,!1,function(e){i.push(s(e,a++))})):o(e,!1,i.push,i),new this(i))}})}},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(331),g=a(b),v=i(333),m=a(v),y=i(334),x=a(y),k=i(335),w=a(k),S=i(336),T=a(S),A=i(337),I=a(A),E=i(92),P=a(E),D=i(114),q=a(D),O=i(93),R=a(O),L=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));return a.ctx=e,a._config={},a._emit=a.emit,a.emit=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return this._emit.apply(this,[e,e].concat(i))},a._g=new T["default"](a,i),a._e=new w["default"](a,i),a._b=new x["default"](a,i),a._v=new g["default"](a,i),a._m=new m["default"](a,i),a._f=new I["default"](a,i),a._variantSwitching=!1,a._loop=!1,a._idleTimer=new q["default"](function(){return a.checkIdle()}),a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e}},{key:"error",get:function(){return this._v.error}},{key:"paused",get:function(){return this._v.paused}},{key:"ended",get:function(){return this._v.ended}},{key:"updating",get:function(){return this._b.updating}},{key:"videoBufferUpdating",get:function(){return this._b.videoBufferUpdating}},{key:"audioBufferUpdating",get:function(){return this._b.audioBufferUpdating}},{key:"sourceBuffersCreated",get:function(){return this._b.sourceBuffersCreated}},{key:"hasVideoBuffer",get:function(){return this._b.hasVideoBuffer}},{key:"hasAudioBuffer",get:function(){return this._b.hasAudioBuffer}},{key:"hasOperateBufferData",get:function(){return this._b.hasOperateBufferData}},{key:"seeking",get:function(){return this._v.seeking}},{key:"playHeadTime",get:function(){return this._v.playHeadTime}},{key:"currentTime",get:function(){return this._v.currentTime},set:function(e){this._v.currentTime=parseFloat(e)}},{key:"duration",get:function(){return this._m.duration},set:function(e){e===this.duration||this.updating||"open"!==this.mseReadyState||(this._m.duration=e)}},{key:"dataDuration",get:function(){return this._duration||0},set:function(e){this._duration=e}},{key:"buffered",get:function(){return this._v.buffered}},{key:"videoBuffered",get:function(){var e=null,t=this._b.videoSourceBuffer;return t&&(e=t.buffered),e}},{key:"audioBuffered",get:function(){var e=null,t=this._b.audioSourceBuffer;return t&&(e=t.buffered),e}},{key:"currentTimeRange",get:function(){for(var e=null,t=this._v.buffered,i=this.currentTime,a=0;a<t.length;a++){var n=t.start(a),r=t.end(a);if(n<=i&&i<r){e={start:n,end:r};break}}return e}},{key:"variantSwitching",get:function(){return this._variantSwitching},set:function(e){this._variantSwitching=e}},{key:"appendWindowStart",get:function(){return this._b.appendWindowStart},set:function(e){this._b.appendWindowStart=e}},{key:"appendWindowEnd",get:function(){return this._b.appendWindowEnd},set:function(e){this._b.appendWindowEnd=e}},{key:"drmInfo",set:function(e){this._e.setDrmInfo(e)}},{key:"isEndOfStream",get:function(){return"ended"===this.mseReadyState}},{key:"readyState",get:function(){return this._v.readyState}},{key:"mseReadyState",get:function(){return this._m.readyState}},{key:"playbackRate",get:function(){return this._v.playbackRate}},{key:"playbackQuality",get:function(){return this._v.playbackQuality}}],[{key:"probeSupport",value:function(){return w["default"].probeSupport().then(function(e){return{media:m["default"].probeSupport(),drm:e}})}}]),(0,c["default"])(t,[{key:"configure",value:function(e){this._config=e}},{key:"reset",value:function(){R["default"].log("media reset"),this.abort(),this._idleTimer.schedule(0),this._f.reset(),this._g.reset(),this._e.reset(),this._b.reset(),this._v.reset(),this._m.reset()}},{key:"pause",value:function(){this._v.pause()}},{key:"appendBuffer",value:function(e){this.emit(P["default"].BUFFER_APPENDING,e)}},{key:"flushBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.emit(P["default"].BUFFER_FLUSHING,e,t,i)}},{key:"endOfStream",value:function(){return this.updating&&this.abort(),this._m.endOfStream()}},{key:"abort",value:function(){this._b.abort()}},{key:"withinBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._b.withinBuffer(e,t,i)}},{key:"clearOperateBuffers",value:function(e){return this._b.clearOperateBuffers(e)}},{key:"bufferInfo",value:function(e,t){return this._b.bufferInfo(e,this.ctx.config.maxBufferHole,t)}},{key:"startReportFPS",value:function(){this._f.startReportFPS()}},{key:"stopReportFPS",value:function(){this._f.stopReportFPS()}},{key:"destroy",value:function(){this._idleTimer.cancel(),this._g.destroy(),this._e.destroy(),this._b.destroy(),this._v.destroy(),this._m.destroy(),this._f.destroy(),this._idleTimer=null}},{key:"checkIdle",value:function(){this.ctx.error||(this.emit(P["default"].MEDIA_IDLE),this._idleTimer.schedule(.2))}},{key:"resetStalledGap",value:function(e){this._g.resetStalledGap(e)}}]),t}(p["default"]);t["default"]=L},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(332),p=a(h),b=i(92),g=a(b),v=i(93),m=a(v),y=i(112),x=a(y),k=i(105),w=a(k),S=i(108),T=a(S),A=i(134),I=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,g["default"].MSE_ATTACHING,g["default"].MSE_ATTACHED));return a._eventManager=new x["default"],a._video=i,a._playheadTime=a.currentTime,a._bind(),a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"seeking",get:function(){return this._video.seeking}},{key:"currentTime",get:function(){return this._video.currentTime},set:function(e){var t=this.ctx,i=this.readyState;if((0,A.isNumber)(e)){if(T["default"].browser.SAFARI){var a=t.config.safariMinStartTime;e<a&&(e=a)}this._playheadTime=e,i>0&&(this._video.currentTime=e)}}},{key:"playHeadTime",get:function(){return this._playheadTime}},{key:"duration",get:function(){return this._video.duration}},{key:"buffered",get:function(){return this._video.buffered}},{key:"error",get:function(){return this._video.error}},{key:"readyState",get:function(){return this._video.readyState}},{key:"paused",get:function(){return this._video.paused}},{key:"ended",get:function(){return this._video.ended}},{key:"playbackRate",get:function(){var e=this._video.playbackRate;return"number"!=typeof e&&(e=1),e}},{key:"playbackQuality",get:function(){var e=this._video,t="function"==typeof e.getVideoPlaybackQuality,i=0,a=0,n=0;if(t){var r=e.getVideoPlaybackQuality();a=r.totalVideoFrames,n=r.droppedVideoFrames,i=a}else{var o=e.webkitDecodedFrameCount,s=e.webkitDroppedFrameCount;void 0!==o&&void 0!==s&&(a=o,n=s,i=a)}return{totalVideoFrames:i,decodedVideoFrames:a,droppedVideoFrames:n}}}]),(0,c["default"])(t,[{key:"destroy",value:function(){this._unbind(),this.reset(),this._video=null}},{key:"reset",value:function(){}},{key:"pause",value:function(){this._video.pause()}},{key:"onMSEAttaching",value:function(e){this._playheadTime=0,this._video.load(),this._video.src=URL.createObjectURL(e)}},{key:"onMSEAttached",value:function(){URL.revokeObjectURL(this._video.src)}},{key:"_bind",value:function(){var e=this._video;this._eventManager.on(e,"error",this._onError.bind(this)),this._eventManager.on(e,"encrypted",this._onEncrypted.bind(this)),this._eventManager.on(e,"canplay",this._onCanplay.bind(this)),this._eventManager.on(e,"loadstart",this._onLoadstart.bind(this)),this._eventManager.on(e,"loadedmetadata",this._onLoadedMetadata.bind(this)),this._eventManager.on(e,"playing",this._onPlaying.bind(this)),this._eventManager.on(e,"waiting",this._onWaiting.bind(this)),this._eventManager.on(e,"pause",this._onPause.bind(this)),this._eventManager.on(e,"ended",this._onEnded.bind(this)),this._eventManager.on(e,"timeupdate",this._onTimeUpdate.bind(this)),this._eventManager.on(e,"seeking",this._onSeeking.bind(this)),this._eventManager.on(e,"seeked",this._onSeeked.bind(this))}},{key:"_unbind",value:function(){this._eventManager.removeAll()}},{key:"_onError",value:function(){var e=this.ctx,t=this._video;if(t.error){var i=t.error.code,a=t.error.msExtendedCode,n=t.error.message;switch(i){case 1:break;case 2:case 3:case 4:a&&(a<0&&(a+=Math.pow(2,32)),a=a.toString(16)),m["default"].error("video error, code("+i+"), message("+n+"), extended("+a+")"),e._emitError(new w["default"](w["default"].severity.RECOVERABLE,w["default"].category.MEDIA,w["default"].code.MEDIA_VIDEO_ERROR,i,n,a))}}}},{key:"_onTimeUpdate",value:function(){var e=this.media,t=this.currentTime,i=this._video,a=this.readyState;if(!(this.paused||a<=1||this._playheadTime===t)){var n=this,r=e.appendWindowEnd;this._playheadTime=t,t>0&&t>=r&&!this.seeking?(i.addEventListener("pause",function e(){i.removeEventListener("pause",e,!1),n._noticeStreamStop("timer")},!1),this.pause()):a>=3&&this._onPlaying({_isSimulating:!0}),e.emit(g["default"].STATE_CHANGE,{state:"timeupdate"})}}},{key:"_onLoadstart",value:function(){this.media.emit(g["default"].STATE_CHANGE,{state:"loadstart"})}},{key:"_onLoadedMetadata",value:function(){this.media.emit(g["default"].STATE_CHANGE,{state:"loadedmetadata"})}},{key:"_onCanplay",value:function(){this.media.emit(g["default"].STATE_CHANGE,{state:"canplay"})}},{key:"_onSeeking",value:function(){var e=this.media;this._playing=!1,this._playheadTime=this._video.currentTime,e.emit(g["default"].STATE_CHANGE,{state:"seeking"})}},{key:"_onSeeked",value:function(){this.media.emit(g["default"].STATE_CHANGE,{state:"seeked"})}},{key:"_onPause",value:function(){var e=this.media;this._playing=!1,e.emit(g["default"].STATE_CHANGE,{state:"pause"})}},{key:"_onEnded",value:function(){var e=this.media;e.emit(g["default"].STATE_CHANGE,{state:"beforeended"}),e.emit(g["default"].STATE_CHANGE,{state:"ended"}),e.emit(g["default"].STATE_CHANGE,{state:"afterended"})}},{key:"_onPlaying",value:function(e){var t=this.media;!this._playing&&(!e._isSimulating&&this.readyState>1||e._isSimulating)&&(this._playing=!0,t.emit(g["default"].STATE_CHANGE,{state:"playing"}))}},{key:"_onWaiting",value:function(){var e=this.media;this._playing=!1,e.emit(g["default"].STATE_CHANGE,{state:"waiting"})}},{key:"_onEncrypted",value:function(e){this.media.emit(g["default"].STREAM_ENCRYPTED,e)}},{key:"_noticeStreamStop",value:function(e){m["default"].log("stream stop, by the "+e),this._onEnded()}}]),t}(p["default"]);t["default"]=I},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(88),p=a(h),b=i(93),g=a(b),v=function(e){function t(e){(0,s["default"])(this,t);var i=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this));i.ctx=e.ctx,i.media=e;for(var a=arguments.length,n=Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];return i.handledEvents=n,i.injectListeners(),i}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"destroy",value:function(){this.unInjectListeners()}},{key:"injectListeners",value:function(){var e=this;this.handledEvents.forEach(function(t){if(void 0===t)throw new Error("Event type "+t+" in this "+e.constructor.name+" class @super");e.media.on(t,e._onEvent.bind(e))},this)}},{key:"unInjectListeners",value:function(){var e=this;this.handledEvents.forEach(function(t){e.media.off(t,e._onEvent)},this)}},{key:"_onEvent",value:function(e){var t=e.replace(/^qvs/gi,"on");if("function"!=typeof this[t])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+t+")");try{for(var i,a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];(i=this[t].bind(this)).call.apply(i,[this].concat(n))}catch(e){g["default"].error(e.stack?e.stack:e)}}}]),t}(p["default"]);t["default"]=v},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(332),p=a(h),b=i(92),g=a(b),v=i(93),m=a(v),y=i(112),x=a(y),k=i(105),w=a(k),S=i(134),T=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,g["default"].BUFFER_APPENDING));return a._video=i,a._eventManager=new x["default"],a._sourceBuffers={},a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"readyState",get:function(){return this.mse?this.mse.readyState:""}},{key:"duration",get:function(){return this.mse?this.mse.duration:0},set:function(e){this.mse.duration=e}},{key:"sourceBuffers",get:function(){return this.mse?this.mse.sourceBuffers:null}}],[{key:"probeSupport",value:function(){var e={};if(MediaSource&&MediaSource.isTypeSupported){['video/mp4; codecs="avc1.42E01E"','audio/mp4; codecs="mp4a.40.2"'].forEach(function(t){try{e[t]=MediaSource.isTypeSupported(t);var i=t.split(";")[0];e[i]=e[i]||e[t]}catch(e){}})}return e}}]),(0,c["default"])(t,[{key:"reset",value:function(){this._removeSourceBuffers(),this.detachMediaElement(),this._unbind(),this._sourceOpenEventTrulyFired=!1,m["default"].log("new MediaSource"),this.mse=new MediaSource,this._bind(),this.attachMediaElement()}},{key:"destroy",value:function(){this._unbind(),this._eventManager.destroy(),this._sourceOpenEventTrulyFired=!1,this._sourceBuffers=null,this._eventManager=null,this._video=null,this.mse=null}},{key:"endOfStream",value:function(){var e=this.media,t=this.mse,i="open"===t.readyState,a=e.readyState>=1;if(i&&a)return m["default"].log("end of stream!"),t.endOfStream(),!0;var n="no reason";return i?a||(n="video readyState("+e.readyState+") has no metadata"):n="mediaSource readyState is "+t.readyState,m["default"].log("end of stream, but "+n),!1}},{key:"attachMediaElement",value:function(){var e=this.media,t=this.mse;e.emit(g["default"].MSE_ATTACHING,t)}},{key:"detachMediaElement",value:function(){var e=this.media,t=this.mse;e.emit(g["default"].MSE_DETACHING,t)}},{key:"onBufferAppending",value:function(e){for(var t=this._sourceBuffers,i=!1,a=0;a<e.length;a++){var n=e[a],r=n.type;t[r]||(t[r]={created:!1,sourceBuffer:null,segment:n},i=!0)}i&&this._createSourceBuffers()}},{key:"_createSourceBuffers",value:function(){var e=this.ctx,t=this.media,i=this.mse,a=this._sourceBuffers,n=this._sourceOpenEventTrulyFired;if("open"===i.readyState){if(n&&!(0,S.isEmptyObject)(a)){var r={};for(var o in a){var s=a[o],d=s.segment,u=void 0;if(!s.created)try{var l=d.container+";codecs="+d.codec;m["default"].log("creating sourceBuffer("+l+")"),u=i.addSourceBuffer(""+l),s.created=!0,s.sourceBuffer=u}catch(t){return m["default"].error("mse add source error "+(t.stack||t.message)),e._emitError(new w["default"](w["default"].severity.RECOVERABLE,w["default"].category.MEDIA,w["default"].code.MEDIA_SOURCE_OPERATION_FAILED))}"video"===o?r.videoSourceBuffer=u:"audio"===o&&(r.audioSourceBuffer=u)}t.emit(g["default"].BUFFER_CREATED,r)}}else m["default"].error("mse create buffers failure, readyState: "+i.readyState)}},{key:"_removeSourceBuffers",value:function(){var e=(this.ctx,this.mse),t=this._sourceBuffers;for(var i in t){var a=t[i],n=a.sourceBuffer;a.sourceBuffer=null;try{a.created&&n&&e.removeSourceBuffer(n)}catch(e){}}this._sourceBuffers={}}},{key:"_bind",value:function(){var e=this.mse;this._eventManager.on(e,"error",this._onError.bind(this)),this._eventManager.on(e,"opened",this._onOpened.bind(this)),this._eventManager.on(e,"closed",this._onClosed.bind(this)),this._eventManager.on(e,"sourceopen",this._onSourceOpened.bind(this)),this._eventManager.on(e,"sourceended",this._onSourceEnded.bind(this))}},{key:"_unbind",value:function(){this._eventManager.removeAll()}},{key:"_onError",value:function(){}},{key:"_onOpened",value:function(){}},{key:"_onClosed",value:function(){this.media,this.mse}},{key:"_onSourceOpened",value:function(){var e=this.media,t=this.mse;if(t.sourceBuffers&&t.sourceBuffers.length>0)return void m["default"].log("media source opened error , bufferlength = "+t.sourceBuffers.length);this._sourceOpenEventTrulyFired=!0,m["default"].log("media source opened"),e.emit(g["default"].MSE_ATTACHED,t),t.removeEventListener("sourceopen",this._onSourceOpened),this._createSourceBuffers()}},{key:"_onSourceEnded",value:function(){}}]),t}(p["default"]);t["default"]=T},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(74),u=a(d),l=i(75),c=a(l),f=i(79),_=a(f),h=i(332),p=a(h),b=i(92),g=a(b),v=i(93),m=a(v),y=i(112),x=a(y),k=i(105),w=a(k),S=i(114),T=a(S),A=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,u["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,g["default"].BUFFER_APPENDING,g["default"].BUFFER_FLUSHING,g["default"].BUFFER_CREATED,g["default"].MSE_DETACHING));return a._video=i,a._eventManager=new x["default"],a._sourceBuffersCreated=!1,a.videoSourceBuffer=null,a.audioSourceBuffer=null,a._videoAddBufs=[],a._audioAddBufs=[],a._videoDelBufs=[],a._audioDelBufs=[],a._appendWindowStart=0,a._appendWindowEnd=Number.POSITIVE_INFINITY,a._appendTimer=new T["default"](function(){return a._checkAppend()}),a._audioAppendStarted=a.videoAppendStarted=!1,a}return(0,_["default"])(t,e),(0,c["default"])(t,[{key:"updating",get:function(){return this.audioBufferUpdating||this.videoBufferUpdating||this._videoAppendStarted||this._audioAppendStarted}},{key:"videoBufferUpdating",get:function(){var e=this.videoSourceBuffer;return!!e&&e.updating}},{key:"audioBufferUpdating",get:function(){var e=this.audioSourceBuffer;return!!e&&e.updating}},{key:"sourceBuffersCreated",get:function(){return this._sourceBuffersCreated}},{key:"hasVideoBuffer",get:function(){return!!this.videoSourceBuffer}},{key:"hasAudioBuffer",get:function(){return!!this.audioSourceBuffer}},{key:"hasOperateBufferData",get:function(){var e=!1;return this._videoAddBufs&&this._videoAddBufs.length>0?e=!0:this._audioAddBufs&&this._audioAddBufs.length>0?e=!0:this._videoDelBufs&&this._videoDelBufs.length>0?e=!0:this._audioDelBufs&&this._audioDelBufs.length>0&&(e=!0),e}},{key:"empty",get:function(){var e=this.videoSourceBuffer,t=this.audioSourceBuffer;return(!e||e&&0===e.buffered.length)&&(!t||t&&0===t.buffered.length)}},{key:"appendWindowEnd",get:function(){return this._appendWindowEnd},set:function(e){this._appendWindowEnd=e}},{key:"appendWindowStart",get:function(){return this._appendWindowStart},set:function(e){this._appendWindowStart=e}}]),(0,c["default"])(t,[{key:"reset",value:function(){[this._videoAddBufs,this._videoDelBufs,this._audioAddBufs,this._audioDelBufs].forEach(function(e){e.length>0&&e.splice(0,e.length)}),this._unbind(),this._appendTimer.cancel(),this._sourceBuffersCreated=!1,this.videoSourceBuffer=null,this.audioSourceBuffer=null,this._videoAppendStarted=this._audioAppendStarted=!1,this._appendWindowStart=0,this._appendWindowEnd=Number.POSITIVE_INFINITY}},{key:"destroy",value:function(){this.reset(),this._video=null,this._appendTimer=null,this._videoAddBufs=this._audioAddBufs=this._videoDelBufs=this._audioDelBufs=null,this._onUpdate=this._onUpdateStart=this._onUpdateEnd=this._onError=this._onAbort=null}},{key:"abort",value:function(){var e=this.media,t=this.videoSourceBuffer,i=this.audioSourceBuffer,a=this.videoBufferUpdating,n=this.audioBufferUpdating;if("open"===e._m.readyState&&e._m.sourceBuffers.length>0){if(a&&t)try{t.abort()}catch(e){m["default"].warn("video source buffer abort error, "+(e?e.message||e:""))}if(n&&i)try{i.abort()}catch(e){m["default"].warn("audio source buffer abort error, "+(e?e.message||e:""))}}}},{key:"withinBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this.audioSourceBuffer,n=this.videoSourceBuffer,r=[],o=[];return a&&r.push(a),n&&r.push(n),r.forEach(function(a){for(var n=a.buffered,r=0;r<n.length;r++)if(e>=n.start(r)+t&&e<n.end(r)-i){o.push(!0);break}}),o.length===r.length}},{key:"bufferInfo",value:function(e,t,i){var a=this.videoSourceBuffer,n=this.audioSourceBuffer,r=void 0,o=[],s=void 0;switch(i){case"video":r=a?a.buffered:null;break;case"audio":r=n?n.buffered:null;break;default:this._video&&(r=this._video.buffered)}if(r)for(s=0;s<r.length;s++)o.push({start:r.start(s),end:r.end(s)});return this.bufferedInfo(o,e,t)}},{key:"bufferedInfo",value:function(e,t,i){var a=[],n=void 0,r=void 0,o=void 0,s=void 0,d=void 0;for(e.sort(function(e,t){var i=e.start-t.start;return i||t.end-e.end}),d=0;d<e.length;d++){var u=a.length;if(u){var l=a[u-1].end;e[d].start-l<i?e[d].end>l&&(a[u-1].end=e[d].end):a.push(e[d])}else a.push(e[d])}for(d=0,n=0,r=o=t;d<a.length;d++){var c=a[d].start,f=a[d].end;if(t+i>=c&&t<f)r=c,o=f,n=o-t;else if(t+i<c){s=c;break}}return{len:n,start:r,end:o,nextStart:s}}},{key:"intersectBuffer",value:function(e,t,i){var a=!1;if(e)for(var n,r,o=e.buffered,s=0;s<o.length;s++)if(n=o.start(s),r=o.end(s),!(i<=n||t>=r)){a=!0;break}return a}},{key:"onMSEDetaching",value:function(){this.abort()}},{key:"onBufferCreated",value:function(e){this._unbind(),this._sourceBuffersCreated=!0,e.videoSourceBuffer&&(this.videoSourceBuffer=e.videoSourceBuffer),e.audioSourceBuffer&&(this.audioSourceBuffer=e.audioSourceBuffer),this._bind(),this._checkAppend()}},{key:"onBufferAppending",value:function(e){for(var t=this,i=0;i<e.length;i++)!function(i){var a=e[i],n=a.type;a.bytesArray.forEach(function(e){switch(n){case"video":t._videoAddBufs.push(e);break;case"audio":t._audioAddBufs.push(e)}})}(i);this.appending()}},{key:"onBufferFlushing",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=this.media,n=this.empty,r=this.videoSourceBuffer,o=this.audioSourceBuffer;n||"closed"===a._m.readyState?setTimeout(function(){a.emit(g["default"].BUFFER_FLUSHED)},10):(!r||""!==i&&"video"!==i||this._videoDelBufs.push({start:e,end:t}),!o||""!==i&&"audio"!==i||this._audioDelBufs.push({start:e,end:t}),this.flushing())}},{key:"appending",value:function(){var e=this,t=this.ctx,i=this.media,a=this.videoSourceBuffer,n=this.audioSourceBuffer;if(!i.error)if("closed"!==i._m.readyState){var r=[{contentType:"video",sb:a,adds:this._videoAddBufs},{contentType:"audio",sb:n,adds:this._audioAddBufs}];r.forEach(function(i,a){var n=i.sb;if(i.adds.length>0&&n&&!n.updating){var r=i.adds.shift(),o=i.contentType;"video"===o?e._videoAppendStarted=!0:"audio"===o&&(e._audioAppendStarted=!0);try{n._bufferedLength=n.buffered.length,n._updateType="+",n.appendBuffer(r)}catch(i){m["default"].warn(e._video.currentTime+" "+i.stack||i.message),22===i.code?t._emitError(new w["default"](w["default"].severity.RECOVERABLE,w["default"].category.MEDIA,w["default"].code.MEDIA_QUOTA_EXCEEDED,o)):t._emitError(new w["default"](w["default"].severity.CRITICAL,w["default"].category.MEDIA,w["default"].code.MEDIA_SOURCE_OPERATION_THREW,o,i))}}})}else this._appendTimer.cancel(),this._appendTimer.schedule(.1)}},{key:"flushing",value:function(){var e=this,t=this.media,i=this.audioSourceBuffer,a=this.videoSourceBuffer,n=t._m.readyState,r=!1;return[i,a].forEach(function(t){if(t)if("closed"===n||t.updating)"open"!==n&&m["default"].warn("flushing sb.updating: "+t.updating+", mediaSource state: "+n);else{for(var a=void 0,o=t===i?"audio":"video",s=t===i?e._audioDelBufs:e._videoDelBufs;s.length&&(a=s.shift(),!e.intersectBuffer(t,a.start,a.end));)a=null;a&&(a.end===Number.POSITIVE_INFINITY&&(a.end=t.buffered.end(t.buffered.length-1)),t._bufferedLength=t.buffered.length,t._updateType="-",r=!0,m["default"].log("flushing "+o+" ["+a.start+","+a.end+"] of "+t.buffered.length+" ranges, pos:"+e._video.currentTime),t.remove(a.start,a.end))}}),r}},{key:"_bind",value:function(){var e=this,t=this.videoSourceBuffer,i=this.audioSourceBuffer,a=[];t&&a.push({contentType:"video",sourceBuffer:t}),i&&a.push({contentType:"audio",sourceBuffer:i}),a.forEach(function(t){var i=t.contentType,a=t.sourceBuffer;e._eventManager.on(a,"updatestart",e._onUpdateStart.bind(e)),e._eventManager.on(a,"update",e._onUpdate.bind(e)),e._eventManager.on(a,"updateend",e._onUpdateEnd.bind(e)),e._eventManager.on(a,"abort",e._onAbort.bind(e)),e._eventManager.on(a,"error",e._onError.bind(e,i))})}},{key:"_unbind",value:function(){this._eventManager.removeAll()}},{key:"_onUpdateStart",value:function(e){var t=this.videoSourceBuffer,i=this.audioSourceBuffer,a=void 0,n=e.target;t&&n===t?a="video":i&&n===i&&(a="audio"),m["default"].log(a+" source buffer update start")}},{key:"_onUpdate",value:function(e){var t=this.videoSourceBuffer,i=this.audioSourceBuffer,a=e.target;t&&a===t?("video",this._videoAppendStarted=!1):i&&a===i&&("audio",this._audioAppendStarted=!1)}},{key:"_onUpdateEnd",value:function(e){var t=this.media,i=this.videoSourceBuffer,a=this.audioSourceBuffer,n=void 0,r=void 0,o=e.target,s=o._bufferedLength;if(i&&o===i?n="video":a&&o===a&&(n="audio"),"+"===o._updateType?r="append":"-"===o._updateType&&(r="remove"),t.emit(g["default"].BUFFER_UPDATED,{target:o,sourceBufferType:n,operateType:r,previousBufferedLength:s}),this._videoDelBufs.length>0||this._audioDelBufs.length>0){if(this.flushing())return}else"-"===o._updateType&&(o._updateType="",this.media.emit(g["default"].BUFFER_FLUSHED));this._videoAddBufs.length>0||this._audioAddBufs.length>0?this.appending():"+"===o._updateType&&(o._updateType="",t.variantSwitching&&(t.variantSwitching=!1),t.emit(g["default"].BUFFER_APPENDED)),m["default"].log(n+" source buffer update end")}},{key:"_onAbort",value:function(){this._audioAppendStarted=this._audioAppendStarted=!1,m["default"].warn("source buffer met abort.'")}},{key:"_onError",value:function(e,t){var i=this.ctx,a=t.timeStamp,n=t.target,r=t.currentTarget,o=t.srcElement,s=r||n||o||{},d=this._video.error?this._video.error.code:0;this._appendTimer.cancel(),this._audioAppendStarted=this.videoAppendStarted=!1,m["default"].error(e+" source buffer met error, video code("+d+"), timeStamp("+a+"), mode("+s.mode+")"),i._emitError(new w["default"](w["default"].severity.RECOVERABLE,w["default"].category.MEDIA,w["default"].code.MEDIA_SOURCE_OPERATION_FAILED,d))}},{key:"_checkAppend",value:function(){(this._videoAddBufs.length>0||this._audioAddBufs.length>0)&&(this.appending(),this._appendTimer.schedule(.1))}},{key:"clearOperateBuffers",value:function(e){var t=!0,i=!0;"video"===e?t=!1:"audio"===e&&(i=!1),t&&this._audioAddBufs.length>0&&(this._audioAddBufs=[]),i&&this._videoAddBufs.length>0&&(this._videoAddBufs=[])}}]),t}(p["default"]);t["default"]=A},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(254),r=a(n),o=i(257),s=a(o),d=i(138),u=a(d),l=i(69),c=a(l),f=i(258),_=a(f),h=i(73),p=a(h),b=i(74),g=a(b),v=i(75),m=a(v),y=i(79),x=a(y),k=i(332),w=a(k),S=i(92),T=a(S),A=i(251),I=a(A),E=i(93),P=a(E),D=i(132),q=a(D),O=i(133),R=a(O),L=i(105),M=a(L),C=i(107),F=a(C),N=i(112),V=a(N),U=i(134),B=function(e){function t(e,i){(0,p["default"])(this,t);var a=(0,g["default"])(this,(t.__proto__||(0,c["default"])(t)).call(this,e,T["default"].STREAM_ENCRYPTED));return a.sessions=[],a.licenseRequests=[],a.drmInfo={},a._video=i,a._eventManager=new V["default"],a}return(0,x["default"])(t,e),(0,m["default"])(t,[{key:"isSupported",get:function(){return!!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)}},{key:"error",get:function(){return null}}],[{key:"probeSupport",value:function(){var e={},t=[];if((0,U.isHttps)()){var i=["com.widevine.alpha","com.microsoft.playready"],a=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n={videoCapabilities:a},r={videoCapabilities:a,persistentState:"required",sessionTypes:["persistent-license"]},o=[r,n];i.forEach(function(i){try{var a=navigator.requestMediaKeySystemAccess(i,o).then(function(t){var a=t.getConfiguration().sessionTypes,n=!!a&&a.indexOf("persistent-license")>=0;return e[i]={persistentState:n},t.createMediaKeys()})["catch"](function(){e[i]=null});t.push(a)}catch(e){}})}return _["default"].all(t).then(function(){return e})}}]),(0,m["default"])(t,[{key:"destroy",value:function(){this._unbind(),this.reset(),this._video=null,this.licenseRequests=null,this.sessions=null,this.drmInfo=null}},{key:"reset",value:function(){var e=(this.ctx,this.sessions),t=this.licenseRequests;if(e.length>0&&e.splice(0,e.length),t.length>0){for(var i=0;i<t.length;i++)t[i]._destroyed=!0;t.splice(0,t.length)}}},{key:"setDrmInfo",value:function(e){this.drmInfo=e?{keySystem:e.keySystem,licenseServerUri:e.keySystemServer,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]}:{}}},{key:"_unbind",value:function(){this._eventManager.removeAll()}},{key:"_onMediaKeySessionMessage",value:function(e){var t=this.ctx,i=this.media,a=this.drmInfo,n=this.licenseRequests,r=i._config,o=e.target,s=e.message,d=e.messageType;if(!a.licenseServerUri)return t._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_NO_LICENSE_SERVER_GIVEN));var u=t.netProxy.makeRequestContext([a.licenseServerUri],(0,F["default"])(r.drm.retryParameters,t.netProxy.defaultRetryParameters));u.method="POST",u.body=s,u.licenseRequestType=d,u.callbacks=(0,F["default"])(u.callbacks,{onSuccess:function(e){var i=e.data;if(i&&i.byteLength>0){var a=new Uint8Array(i);P["default"].log("drm=== requestlicenseserver ok "),o.update(a)["catch"](function(e){P["default"].error("update() failed, "+e.message),t._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_LICENSE_RESPONSE_REJECTED,e.message))})}else t._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_NO_LICENSE_SERVER_RESPONSE))},onError:function(){t._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_LICENSE_REQUEST_ERROR))},onTimeout:function(e,i){t._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_LICENSE_REQUEST_TIMEOUT))},onAbort:function(){},onComplete:function(){}},!0),"com.microsoft.playready"!==a.keySystem&&"com.chromecast.playready"!==a.keySystem||this.unpackPlayReadyRequest_(u),P["default"].log("drm=== requestlicenseserver "+a.licenseServerUri);var l=t.netProxy.request(I["default"].LICENSE,u);n.push(l)}},{key:"_onMediaKeySessionStatusChange",value:function(e){var t=e.target,i=t.keyStatuses;if("com.microsoft.playready"==this.drmInfo.keySystem)this._onSessionStatusChangePlayready(i,t.sessionId);else{var a=!0,n=!1,r=void 0;try{for(var o,s=(0,u["default"])(i.entries());!(a=(o=s.next()).done);a=!0){var d=o.value,l=d[0],c=d[1],f=q["default"].toBase64(new Uint8Array(l)),_=R["default"].base64ToHex(f);P["default"].log("SessionId="+t.sessionId+" keyId="+_+" status="+c)}}catch(e){n=!0,r=e}finally{try{!a&&s["return"]&&s["return"]()}finally{if(n)throw r}}}}},{key:"onStreamEncrypted",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s["default"])(r["default"].mark(function e(t){var i,a,n,o,s;return r["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.ctx,a=this._video,n=new Uint8Array(t.initData),o=t.initDataType,P["default"].log("drm=== onStreamEncrypted,initdata = ",n.length),!this.isSupported){e.next=23;break}return e.prev=6,e.next=9,this._queryMediaKeys();case 9:return s=e.sent,e.next=12,this._setMediaKeys(a,s);case 12:return P["default"].log("drm=== _createSession,initdata = ",n.length,",initDataType = "+o),e.next=15,this._createSession(a,o,n);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](6),P["default"].error("Encrypted session error: "+("string"==typeof e.t0?e.t0:e.t0.message)),i._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_NO_RECOGNIZED_ERROR));case 21:e.next=24;break;case 23:i._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_NO_BASIC_SUPPORT));case 24:case"end":return e.stop()}},e,this,[[6,17]])}));return e}()},{key:"_queryMediaKeys",value:function(){var e=this.ctx,t=this.drmInfo;return this._queryMediaKeysPromise||(this._queryMediaKeysPromise=new _["default"](function(i,a){var n=[];void 0===MediaKeySystemAccess.prototype.getConfiguration?(P["default"].warn("Detected obsolete navigator.requestMediaKeySystem options style."),n=[{initDataType:"cenc",distinctiveIdentifier:"optional",persistentState:"optional",videoType:'video/mp4; codecs="avc1.64001f"',audioType:'audio/mp4; codecs="mp4a.40.5"'}]):n=[{initDataTypes:["cenc"],distinctiveIdentifier:"optional",persistentState:"optional",videoCapabilities:[{contentType:'video/mp4; codecs="avc1.64001f"'}],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.5"'}]}],navigator.requestMediaKeySystemAccess(t.keySystem,n).then(function(e){e.getConfiguration();return e.createMediaKeys()},function(t){e._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE)),a("requestMediaKeySystemAccess fail: "+t+"!")}).then(function(e){i(e)},function(t){e._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_FAILED_TO_CREATE_CDM)),a("createMediaKeys fail: "+t)})})),this._queryMediaKeysPromise}},{key:"_setMediaKeys",value:function(){function e(e,i){return t.apply(this,arguments)}var t=(0,s["default"])(r["default"].mark(function e(t,i){var a;return r["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.ctx,this._setMediaKeysPromise||(this._setMediaKeysPromise=t.setMediaKeys(i),this._setMediaKeysPromise["catch"](function(e){a._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_FAILED_TO_ATTACH_TO_VIDEO))})),e.abrupt("return",this._setMediaKeysPromise);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"_createSession",value:function(){function e(e,i,a){return t.apply(this,arguments)}var t=(0,s["default"])(r["default"].mark(function e(t,i,a){var n,o,s,d;return r["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.ctx,o=this.sessions,s=0;case 2:if(!(s<o.length)){e.next=8;break}if(!q["default"].equal(a,o[s].initData)){e.next=5;break}return e.abrupt("return",P["default"].log("Ignoring duplicate init data."));case 5:++s,e.next=2;break;case 8:if(!t.mediaKeys){e.next=24;break}d=void 0,e.prev=10,d=t.mediaKeys.createSession(),e.next=18;break;case 14:return e.prev=14,e.t0=e["catch"](10),P["default"].error(e.t0.message),e.abrupt("return",n._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_FAILED_TO_CREATE_SESSION)));case 18:o.push({initData:a,session:d,loaded:!1,oldExpiration:1/0}),this._eventManager.on(d,"message",this._onMediaKeySessionMessage.bind(this)),this._eventManager.on(d,"keystatuseschange",this._onMediaKeySessionStatusChange.bind(this)),this._mediaKeySessionPromise=d.generateRequest(i,a),e.next=25;break;case 24:this._mediaKeySessionPromise=_["default"].resolve();case 25:return this._mediaKeySessionPromise["catch"](function(e){P["default"].warn("initDataType("+i+"), initData("+a+")"),n._emitError(new M["default"](M["default"].severity.CRITICAL,M["default"].category.DRM,M["default"].code.DRM_FAILED_TO_GENERATE_LICENSE_REQUEST))}),e.abrupt("return",this._mediaKeySessionPromise);case 27:case"end":return e.stop()}},e,this,[[10,14]])}));return e}()},{key:"unpackPlayReadyRequest_",value:function(e){var t=R["default"].fromUTF16(e.body,!0,!0);if(!t.includes("PlayReadyKeyMessage"))return void(e.headers["Content-Type"]="text/xml; charset=utf-8");for(var i=(new DOMParser).parseFromString(t,"application/xml"),a=i.getElementsByTagName("HttpHeader"),n=0;n<a.length;++n){var r=a[n].querySelector("name"),o=a[n].querySelector("value");e.headers[r.textContent]=o.textContent}var s=i.querySelector("Challenge");e.body=q["default"].fromBase64(s.textContent).buffer}},{key:"_onSessionStatusChangePlayready",value:function(e,t){e.forEach(function(e,i){if("string"==typeof i){var a=i;i=e,e=a}if("com.microsoft.playready"==this.drmInfo.keySystem&&16==i.byteLength){var n=new DataView(i),r=n.getUint32(0,!0),o=n.getUint16(4,!0),s=n.getUint16(6,!0);n.setUint32(0,r,!1),n.setUint16(4,o,!1),n.setUint16(6,s,!1)}"com.microsoft.playready"==this.drmInfo.keySystem&&"status-pending"==e&&(e="usable");var d=q["default"].toBase64(new Uint8Array(i)),u=R["default"].base64ToHex(d);P["default"].log("SessionId="+t+" keyId="+u+" status="+e)}.bind(this))}}]),t}(w["default"]);t["default"]=B},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(332),p=a(h),b=i(92),g=a(b),v=i(93),m=a(v),y=i(143),x=a(y),k=i(105),w=a(k),S=i(134),T=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,g["default"].MEDIA_IDLE));return a._video=i,a}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"destroy",value:function(){}},{key:"reset",value:function(){this.stalled=null,this.nudgeRetry=0}},{key:"onMediaIdle",value:function(){this._checkBuffer()}},{key:"_checkBuffer",value:function(){var e=this.ctx,t=this.media,i=t._config,a=t.currentTime,n=t.playHeadTime,r=this._video;if(!e.error&&r&&!t.bufferOperating){var o=t.bufferInfo(a);if(!t.hasVideoBuffer&&!t.hasAudioBuffer)return t.emit(g["default"].BUFFER_EXPECTING,o);if(null===x["default"].getGapIndex(t.buffered,a))o.len<i.bufferExpectLength*Math.max(1,t.playbackRate)&&t.emit(g["default"].BUFFER_EXPECTING,o);else{[{type:"video",buffered:t.videoBuffered},{type:"audio",buffered:t.audioBuffered}].forEach(function(e,t,i){var n=e.type,r=e.buffered,o=x["default"].getGapIndex(r,a);if((0,S.isNumber)(o)&&o>0){var s={start:r.start(o-1),end:r.end(o-1)},d={start:r.start(o),end:r.end(o)};m["default"].warn("met "+n+" gap, currentTime: "+a+", gapIndex: "+o+", gapRange: "+s.end+"-"+d.start+", buffered length: "+r.length)}})}if(o.len>=0){var s=r.readyState,d=!(r.paused&&s>1||r.ended),u=performance.now();if(0===o.len&&t.seeking&&(this.stalled=null),t.readyState>=3&&this.resetStalledGap(),a!==n)this.stallReported&&(m["default"].warn("video not stuck anymore @"+a+", after "+Math.round((u-this.stalled)/1e3)+"s"),this.stallReported=!1),this.stalled=null,this.nudgeRetry=0;else if(d){var l=this.stalled?u-this.stalled:0,c=t.bufferInfo(a);if(!this.stalled)return void(this.stalled=u);l>=1e3&&(this.stallReported||(this.stallReported=!0,m["default"].warn("video stalling at @"+a+" due to low buffer"))),this._tryFixBufferStall(c,l)}}}}},{key:"_tryFixBufferStall",value:function(e,t){this.media;e.len>.5&&t>this._stalledGap&&(this.stalled=null,this._tryNudgeBuffer())}},{key:"_tryNudgeBuffer",value:function(){var e=this.ctx,t=this.media,i=t.currentTime,a=(this.nudgeRetry||0)+1;this.nudgeRetry=a;var n=t._config;if(a<n.nudgeMaxRetry){var r=i+a*n.nudgeOffset;m["default"].log("adjust currentTime from "+i+" to "+r),t.currentTime=r}else m["default"].error("still stuck in high buffer @"+i+" after "+n.nudgeMaxRetry+", raise fatal error"),e._emitError(new w["default"](w["default"].severity.RECOVERABLE,w["default"].category.MEDIA,w["default"].code.MEDIA_HIGH_BUFFER))}},{key:"resetStalledGap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._stalledGap=e?4e3:2e3}}]),t}(p["default"]);t["default"]=T},function(e,t,i){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(69),r=a(n),o=i(73),s=a(o),d=i(75),u=a(d),l=i(74),c=a(l),f=i(79),_=a(f),h=i(332),p=a(h),b=i(92),g=a(b),v=i(93),m=(a(v),i(112)),y=(a(m),i(114)),x=a(y),k=function(e){function t(e,i){(0,s["default"])(this,t);var a=(0,c["default"])(this,(t.__proto__||(0,r["default"])(t)).call(this,e,g["default"].MSE_ATTACHING));return a._video=i,a._checkFPSTimer=new x["default"](function(){return a._checkFPSInterval()}),a._shouldReport=!1,a._fpsFrequency=1,a._decodeFrameStuckCount=0,a}return(0,_["default"])(t,e),(0,u["default"])(t,[{key:"onMSEAttaching",value:function(){this._checkFPSTimer.scheduleRepeated(this._fpsFrequency)}},{key:"startReportFPS",value:function(){this._shouldReport=!0}},{key:"stopReportFPS",value:function(){this._shouldReport=!1}},{key:"_checkAndFixStuck",value:function(e){var t=this.ctx,i=this.media,a=document.hidden;"boolean"!=typeof a||a||i.paused||4!==i.readyState||(i.variantSwitching?this._decodeFrameStuckCount=0:this._decodeFrameStuckCount>t.config.fpsStuckMonitoringPeriod?(t.emit(g["default"].FPS_STUCK),this._decodeFrameStuckCount=0,t.recoverMedia()):0===e?this._decodeFrameStuckCount++:this._decodeFrameStuckCount=0)}},{key:"_checkFPS",value:function(e,t){var i=this.ctx,a=(this.media,performance.now());if(e){if(this._lastCheckFPSTime){var n=(this._lastCheckFPSTime,t-this._lastDroppedFrames),r=e-this._lastDecodedFrames;this._shouldReport&&i.emit(g["default"].FPS_REPORT,{currentDropped:n,currentDecoded:r}),this._checkAndFixStuck(r)}this._lastCheckFPSTime=a,this._lastDroppedFrames=t,this._lastDecodedFrames=e}}},{key:"_checkFPSInterval",value:function(){var e=this.media;if(this._video){var t=e.playbackQuality;this._checkFPS(t.totalVideoFrames,t.droppedVideoFrames)}}},{key:"destroy",value:function(){this.reset(),this._video=null,this._shouldReport=!1}},{key:"reset",value:function(){this._checkFPSTimer&&this._checkFPSTimer.cancel(),this._lastCheckFPSTime=null,this._lastDroppedFrames=null,this._lastDecodedFrames=null}}]),t}(p["default"]);t["default"]=k},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a=i(73),n=function(e){return e&&e.__esModule?e:{"default":e}}(a),r=function e(){(0,n["default"])(this,e),this.ffstm=0,this.ffetm=0,this.vclstm=0,this.vcletm=0,this.seekstm=0};t["default"]=r}])},function(e,t,i){var a;void 0!==(a=function(e,t,i){return{isEnjoyPlayer:function(){return"enjoy"===this.playerType},playerType:"",playerVersion:""}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(29),s=document.createDocumentFragment();a.exports=r("PluginBase",{construct:function(e,t){var i=this;i.skin=e,i.core=t,i.wrapper=e.videoWrapper,i.plgContainer=e.plgContainer,i.isOpen=!1,i.enabled=void 0,i.panelType="normal"},extend:n,methods:{open:function(){},close:function(){},destroy:function(){},enable:function(){var e=this;!1!==e.enabled&&void 0!==e.enabled||(e.enabled=!0,e.$plugin&&e.plgContainer.append(e.$plugin[0]),e.fire({type:o.NTF_PLG_Enable}))},disable:function(){var e=this;!0!==e.enabled&&void 0!==e.enabled||(e.enabled=!1,e.$plugin&&s.appendChild(e.$plugin[0]),e.skin.fire({type:o.NTF_PLG_Disable}))}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(0),o=i(3),s=i(8),d=i(11),u=(i(9),i(6)),l=i(5),c=i(4),f=i(2),_=i(18),h=i(7),p=i(37),b="1",g="10",v="101";c.browser.iPad?(b="2",g="20",v="202"):(c.os.ios||c.os.android)&&(b="2",g="20",v="202");var m=r("Pingback",{construct:function(e){this._core=e},extend:f,methods:{_send:function(e,t){var i=this;l.isVip(function(a){var n=i._core.getMovieInfo(),r={bstp:6,block:"B",pf:b,p:g,p1:v,c1:n.cid||"",r:n.tvid||"",u:s.getFluid()||"",u2:s.getJsuid()||"",pu:l.getUid(),pru:u.get("P00PRU")||"",v:p,ra:e.ra||i._core.getCurrentVD(),nu:s.getIsNewUser()||"",ve:s.getEid(),ce:s.getWeid(),hu:a?1:-1,ht:n.isVIP?1:0,mod:h.local(),plyrtp:1,coop:"",isdm:i._pbisdm,videotp:n.is3D,rn:Math.random()};try{o(r,{as:_.cmd5x(r.r+""+r.p1+r.u+r.ve+"ChEnYH0804FdadrrEDFf2016tT")})}catch(e){}r=o(r,e,t),d.beacon(r,"//msg.qy.net/b")})},sendSeekPingback:function(e,t){var i=this,a={rseat:"ply_seek",from:e,to:t};i._core.getMovieInfo().isShowHeatMap&&(a.s2="lvjing"),i._send(a)},sendSwitchVDPingback:function(e){var t=this;t._send({rseat:"ply_cc",tra:e,ra:t._core.getCurrentVD()})},sendUserActionPingback:function(e){this._send({rseat:e,t:20})},sendBlockPingback:function(e){var t=this,i={block:e,t:21};t._core.getMovieInfo().isShowHeatMap&&(i.s2="lvjing"),t._send(i,!0)},setpbisdm:function(e){this._pbisdm=e},sendBarrageShowRulePagePingback:function(){this._send({rseat:"608241_etiquette"})},sendBarrageShowLikePingback:function(){this._send({rseat:"608241_like"})},sendBarrageEnsureReportPingback:function(){this._send({rseat:"608241_report"})},sendUserClickPingback:function(e){this._send({rseat:e})},sendShowControlBarPingback:function(e){var t=this,i={block:"80720_playerctrl",t:21};t._core.getMovieInfo().isShowHeatMap&&(i.s2="lvjing"),t._send(i,!0)},sendSeekBarHoverPingback:function(e){var t=this,i={block:"80720_playerctrl_seekbar",t:21};e&&(i.s2="lvjing"),t._send(i,!0)},sendShowHeatMapPingback:function(e){this._send({block:"80720_playerctrl_lvjing",t:21,s2:"lvjing"},!0)}}});a.exports={init:function(e){n||(n=new m(e))},getInterface:function(){return n}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){function a(e){var t=e.target||e.srcElement;t.__resizeRAF__&&u(t.__resizeRAF__),t.__resizeRAF__=d(function(){var i=t.__resizeTrigger__;i.__resizeListeners__.forEach(function(t){t.call(i,e)})})}function n(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",a)}var r=document.attachEvent,o=navigator.userAgent.match(/Trident/),s=null,d=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),u=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),l=function(e,t){if(!s.__resizeListeners__)if(s.__resizeListeners__=[],r)s.__resizeTrigger__=s,s.attachEvent("onresize",a);else{var i=s.__resizeTrigger__=document.createElement("object");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),i.__resizeElement__=s,i.onload=n,i.type="text/html",o&&s.appendChild(i),i.data="about:blank",o||s.appendChild(i)}s.__resizeListeners__.push(t)},c=function(e,t){s.__resizeListeners__.splice(s.__resizeListeners__.indexOf(t),1),s.__resizeListeners__.length||(r?s.detachEvent("onresize",a):(s.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",a),s.__resizeTrigger__=!s.removeChild(s.__resizeTrigger__)))},f=function(e){s=e};i.exports={on:l,off:c,registElement:f}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports=function(){var e=!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach,t=window.MediaSource||window.WebKitMediaSource,i=window.SourceBuffer||window.WebKitSourceBuffer,a=window.URL,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');!i||i.prototype&&"function"==typeof i.prototype.appendBuffer&&i.prototype.remove;return e&&!!a&&!!n}()}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports={PlayerType_Html5VOD:"h5_VOD",PlayerType_FlashVOD:"flash_VOD",PlayerType_Null:"null",QYPLAYER_STATUS_DATA_READY:"dataready",QYPLAYER_STATUS_AD_START_PLAY:"adstartplay",QYPLAYER_STATUS_AD_PLAYING:"adplaying",QYPLAYER_STATUS_AD_PAUSED:"adpaused",QYPLAYER_STATUS_AD_RESUMED:"adresumed",QYPLAYER_STATUS_READY:"ready",QYPLAYER_STATUS_START_PLAY:"startplay",QYPLAYER_STATUS_SEEKING:"seeking",QYPLAYER_STATUS_WAITING:"waiting",QYPLAYER_STATUS_PAUSED:"paused",QYPLAYER_STATUS_PLAYING:"playing",QYPLAYER_STATUS_STOPED:"stoped",QYPLAYER_STATUS_ERROR:"error",QYPLAYER_STATUS_END_PLAY:"endplay",QYPLAYER_LOAD_COMPLETE:"loadcomplete",QYPLAYER_LOAD_SUCCESS:"playerLoadSuccess",QYPLAYER_STATE_CHANGE:"playerStateChange",QYPLAYER_VIDEO_CHANGE:"videoChanged",QYPLAYER_VID_CHANGE:"vidChanged"}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a={},n={api:a,get:function(){return this.api},set:function(e){this.api=e}};i.exports=n}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(15),o=i(1),s=new o("comscore"),d=!1,u=function(){return function(){return d&&(n=new ns_.ReducedRequirementsStreamingAnalytics({publisherId:"26181340"})),n}}();!function(){r.seriesLoadScripts("//static.iqiyi.com/js/player_v1/sdk/comscore.streaming.6.1.0.170130.min.js",function(e){e?d=!0:(d=!1,s.error("loader comscore sdk failed!"))})}(),a.exports={create:u,playVideoContent:function(e,t){d&&n&&n.playVideoContentPart(e,t)},playVideoAdvertisement:function(e,t){if(d&&n){var i=e||{ns_st_cl:"0"};n.playVideoAdvertisement(i,t)}},stop:function(){d&&n&&n.stop()},destroy:function(){n=null}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(1),o=i(14),s=(i(5),i(17),i(10)),d=i(3),u=i(9),l=i(22),c=i(88),f=i(20),_=i(27),h=i(38),p=i(89),b=new r("baseEngine");a.exports=n("baseEngine",{extend:c,construct:function(e,t){var i=this;i._param=t,i._isAd=!1,i._startPlayTime=0,i._endPlayTime=0,i._currentFeaturePlayingDuration=0,i._vd=o.read(o.PLAYER_VD_KEY),i._realArea={width:16,height:9},i.autoVdValue=-1,p.init(i)},methods:{brokedown:function(e,t,i,a){var n=this;n.pause(),n.fire({type:f.Status_Error,data:{code:e,realcode:t,ec:i,vmsst:a}}),l.sendErrorLog(t)},reset:function(){var e=this;e._vdSwitch=!1,e._isAd=!1,e._startPlayTime=0,e._movieinfo=null,clearTimeout(e._switchDelayTimer)},destroy:function(){var e=this;e.fire({type:f.Status_Destroy}),e.removeAllEventsListener()},updateMovieInfo:function(e){var t=this;t._movieinfo&&(_.clear(t._movieinfo.tvid),t._preEngineMovieinfo=t._movieinfo),t.reset(),t._movieinfo=e,t.fire({type:f.NTF_MovieInfoChange,data:{preMovieInfo:t._preEngineMovieinfo||"",curMovieInfo:t._movieinfo}}),_.valid(e.tvid,!0),t.loadMovie(e.tvid,e.vid)},getEngineMovieInfo:function(){return this._movieinfo||{}},hasPreload:function(e,t){return!1},isPPT:function(){return this._param.ppt||"0"},ost:function(){var e=this;return 1===parseInt(e._param.ost,10)?1===parseInt(e._param.bd)||"true"===e._param.bd?1:2:0},clearData:function(){b.log("clear engine data!"),this._clearData()},abortAres:function(){var e=this;b.debug("ares call abort! current gas: "+r.stringify(e.getCurrentGas())),e.isAd()&&e._abortAres&&e._abortAres()},isTryWatch:function(){return!(!this._movieinfo||!this._movieinfo.isTryWatch)},getPreviewTime:function(){var e=this;return e._movieinfo?e._movieinfo.previewTime:1/0},recharge:function(e,t){this._noticeRecharge(e,t)},setStartPlayTime:function(e,t){var i=this;e<0?b.error("play start time set error!"):i._startPlayTime=i.isTryWatch()&&!t?0:e},getStartPlayTime:function(){return this._startPlayTime},getEndPlayTime:function(){return this._endPlayTime},getFeaturePlayingDuration:function(){return this._currentFeaturePlayingDuration},_findBestPlayVd:function(e,t,i){var a,n,r=this,o=!1,s=[],d=0;for(e=parseInt(e||r._vd||null,10),t=t||r.getVidl(),n=0;n<t.length;n++)s.push(t[n].vd),t[n].hasOwnProperty("segments")&&t[n].segments.length>0&&(d=t[n].vd),t[n].vd===e&&(o=!0);return a=o?e:-1!=s.indexOf(2)?2:-1!=s.indexOf(1)?1:-1!=s.indexOf(96)?96:t[t.length-1].vd,0!==d&&(a=d),a},getCurrentGas:function(){return this._getCurrentGas()},getCurrentVD:function(){return parseInt(this._vd,10)},getRealArea:function(){var e=this;if(e._movieinfo&&e._movieinfo.vidl)for(var t,i=e._movieinfo.vidl,a=0;a<i.length;a++)if(i[a].vd===e.getCurrentVD()){t=i[a],e._realArea=t.realArea;break}return e._realArea},getVidl:function(){var e=this,t=[];return e._movieinfo&&s.isArray(e._movieinfo.vidl)&&(t=e._movieinfo.vidl),t},switchVD:function(e,t){var i,a=this,n=a._movieinfo.vidl;if(e===a.autoVdValue&&a._switchVD)return b.log("definition changing: "+e),a._switchVD({vd:e}),void a.setAutoVdUsing(!0);a.setAutoVdUsing(!1),a.__switchToVd=e,a.__isManualAction=t;for(var r=0;r<n.length;r++)if(n[r].vd===e){i=n[r];break}a._switchVD&&(a._vdSwitch=!0,a._vdSwitchVideoPaused=a.isPaused(),b.log("definition changing: "+e),a._switchVD(i))},skipPrelude:function(e){var t=this;"boolean"==typeof e&&t.fire({type:f.NTF_SetSkipPrelude,data:{skip:e}})},_checkAuthTime:function(e){var t=this,i=!0;return t._movieinfo&&t._movieinfo.isVIP&&e>=t._movieinfo.previewTime&&(t._noticeRecharge("Q00304"),i=!1),i},_checkSecondAuthTime:function(e){var t=this,i=t.getFeaturePlayingDuration();if(!t._isRequestAuthing&&t._movieinfo&&t._movieinfo.isVIP&&!t._movieinfo._hasSendSencondAuthRemote&&i>t._movieinfo.authRTime)try{var a=t._movieinfo.vidl.filter(function(e){return e.vd===t._movieinfo.vd})[0],n=function(e,t){for(var i,a=0;a<t.length;a++)if(e<=t[a].endTime){i=t[a];break}return i||(i=t[0]),i}(e,a.segments),r=n.__url,o=u.query2Json(r),s=u.filename(r);d(o,{filename:s,tvid:t._movieinfo.tvid,aid:t._movieinfo.albumId,shareFlag:1}),t._isRequestAuthing=!0,h.request(o,function(e){b.debug("second boss "),t._isRequestAuthing=!1,t._movieinfo._hasSendSencondAuthRemote=!0},function(){t._isRequestAuthing=!1,t._movieinfo._hasSendSencondAuthRemote=!0})}catch(e){b.error(e&&e.stack?e.stack:e)}},_noticeVidChanged:function(e){var t=this,i=void 0===e||e;t._vdSwitch=!1,i?(t.__switchToVd>0&&(t._vd=t.__switchToVd,t.__isManualAction&&o.write(o.PLAYER_VD_KEY,t._vd)),t.fire({type:f.NTF_VDChanged})):t.fire({type:f.NTF_VDChangeFail,data:t.__switchToVd}),t.__switchToVd=0,t.__isManualAction=!1},_noticeTvidChanged:function(){var e=this;e._vdSwitch=!1,b.log("notice tvid changed!"),e.fire({type:f.NTF_TVIDChanged})},_noticeDataPreloaded:function(){var e=this;e.fire({type:f.NTF_VRSPreloaded,data:e._preloadedMovieInfo})},_noticeReJointPreload:function(){var e=this;e.fire({type:f.NTF_ReJointPreload,data:e._preloadedMovieInfo})},_noticeDataStart:function(){var e=this;e.fire({type:f.NTF_VRSStart,data:e._movieinfo})},_noticeDataDone:function(){var e=this;e.fire({type:f.NTF_VRSDone,data:e._movieinfo}),e._preEngineMovieinfo&&e._noticeTvidChanged()},_noticeDataReady:function(){var e=this;e.fire({type:f.NTF_VRSPreReady,data:e._movieinfo}),e.fire({type:f.NTF_VRSReady,data:e._movieinfo})},_getIsTennisContent:function(){var e=this;if(e._movieinfo.vipTypes&&e._movieinfo.vipTypes.length>0)for(var t=0;t<e._movieinfo.vipTypes.length;t++)if(1==e._movieinfo.vipTypes[t])return!0;return!1},_noticeRecharge:function(e,t){var i=this;i._movieinfo.rc_code=e,i.pause(!1,!0),i.fire({type:f.NTF_Recharge,data:{tvid:i._movieinfo.tvid,vid:i._movieinfo.vid,code:e,isTennisContent:i._getIsTennisContent(),from:t||0,origin:i._param.origin||i._param.parentId,vipTypes:i._movieinfo.vipTypes}})},autoVdEnabled:function(){return!1},setAutoVdEnabled:function(e){},autoVdUsing:function(){return!1},setAutoVdUsing:function(e){},autoVdAlgot:function(){return""},getVBR:function(){return""},isRecovering:function(){return!1}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a=0,n="engine_events_";i.exports={Evt_StartFromHistory:n+ ++a,Evt_SkipHeader:n+ ++a,Evt_SkipTail:n+ ++a,Evt_StartShareTime:n+ ++a,Evt_PreloadAD:n+ ++a,Enjoy_Evt_PlayEnd:n+ ++a,Enjoy_Evt_PanleShow:n+ ++a}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(1),s=i(12),d=i(10),u=i(17),l=i(32),c=(new o("DataSegments"),[]),f=r("DataSegments",{extend:n,construct:function(){var e=this;e.length=0,e.firstCRUD=!0},methods:{setData:function(e){var t=this;c.splice(0,c.length);for(var i,a,n,r,o=0,s=null,d=e.length;o<d;o++)i=e[o],a=i.videoInfo,n=a.vidl.filter(function(e){return e.vid===a.vid}),n.length>0&&(s=n[0].rate),r={identifier:l.getIdentifier(a),order:i.order,rollType:function(e){var t="null",i=e.__gas.offset;return!0===e.ad&&(0===i?t="preroll":i>0&&(t="midroll")),t}(a),ad:a.ad,vip:a.vip,gas:a.__gas,episodeId:parseInt(a.ad?u.getEpisodeId(a.__gas.videoEventId):a.tvId,10),tvid:parseInt(a.tvId,10),vid:a.vid,rate:s,startTime:a.startTime,endTime:a.endTime,showStartTime:a.showStartTime,showEndTime:a.showEndTime},Object.defineProperty(r,"realStartTime",{get:function(){return this.realStartTime}.bind(i)}),Object.defineProperty(r,"realEndTime",{get:function(){return this.realEndTime}.bind(i)}),c.push(r);t.length=c.length,t._changed()},getData:function(){return c},update:function(){this.setData(this.proxy.getFragments())},setProxy:function(e){this.proxy=e},_change:function(){this.fire({type:"change",data:c})},_changed:function(){var e=this;e.firstCRUD=!1,e.fire({type:"changed",data:c})},getSegmentsByTvid:function(e){var t=[];return e=parseInt(e,10),c.forEach(function(i,a,n){i.tvid===e&&t.push(i)}),t},getSegmentByIdentifier:function(e){var t=null;this.update();for(var i=0;i<c.length;i++)if(c[i].identifier===e){t=c[i];break}return t},getSegmentByOrder:function(e){var t=null;if(this.update(),e>=0)for(var i=0,a=c.length;i<a&&(t=c[i],t.order!==e);i++)t=null;return t},getOrderById:function(e){var t=-1;this.update();for(var i=0;i<c.length;i++)if(c[i].identifier===e){t=c[i].order;break}return t},getIndex:function(e){var t=-1,i=e;this.update();for(var a,n=0;n<c.length;n++)if(a=c[n],d.isObject(a)&&d.isObject(i)&&a.identifier===i.identifier){t=n;break}return t},getAresPres:function(e){var t=[];e=parseInt(e,10),this.update();for(var i,a=0,n=c.length;a<n;a++)i=c[a],!0===i.ad&&"preroll"===i.rollType&&(isNaN(e)||null===e?t.push(i):parseInt(i.episodeId,10)===e&&t.push(i)),i=null;return t},getAresMids:function(e){var t=[];e=parseInt(e,10),this.update();for(var i,a=0,n=c.length;a<n;a++)i=c[a],!0===i.ad&&"midroll"===i.rollType&&(isNaN(e)||null===e?t.push(i):parseInt(i.episodeId,10)===e&&t.push(i)),i=null;return t},getFeaturesBySegment:function(e){var t=[];if(e){this.update();var i=function(e,t){return s(e+t)},a=i(e.tvid,e.vid);t=c.filter(function(e){return!e.ad&&a===i(e.tvid,e.vid)}).sort(function(e,t){return e.gas-t.gas})}return t},inFeaturesShowSection:function(e,t){var i=this,a=!1,n=i.getFeaturesBySegment(e);return n.length>0&&t>=n[0].showStartTime&&t<=n[n.length-1].showEndTime&&(a=!0),a},isFeatureFirstSegment:function(e){var t,i,a=this,n=!1,r=a.getFeaturesBySegment(e);return r.length>0&&(t=r[0],i=e.realStartTime,e.gas===t.gas&&(n=!0,n=null!==i&&!isNaN(i)&&i>=0?i===t.realStartTime:e.order===t.order&&e.vid===t.vid)),n},isFeatureEndSegment:function(e){var t,i,a=this,n=!1,r=a.getFeaturesBySegment(e);return r.length>0&&(t=r[r.length-1],i=e.realEndTime,e.gas===t.gas&&(n=!0,n=null!==i&&!isNaN(i)&&i>0?i===t.realEndTime:e.order===t.order&&e.vid===t.vid)),n},isEndSegment:function(e){var t,i=!1;return e&&(this.update(),t=c[c.length-1],i=e.gas===t.gas&&e.order===t.order),i}}});a.exports=new f}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(10),s=i(1),d=i(8),u=i(3),l=new s("PBProxy"),c=[],f=[],_=r("PBProxy",{extend:n,construct:function(){var e=this;e._p_=null,e._v_=null,e.version="",e._ready=!1,e.clearFragmentsFlag=!0,e._actions={}},methods:{__setVideo:function(e){this._v_=e},__setSDK:function(e,t){var i=this;i._p_=e,i.version=e.version,e.init(i._v_,i.__sdkListener.bind(i),l,d.getFluid()||d.getJsuid(),t),e.setLoad(!0),i._ready=!0,i.fire({type:"ready"})},__sdkListener:function(e,t,i){e=e||"",t="undefined"===t||void 0===t||null===t?"":t,i="undefined"===i||void 0===i||null===i?"":i;var a,n,r,o=this,s=e.split("_")[1]||"";"muted"!==s&&(o._state=s);var d={state:s,arg1:t,arg2:i};if("startFragment"===s||"endFragment"===s){var c=(t||"").toString().split("_");a=parseInt(c[0],10),n=c[1],r=parseInt(c[2],10),u(d,{vid:n,order:"number"==typeof a?a:o.getPlayOrder(),time:i},!0)}"progress"!=s&&l.debug("pbproxy state: "+s+", arg1: "+t+", arg2: "+i),"startFragment"===s&&o.hasFragment(n,r)&&o.fire({type:"orderChange",data:d}),("startFragment"!==s&&"endFragment"!==s||("startFragment"===s||"endFragment"===s)&&o.hasFragment(n,r))&&o.fire({type:"stateChange",data:d}),"endFragment"===s&&o.hasFragment(n,r)&&o.fire({type:"orderWillChange",data:d})},__setDispatchResult:function(e){l.log("call p2p -- ,params: func = dispatchResult(设置f4v信息)"),this._p_.dispatchResult=e},resetProxy:function(){var e=this;e.clearFragmentsFlag=!0,e._actions={},e.reset(null),e.reset(e._v_)},isReady:function(){return!!this._ready},ready:function(e){var t=this,i=function(){for(var e=0;e<c.length;e++)!function(e,t){setTimeout(function(){e[t].call()},0)}(c,e)};c.push(e),t._ready?i():t.un("ready").once("ready",function(){i()})},sleeping:function(){return!0===this._p_.__sleeping},getState:function(){return this._state||""},hasFragment:function(e,t){for(var i,a=!1,n=this.getFragments(),r=0;r<n.length;r++)if(i=n[r].videoInfo,i.vid===e&&i.index===t){a=!0;break}return a},getFragments:function(){var e=this;return e._p_?e._p_.fragments:[]},reset:function(e){var t=this;l.log("call p2p -- ,params: func = reset"),t._p_&&(t._p_.reset(e),t._p_.__sleeping=null==e)},fillFragments:function(e){var t=this;if(o.isArray(e)&&e.length>0){var i=t.getFragments();0===i.length||t.clearFragmentsFlag?(t.freshFragments(e,!1),t.seek(0,e[0].showStartTime,{run:!0}),t.hasAction("pause")||t.resume(),t.clearFragmentsFlag=!1):t.addFragment(e,i[i.length-1].order,Number.MAX_VALUE)}else l.warn("fillFragments params $fragmentList: "+e)},freshFragments:function(e,t,i,a){var n=this;n._p_&&(e=(e||[]).map(function(e){return u({},e,!0)}),n._p_.freshFragments.call(n._p_,e,t,i,a),f=e,n.fire({type:"fragmentsChange"}))},addFragment:function(e,t,i){var a=this;return a._p_&&(e=(e||[]).map(function(e){return u({},e,!0)}),a._p_.addFragment.call(a._p_,e,t,i),a.fire({type:"fragmentsChange"})),-1},removeFragment:function(e,t){var i=this;i._p_&&(l.debug("removeFragment, $start: "+e+", $length: "+t),i._p_.removeFragment(e,t),i.fire({type:"fragmentsChange"}))},seek:function(e,t,i){var a=this,n=u({run:!1,jump:!1},i||{},!0);t<0?l.error("the seek time ("+t+") is incorrect!"):a._p_&&a._p_.seek.call(a._p_,e,t,n)},resume:function(){var e=this;e._p_&&(e._actions.pause=!1,e._actions.play=!0,e._p_.resume())},pause:function(){var e=this;e._p_&&(e._actions.pause=!0,e._actions.play=!1,e._p_.pause())},getBuffer:function(){var e=this,t={};if(e._p_&&e._p_.bufferInfo){var i=e._p_.bufferInfo;t={order:i.order,time:i.time}}return t},getPlayInfo:function(){var e=this;return e._p_?e._p_.playInfo:{}},getPlayOrder:function(){return this.getPlayInfo().order},getLastOrder:function(){var e=this.getFragments();return 0===e.length?0:e[e.length-1].order},getFragByOrder:function(e){for(var t,i=this.getFragments(),a=0;a<i.length;a++)if(i[a].order===e){t=i[a];break}return t},log:function(){var e=this;e._p_&&l.warn("enable pb log: "+e._p_.p2plog())},hasAction:function(e){return!0===this._actions[e]},isDone:function(){var e=this,t=!1;return e._p_&&(t=!!e._p_.done),t},switchPage:function(){var e=this,t=!1;return e._p_&&(t=!!e._p_.switchPage),t}}});a.exports=new _}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(9),o=i(0),s=i(10),d=i(3),u=i(2),l=i(1),c=i(33),f=i(5),_=i(14),h=i(34),p=i(24),b=i(55),g=i(38),v=(i(56),i(32),i(22)),m=i(42),y=i(57),x=i(69),k=new l("DataProvider"),w={},S="",T=null,A=["313","391","392","393","411","412","413","414","491","492","493","501","502","1500","1501","1502","1503"],I=o("DataProvider",{extend:u,construct:function(e,t,i){var a=this;a.reqvd=i||"",a._movieinfo={},a._movieinfo.tvid=e,a._movieinfo.vid=t,a._movieinfo.oldTvid=e,a.tryCount=0,a.maxTryCount=3,a.vmsErrorRetry=!1,a.vmsErrorEry=!0},methods:{_startRequest:function(){var e=this,t=e.tryCount>0;e.tryCount++;var i;return h.read(h.PLAYER_TEMP_VD_KEY)?(i=h.read(h.PLAYER_TEMP_VD_KEY),i=p.getNewVd(i)):(i=_.read(_.PLAYER_VD_KEY)||2,i=p.getNewVd(i)),void 0!==e.reqvd&&""!==e.reqvd&&(i=p.getNewVd(e.reqvd)),k.info("load movieInfo from vrs,params: tvid = "+e._movieinfo.tvid+", vid = "+e._movieinfo.vid+", islogin = "+f.isLogin()+", vd = "+i),T=b.request({params:{tvid:e._movieinfo.tvid,vid:e._movieinfo.vid,vd:i,ppt:n.isPPT(),ost:n.ost(),tryCount:e.tryCount-1,switchvd:!1},hostUseIP:t},e._parse.bind(e),function(t){var i={A00001:2,A00302:30,A00301:30,U00001:22,P00001:101,P00002:102},a=t.code,n=t.data?t.data.st:"",r=t.hasOwnProperty("data")&&t.data.hasOwnProperty("retry")?t.data.retry:"";S="A00001"===a?"707":"A00302"===a?"708":"P00001"===a?"701":"P00002"===a?"702":a,k.info("load movieInfo from vrs, movieinfo error,params: vmsCode = "+t.code+", code = "+S),m.isEnjoyPlayer&&n&&(505==n||507==n)?e._reject(0,15,a,S,"",r):e._reject(0,i[a],a,S,"",r);var o=T.getReqParams();if(o){var s=o.tvId,d=o.sgti;v.sendErrorAuto(s,S,0,"",d)}})},_reject:function(e,t,i,a,n,r){k.warn("type:"+e+",e:"+t+",o:"+i);var o=this;o.fire({type:"reject",data:{type:e,code:t,originalCode:i,ec:a,vmsst:n,movieinfo:o._movieinfo,retry:r}})},_resolve:function(){var e=this;k.log("movieInfo baseinfo,params: tvid = "+e._movieinfo.tvid+", vid = "+e._movieinfo.vid+", isTryWatch(试看) = "+e._movieinfo.isTryWatch+", member(会员片源) = "+e._movieinfo.isVIP+", albumId = "+e._movieinfo.albumId+", channelID = "+e._movieinfo.cid+", qipuId = "+e._movieinfo.videoQipuId+", headTime(片头) = "+e._movieinfo.prelude.headTime+", tailTime(片尾) = "+e._movieinfo.prelude.tailTime+", duration(时长) = "+e._movieinfo.duration+", isTennisContent(网球会员内容) = "+e._getIsTennisContent()+", logoOpen(水印总开关) = "+e._movieinfo.logoOpen+", topLogoOpen(右上角) = "+e._movieinfo.topLogoOpen+", lowerLogoOpen(右下角) = "+e._movieinfo.lowerLogoOpen+", exclusive(独播) = "+e._movieinfo.exclusive+", qiyiProduced(自制) = "+e._movieinfo.qiyiProduced+", nextTvid = "+e._movieinfo.nextTvid+", nextVid = "+e._movieinfo.nextVid),k.log("movieInfo definition,params: current = "+e._movieinfo.vd+", user = "+n._vd),e.fire({type:"resolve",data:e._movieinfo})},_parse:function(e){var t=this;k.info("load movieInfo from vrs ok");var i,a="",o=T.getReqParams();o&&(i=o.tvid,a=o.sgti);var u=e.hasOwnProperty("data")&&e.data.hasOwnProperty("retry")?e.data.retry:"";try{var l=e.data;if(!function(e){if(null==e.data||!e.data.hasOwnProperty("st"))return k.error("movieinfo error,params:type = data.data null or st is lose"),S="103",t._reject(0,1,"dash_st_lose",S,"",u),v.sendErrorAuto(i,S,0,"",a),!1;var n=parseInt(e.data.st,10);if(m.isEnjoyPlayer()&&(505===n||506===n))return k.warn("站外禁播"),t._reject(0,15,"",S,"",u),!1;var r;if(!(100<n&&n<200)){switch(n){case 304:case 401:case 405:case 406:case 493:r=10;break;case 411:case 491:r=9;break;case 501:r=12;break;case 502:r=13;break;case 601:case 602:case 701:r=14;break;default:r=1}return S="104",k.error("movieinfo error,params: st = "+n),t._reject(0,r,e.code+"-"+n,S,n,u),v.sendErrorAuto(i,S,n,"",a),!1}return!0}(e))return;k.debug("dash.st checked"),t._movieinfo.isTryWatch=!1,t._movieinfo.previewTime=1/0,t._movieinfo.originalData=e,t._movieinfo.tvid=l.tvid,t._movieinfo.albumId=l.aid||"",t._movieinfo.cid=l.cid,t._movieinfo.sid=0,t._movieinfo.vipTypes=l.content.vipTypes,t._movieinfo.ugc=c.isUGC(t._movieinfo.tvid),t._movieinfo.isVIP=l.content.bossStatus>0,t._movieinfo.videoQipuId=l.tvid,t._movieinfo.prelude={headTime:l.p.bt,tailTime:l.p.et},t._movieinfo.qiyiProduced=1===l.content.isProduced,t._movieinfo.exclusive=1===l.content.exclusive,t._movieinfo.logoOpen=!0,t._movieinfo.topLogoOpen=!0,t._movieinfo.lowerLogoOpen=!0,l.p.lgh&&(t._movieinfo.lowerLogoOpen=-1==l.p.lgh.indexOf(2)&&-1==l.p.lgh.indexOf("2"),t._movieinfo.topLogoOpen=-1==l.p.lgh.indexOf(1)&&-1==l.p.lgh.indexOf("1"));var f=l.p.wmarkPos||0;if(t._movieinfo.logoOpen=-1!=f,t._movieinfo.vidl=[],l.program&&l.program.video){var _={vsInfo:l.program.video,isVIP:t._movieinfo.isVIP,tvid:t._movieinfo.tvid,cid:t._movieinfo.cid,sid:t._movieinfo.sid,albumId:t._movieinfo.albumId},h=Array.isArray(_.vsInfo)&&_.vsInfo.length>0&&"f4v"===_.vsInfo[0].ff?y.analyzeVds(_):x.analyzeVds(_);t._movieinfo.vidl=h,t._movieinfo.isAccurateTimeStamp=!!h.isAccurateTimeStamp,h.manifestParser&&(t._movieinfo.manifestParser=h.manifestParser),t._movieinfo.vidl.sort(function(e,t){return e.vd>t.vd}),t._movieinfo.vidl.unshift(t._movieinfo.vidl.pop())}t._movieinfo.audl={},l.program&&l.program.audio&&(t._movieinfo.audio=l.program.audio),t._movieinfo.duration=0,t._movieinfo.drmType=t._movieinfo.vidl.length>0?t._movieinfo.vidl[0].drmType:1;var p={};if(l.program&&l.program.stl&&l.program.stl.length>0)for(var b=l.program.stl,w=0;w<b.length;w++)1==parseInt(b[w].pre)&&(t._movieinfo.subtitlesUrl=s.protocolRevise(l.dstl)+b[w].xml),p[b[w].lid]=s.protocolRevise(l.dstl)+b[w].xml;t._movieinfo.subtitlesUrlMap=p,t._movieinfo.f4vInfo={};var A=e.data.p.pano;if(!A||2!=A.type&&3!=A.type&&4!=A.type?t._movieinfo.is3D=0:t._movieinfo.is3D=2,Object.defineProperty(t._movieinfo,"vd",{get:function(){return n._findBestPlayVd(null,this.vidl,"fs")}}),t._movieinfo.isVIP){var I={};if(t._movieinfo.vidl.length>0){var E=t._movieinfo.vidl.filter(function(e){return e.vd===t._movieinfo.vd});if(E.length>0){var P=E[0],D=P.segments[0].__url;I=r.query2Json(D);var q=r.filename(D);d(I,{filename:q,tvid:t._movieinfo.tvid,aid:t._movieinfo.albumId})}}var O=l.boss_ts?"boss_ts":"boss";l.hasOwnProperty(O)&&l[O].hasOwnProperty("code")?g.analyzeAuthData(I,l[O],function(e,i){t._vipAuthSuccess.bind(t)(e,i)},function(e,i,a){t._vipAuthFail.bind(t)(e,i,a)}):t._vipAuth(I)}else t._resolve()}catch(e){t._movieinfo=null,k.error(e.stack),t._reject(0,10000001,"vmserror",S,"",u)}},_getIsTennisContent:function(){var e=this;if(e._movieinfo.vipTypes&&e._movieinfo.vipTypes.length>0)for(var t=0;t<e._movieinfo.vipTypes.length;t++)if(1==e._movieinfo.vipTypes[t])return!0;return!1},_vipAuthSuccess:function(e,t){var i=this,a=g.getPreviewTime(e);i._movieinfo.isTryWatch=1===parseInt(t.data.prv,10),i._movieinfo.previewType=t.previewType,i._movieinfo.previewTime=0===a?1/0:a,i._movieinfo.authTipType=i._getIsTennisContent()?10:parseInt(t.data.tip_type,10),i._movieinfo.authRTime=60*t.data.rtime*1e3,k.log("check charge definition pass,params: isTryWatch = "+i._movieinfo.isTryWatch+", previewType = "+i._movieinfo.previewType+", previewTime = "+a),i._movieinfo.vidl.filter(function(e){return e.segments.map(function(e){return e._setBoss&&e._setBoss(t),e}),e.vd===i._movieinfo.vd}),i._movieinfo.audio&&(i._movieinfo.boss=t),i._resolve()},_vipAuthFail:function(e,t,i){var a=this;if(a._movieinfo.isTryWatch=!1,i&&(a._movieinfo.previewType=i.previewType),k.log("check charge definition error,params: code = "+e+", msg = "+t),e){var n="8"+e.slice(-3);"Q00312"===e||"Q00311"===e||"Q00501"===e?a._reject(2,22,e,n):a._reject(1,e)}else a._reject(0,21,t,"8000")},_vipAuth:function(e){var t=this;g.request(e,function(e,i){t._vipAuthSuccess.bind(t)(e,i)},function(e,i,a){t._vipAuthFail.bind(t)(e,i,a)})}}});a.exports={setEngine:function(e){n=e},getPid:function(e,t,i){return void 0!==i?e+"_"+t+"_"+i:e+"_"+t},getPromise:function(e){var t,i=e.split("_"),a=i.shift(),n=i.shift(),r=i.length>0?i[0]:void 0;return w[e]&&"pending"===w[e].st?t=w[e].pm:(w[e]={st:"pending",data:void 0,params:null,pm:null},t=new Promise(function(t,i){function o(){s=d._startRequest()}var s,d=new I(a,n,r);d.on("resolve",function(i){var a=i.data;t(a),w[e]&&(w[e].st="fulfilled",w[e].params=s.getReqParams(),w[e].data=a)}),d.on("reject",function(t){var a=t.data,n=a&&("P00001"===a.originalCode||"A00020"===a.originalCode)&&d.tryCount<d.maxTryCount;a.vmsst&&A.indexOf(a.vmsst.toString())>-1||a.hasOwnProperty("retry")&&1==a.retry?d.vmsErrorRetry=!0:d.vmsErrorRetry=!1,n?o():d.vmsErrorRetry&&d.vmsErrorEry?(d.vmsErrorEry=!1,o()):(i(a),w[e]&&(w[e].st="rejected",w[e].data=a))}),o()}),w[e].pm=t),t},isPending:function(e){return w[e]&&"pending"===w[e].st},hasPreload:function(e){return!(!w[e]||"fulfilled"!==w[e].st)},getPreloadData:function(e){return w[e].data},getParams:function(e){return w[e]?w[e].params:null},getData:function(e){return w[e].data},clearAll:function(){w={},T&&(T.setReqAbandoned(),T.getXhrRequest()&&T.getXhrRequest().abort()),k.info("clear data provider & abandon vms request.")}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(4),r=i(12),o=i(9),s=i(11),d=i(5),u=i(8),l=i(1),c=i(7),f=i(18),_=i(10),h=i(25),p=i(35),b=i(31),g=i(39),v=i(22),m=i(16),y=i(23),x=i(41),k=i(3),w=new l("mixer"),S=0;a.exports={request:function(e,t,i){var a,l=e.params,T=!!e.hostUseIP,A=null,I=e.params.tryCount||0,E=!1;return x.probeSupport().then(function(e){var x=!1;e&&e.drm&&e.drm["com.widevine.alpha"]?(g.openBit(1,42),x=!0,w.log("dashremote feature open widevine")):g.closeBit(1,42),e&&e.drm&&e.drm["com.microsoft.playready"]&&(!n.browser.EDGE||18!=n.browser.version)?(g.openBit(4,5),x=!0,w.log("dashremote feature open playready")):g.closeBit(4,5),x?(g.openBit(4,20),g.openBit(4,21)):(g.closeBit(4,20),g.closeBit(4,21)),d.getVipTypes(function(e){var x=l.tvid,P=l.vid,D=l.vd,q=l.ppt,O=l.ost,R=f.cmd5xdash(),L=S>0?S:R.tm;S=0;var M=n.getPtid(c.isTWLocale());m.sTime_vms=new Date-m.pgct,y.psdkietm=+new Date,y.vcistm=+new Date,v.sendVrsRequestPingback(),A=function(){var e={tvid:x,bid:D,vid:P,src:M,vt:0,rs:1,uid:d.getUid(),ori:"pcw",ps:l.switchvd?1:0,k_uid:u.getFluid()||u.getJsuid(),pt:0,d:0,s:"",lid:"",cf:"",ct:"",authKey:r(r("")+L+x),k_tag:1,ost:O,ppt:q,dfp:h.get(),locale:c.isTraditionalChinese()?"zh_tw":"zh_cn",prio:l.prio||JSON.stringify({ff:"f4v",code:2}),pck:d.passportCookie(),k_err_retries:I};return e=k(e,R),e.tm=L,(n.os.ios||n.os.android)&&(e.ori="h5"),l.src&&(e.src=l.src),l.preIdAll&&(e.preIdAll=l.preIdAll),l.lid&&(e.lid=l.lid,e.cf=2),-1!=e.prio.indexOf("m3u8")?e.k_ft1=g.getM3U8FT1():-1!=e.prio.indexOf("mp4")?e.k_ft1=g.getMP4FT1():(e.k_ft1=g.getFT1(),e.k_ft4=g.getFT4()),e.k_ft5=g.getFT5(),c.isTraditionalChinese()&&(e.locale="zh_tw"),p.isBoss()&&(e.vv="821d3c731e374feaa629dcdaab7c394b"),T&&(e.ecode="701"),e.bop=JSON.stringify({version:"10.0",dfp:h.get()}),e}();var C=function(n){if(E)return void w.log("start vms request is abandoned!!!");a=s.jsonp({url:n,params:A,memory:!0,timeout:5e3,beforeSend:function(t){var i=o.parse(t.url).host;e.forEach(function(e){t.url+="&ut="+e,_.isArray(A.ut)||(A.ut=[]),A.ut.push(parseInt(e,10))});var a="iloveiqiyi";try{var n=t.url.replace(new RegExp("^(http|https)://"+i,"ig"),"");T&&(n=n.replace("/3ea/420a8433732a6c99d1eae98fea69e55d","")),a=f.cmd5x(n)}catch(e){w.error("cmd5x: "+(e.message?e.message:e))}return t.url+="&vf="+a,w.log("load movieInfo from vrs, request,params: url = "+t.url),t},success:function(e){if(E)return void w.log("start vms request success callback is abandoned!!!");if(m.usedTime_vms=new Date-m.pgct-m.sTime_vms,y.vcietm=+new Date,v.sendVrsReadyPingback(m.usedTime_vms),e&&e.hasOwnProperty("code"))"A00000"===e.code?t(e):("A00020"===e.code&&e.tm&&(S=e.tm),i(e));else{var a={};a.code="P00002",i(a)}},failure:function(e){if(E)return void w.log("start vms request failure callback is abandoned!!!");w.error("dash fail raw json data->"+JSON.stringify(e));var t={};t.code="P00001",i(t)}})};T?s.ajax({url:b.vmsAccess,timeout:2e3,withCredentials:!1,success:function(e){if(e&&"string"==typeof e){var t=e.split(";"),i=Math.floor(Math.random()*t.length),a=t[i];C(b.vmsIPSuc.replace("{{IP}}",a))}else C(b.vmsIPFail)},failure:function(){C(b.vmsIPFail)}}):C(b.vmsUrl)})}),{getReqParams:function(){return A},getXhrRequest:function(){return a},setReqAbandoned:function(){E=!0}}}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(24);a.exports=n("Definition",{construct:function(e,t,i,a,n,o,s,d,u,l,c,f){var _=this;_.vd=e,_.bid=r.getNewVd(e),_.vid=t,_.duration=a,_.vsize=n,_.segments=o||[],_.realArea=s,_.isUsable=d,_.isLimit=u||!1,_.limitReason=l||[],_.fileFormat=i,_.m3u8=c,_.drmType=f||1},methods:{}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(1),r=i(24),o=i(56),s=i(32);new n("AnalyzeVidls");a.exports={analyzeVds:function(e,t){var i,a=e.vsInfo,n=e.isVIP,d=e.tvid,u=e.cid,l=e.sid||0,c=e.albumId;t||(i=[]);for(var f=[],_=0;_<a.length;_++){var h=0,p=a[_].fs,b=a[_].ff,g=0,v=a[_].vid,m=r.getOldVd(a[_].bid),y=a[_].s,x={},k=[],w=a[_].duration||0,S=a[_].vsize;if(p){g=p.length;var T=a[_].scrsz.split("x");x={width:T[0],height:T[1]}}f.push({vid:v,rate:m});for(var A=0;A<g;A++){var I,E=p[A],P=E.s,D=E.d,q=E.l,O=E.b;I=P>-1?A>0&&0===P?h:P:h;var R=I+D,L=I,M=R,C=new s(!1,n,q,A,d,v,f,c,u,l,D,O,L,M,I,R);k.push(C),h+=D,A===g-1&&(w=P>-1?A>0&&0===P?h:P+D:h)}var F=!1,N=!0,V=[];void 0!==y&&(F=!0,N=0===parseInt(y,10),V=a[_].vut||[]);var U=new o(m,v,b,w,S,k,x,N,F,V);if(t)m==t&&k.length>0&&(i=U);else{for(var B=!1,H=0;H<i.length;H++)i[H].vd==U.vd&&(B=!0,0===i[H].segments.length&&U.segments.length>0&&(i[H]=U));B||i.push(U)}}return i}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(3),o=i(31),s=i(8),d=i(11),u=i(6),l=i(25),c=i(4),f=i(5),_=i(7),h=i(15),p=i(28),b=i(30),g=i(16),v=i(26),m="",y="",x={},k=-1,w=!1,S={1:"303",2:"302",6:"304",11:"405",12:"401",13:"401",21:"302"},T="01010021010000000000",A=function(){c.browser.weixin?c.os.ios?T="02038001010000000000":c.os.android&&(T="02028001010000000000"):c.os.ios?T=c.os.iosMobile?"02030031010000000000":"03030021010000000000":c.os.android&&(T=c.os.androidMobile?"02020031010000000000":"03020021010000000000"),_.isTWLocale()&&(T=c.getPtid(!0))};A(),setTimeout(A,2e3);var I="1",E="10",P="101";c.browser.iPad?(I="2",E="20",P="202"):(c.os.ios||c.os.android)&&(I="2",E="20",P="201");var D=I+"_"+E+"_"+P,q="window";c.os.ios||c.os.mac?q="mac":c.os.android&&(q="android");var O="",R={},L=function(e){var t="";if(e.drmType)switch(e.drmType){case 7:t=1;break;case 8:t=2}return t},M=function(e,t){!function(e,t){C(e,function(){n.getVideoInfo(function(i){f.isVip(function(a){var h=n.getMovieInfo(),v=n.getCurrLoaderMode(),y=-1;switch(v){case"CDN":y=0;break;case"P2P":y=1}var k={u:s.getFluid()||"",pu:f.getUid()||"",rn:Math.random(),p1:D,v:m,dfp:l.get()||"",ce:s.getWeid(),de:s.getQtsid()||"",stime:(new Date).getTime(),c1:h.cid||"",r:i.tvid||"",ve:s.getEid(),ht:h.isVIP?1:0,pt:n.getCurrenttime(),hu:a?1:-1,isdm:0,duby:0,ra:O,clt:"",s3:"",ps2:u.get("QC007")||"",ps3:"",ps4:"",stype:"",br:c.browser.userAgent,mod:_.local()||"",purl:window.location.href,tmplt:g.pageTmpltType,ptid:T,os:q,nu:s.getIsNewUser()?1:0,vfm:R.vfm||u.get("QP005")||"",coop:"",ispre:n.isTryWatch()?1:0,videotp:void 0!==h.is3D?h.is3D:"",drm:L(h),plyrv:"",rfr:window.document.referrer,fatherid:h.albumId||"",stauto:n.autoVdUsing()?1:0,algot:n.autoVdAlgot(),ldt:y,vvfrom:R.vvfrom||""};n.getPicInPic()?k.s4="80720_playerctrl_picinpic":k.s4=n.h5vars.vfrmrst||"",e&&e.t&&r(k,{pagev:n.h5vars.pagev||"",s3:n.h5vars.vfrmblk||""}),2==e.t&&r(k,{vbr:n.getVBR()}),"QVS"===n.getEngineType()&&null!==n.getCurrManifestType()&&r(k,{mft:n.getCurrManifestType()});var w,S;p.isFullScreen()?(w=4,S="901111_pcwh5_browerfull"):b.isWebFullScreen()?(S="901111_pcwh5_pagefull",w=7):n.isSmallWindowMode||n.getPicInPic()?(w=2,S=""):(w=3,S=""),r(k,{wint:w,s2:S});var A,I=n.getEngineType().toLocaleLowerCase();if(I){switch(I){case"data":A=0;break;case"http":A=1;break;case"qvs":A=2}r(k,{engt:A})}var E=0,P=0,M=-1;if(navigator.connection){var C=navigator.connection.downlink,F=(navigator.connection.effectiveType||"").toLowerCase(),N=(navigator.connection.type||"").toLowerCase();switch(F){case"4g":P=18;break;case"3g":P=17;break;case"2g":P=16;break;case"slow-2g":P=14}switch(N){case"cellular":P=15;break;case"wifi":P=1;break;case"ethernet":P=13;break;case"bluetooth":P=21;break;case"wimax":P=22}if("QVS"===n.getEngineType()){var V=n.getDataBufferInfo();V&&(M=V.len)}E=C,r(k,{bw:E,ntwk:P,dl:M})}"{}"!=JSON.stringify(x)&&r(k,x),r(k,e,t),d.beacon(k,o.pingbackV6Url)})})})}(e,t)},C=function(e,t){e&&parseInt(e.t,10)>0&&void 0===window.dfp?h.seriesLoadScripts("//security.iqiyi.com/static/cook/v1/cooksdk.js",function(e){e&&void 0!==window.dfp&&(l.setSDK(window.dfp),t())}):t()};a.exports={sendVrsRequestPingback:function(){M({t:"init"})},sendVrsReadyPingback:function(){M({t:"ready"})},sendADStartPlayPingback:function(){M({t:15,pt:""},!0)},sendStartPlayPingback:function(){M({t:1}),-1===k&&this.sendTimingPingback()},sendTimingPingback:function(){k=0;var e=0;clearTimeout(k);var t=!0,i=function(){n.getCurrStatus()===v.Status_Playing&&(e+=1e3,e%15e3==0&&t?(t=!1,M({t:2,tm:15})):e%3e4==0&&M({t:2,tm:30})),clearTimeout(k),k=setTimeout(i,1e3)};i()},sendEndPlayPingback:function(e){var t,i=n._playingSpend||0;switch(e){case 1:t=4;break;case 2:t=6;break;case 3:t=7;break;default:t=0}M({t:13,tm:i,endtp:t})},sendWaitingPingback:function(e){e?(w||(w=!0,M({t:8,jampt:"ad"})),this.sendErrorPlayPingback("","4016"),"QVS"===n.getEngineType()&&this.sendErrorPlayPingback("","QVS-4016")):(w||(w=!0,M({t:8,jampt:"video"})),this.sendErrorPlayPingback("","4015"),"QVS"===n.getEngineType()&&this.sendErrorPlayPingback("","QVS-4015"))},sendAutoUpToVDPingback:function(e,t){M({t:12,fa:5,ra:t,upto:e},!0)},sendAutoDwnToVDPingback:function(e,t){M({t:12,fa:4,ra:t,dwnto:e},!0)},sendPlayingPingback:function(){w&&(w=!1)},sendErrorPlayPingback:function(e,t,i){M({t:0,ec:t||S[e],psrc:i||""})},init:function(e){k=0,n=e,m=n.holders.playerVersion,y="main"===n.holders.playerType?0:1},destroy:function(){clearTimeout(k)},setCurrentVD:function(e){O=e},setPlayPingbackInfo:function(e){x=r(x,e,!0)}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(3),o=i(31),s=i(8),d=i(11),u=i(6),l=i(25),c=i(4),f=i(5),_=i(7),h=i(15),p=i(23),b=i(16),g="",v="",m=-1,y="01010021010000000000",x=function(){c.browser.weixin?c.os.ios?y="02038001010000000000":c.os.android&&(y="02028001010000000000"):c.os.ios?y=c.os.iosMobile?"02030031010000000000":"03030021010000000000":c.os.android&&(y=c.os.androidMobile?"02020031010000000000":"03020021010000000000"),_.isTWLocale()&&(y=c.getPtid(!0))};x(),setTimeout(x,2e3);var k="1",w="10",S="101";c.browser.iPad?(k="2",w="20",S="202"):(c.os.ios||c.os.android)&&(k="2",w="20",S="201");var T=k+"_"+w+"_"+S,A="window";c.os.ios||c.os.mac?A="mac":c.os.android&&(A="android");var I="",E={},P=function(e){var t="";if(e.drmType)switch(e.drmType){case 7:t=1;break;case 8:t=2}return t},D=function(e){!function(e){q(e,function(){n.getVideoInfo(function(t){f.isVip(function(i){var a=n.getMovieInfo(),c={u:s.getFluid()||"",pu:f.getUid()||"",rn:Math.random(),p1:T,v:g,dfp:l.get()||"",ce:s.getWeid(),stime:(new Date).getTime(),c1:a.cid||"",r:t.tvid||"",ve:s.getEid(),de:s.getQtsid()||"",ht:a.isVIP?1:0,pt:n.getCurrenttime(),hu:i?1:-1,isdm:0,ra:I,mod:_.local()||"",purl:window.location.href,tmplt:b.pageTmpltType,ptid:y,os:A,re:window.screen.width+"x"+window.screen.height,nu:s.getIsNewUser()?1:0,vfm:E.vfm||u.get("QP005")||"",ispre:n.isTryWatch()?1:0,videotp:void 0!==a.is3D?a.is3D:"",drm:P(a),plyrv:"",rfr:window.document.referrer,fatherid:a.albumId||"",stauto:n.autoVdUsing()?1:0,vvfrom:E.vvfrom||""},h=0,p=0,v=-1;if(navigator.connection){var m=navigator.connection.downlink,x=(navigator.connection.effectiveType||"").toLowerCase(),k=(navigator.connection.type||"").toLowerCase();switch(x){case"4g":p=18;break;case"3g":p=17;break;case"2g":p=16;break;case"slow-2g":p=14}switch(k){case"cellular":p=15;break;case"wifi":p=1;break;case"ethernet":p=13;break;case"bluetooth":p=21;break;case"wimax":p=22}if("QVS"===n.getEngineType()){var w=n.getDataBufferInfo();w&&(v=w.len)}h=m,r(c,{bw:h,ntwk:p,dl:v})}r(c,e),d.beacon(c,o.pingbackQosUrl)})})})}(e)},q=function(e,t){e&&parseInt(e.t,10)>0&&void 0===window.dfp?h.seriesLoadScripts("//security.iqiyi.com/static/cook/v1/cooksdk.js",function(e){e&&void 0!==window.dfp&&(l.setSDK(window.dfp),t())}):t()};a.exports={sendVrsRequestPingback:function(){D({t:"init"})},sendVrsReadyPingback:function(){D({t:"ready"})},sendProcessesPlayTimeRecord:function(){var e=p.plyastm,t=p.plyUsedTime;if("QVS"===n.getEngineType()){if(t>7e3)return;D({t:10,psdklstm:0,psdkletm:p.psdkletm-p.psdklstm,psdkistm:p.psdkistm-e,psdkietm:p.psdkietm-e,vcistm:p.vcistm-e,vcietm:p.vcietm-e,asdklstm:p.asdklstm-e,asdkletm:p.asdkletm-e,asdkistm:p.asdkistm-e,asdkietm:p.asdkietm-e,adirqstm:p.adirqstm-e,adirqetm:p.adirqetm-e,adsrqstm:p.adsrqstm-e,adsrqetm:p.adsrqetm-e,adlstm:p.adlstm-e,adletm:p.adletm-e,adastm:p.adastm-e,adaetm:p.adaetm-e,plyastm:p.plyastm-e,plyaetm:p.plyaetm-e})}},init:function(e){m=0,n=e,g=n.holders.playerVersion,v="main"===n.holders.playerType?0:1},setCurrentVD:function(e){I=e},sendChunkReport:function(e){var t=e.split("-");"QVS"===n.getEngineType()&&5==t.length&&D({t:11,ct:"vcut",r:t[0],res1:t[1],raa1:t[2],res2:t[3],raa2:t[4]})},sendIDCReport:function(e){"QVS"===n.getEngineType()&&e&&D({t:11,ct:"dlscherr",dmnm:e.dmnm||"",ips:e.ips||"",userinfo:e.userinfo||"",idc:e.idc||""})}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports={error_code_title1:"喔喔，播放失敗啦~",error_code_desc1:"你可以試試獲取視頻信息更  穩定的  愛奇藝客戶端",error_code_desc2:"檢測發現您可能在使用惡意插件，請檢查並解安裝後重試",error_code_desc6:"很抱歉，你訪問的視頻丟了",error_code_desc7:"該視頻目前還未通過審核",error_code_title9:"很抱歉，該視頻已被刪除，感謝您使用愛奇藝",error_code_title10:"很抱歉，由於版權問題該視頻已下線。感謝您使用愛奇藝",error_code_desc10:"你可以試試匯集全網視頻的  愛奇藝客戶端",error_code_desc11:"很抱歉，因爲版權限制，本節目暫無法觀看",error_code_title12:"很抱歉，由於平台限制原因，該視頻無法在網頁端播放。<br/>可使用愛奇藝客戶端觀看此視頻",error_code_desc12:"你可以試試看1080P全免費的愛奇藝客戶端",error_code_title13:"由於版權限制，您所在的地區無法觀看該視頻",error_code_title14:"本片受版權方約束，需要使用DRM碼流播放<br/>請登錄手機客戶端或者Pad客戶端進行觀看",error_code_desc14:"",error_code_desc21:"您沒有權限觀看此視頻",error_code_desc22:"您的帳號僅限2臺設備同時播放，請停止其他設備播放等待5分鍾或修改密碼",error_code_switch_flash:"播放出錯了，請點擊切換到原版Flash播放器",error_code_desc_http:"播放出錯了，請稍後刷新重試",error_code_title201:"抱歉，您訪問的視頻暫無法播放~",error_code_title206:"播放出錯了，請稍等片刻刷新試試~",error_code_title301:"很抱歉，當前視頻播放失敗，請刷新後再次嘗試。<br/>可點擊幫助反饋，上報播放問題，我們會盡快幫您解決~",error_code_desc_ad:"喔喔...廣告無法正常播放了，開通VIP功能跳過廣告，或關閉屏蔽廣告功能",controls_tip_history:'您上次觀看至<i class="iqp-txt-selected">#time#</i> 處, 愛奇藝為您自動續播。',controls_tip_skipheader:"已經為您跳過片頭",controls_tip_skiptailer:"即將為您跳過片尾",controls_tip_recharge_type1:'免費試看<i class="iqp-txt-selected">6</i>分鐘，觀看完整版請 <a href="javascript:;" class="iqp-txt-selected" data-event="recharge">開通VIP會員</a>',controls_tip_recharge_type4:'免費試看<i class="iqp-txt-selected">6</i>分鐘，觀看完整版請立即購買，點擊 <a href="javascript:;" class="iqp-txt-selected" data-event="recharge">開通網球會員</a>',controls_tip_recharge_type2:'試看<i class="iqp-txt-selected">#previewTime#</i>分鐘，因版權限制，觀看完整版請 <a href="javascript:;" class="iqp-txt-selected" data-event="recharge">購買本片</a>',controls_tip_recharge_type3:'試看<i class="iqp-txt-selected">#previewTime#</i>分鐘，因版權限制，觀看完整版請  <a href="javascript:;" class="iqp-txt-selected" data-event="useTicket">用券觀看</a>',controls_tip_recharge_defaultype:'免費觀看前<i class="iqp-txt-selected">#previewTime#</i>分鐘，完整觀看請 <a href="javascript:;" class="iqp-txt-selected" data-event="recharge">立即購買</a>',controls_tip_skipheadertailer:"跳過片頭片尾",controls_yes:"是",controls_no:"否",controls_tip_precache:"正在緩衝",controls_tip_switching:"正在切換到",controls_tip_switchedsucc:"已成功切換到",controls_tip_switchwaiting:"畫質，請稍候",controls_tip_switchedfail:"畫質切換失敗，請檢查網絡並再次嘗試",controls_tip_switchedpic:"畫質",controls_tip_playspeedguide:"在這裏可以調節播放倍速",controls_tip_speed_changed:"播放速度：<i class=\"iqp-txt-selected\">XX</i> ('shift'+'>'/'<' 增減倍速)",controls_tip_setting_normal:"正常",controls_subtitles_tip_switching:"正在切換到",controls_subtitles_tip_switchedsucc:"已成功切換到",controls_subtitles_tip_switchwaiting:"字幕，請稍候",controls_subtitles_tip_switchedfail:"字幕切換失敗，請檢查網絡並再次嘗試",controls_subtitles_tip_switchedpic:"字幕",controls_playlistbtn:"選集",controls_clickplay_hover:"點擊播放",controls_clickpause_hover:"點擊暫停",controls_replay_hover:"重新播放",controls_forward_hover:"下一集",controls_webfullscreen_hover:"網頁全屏",controls_exitwebfullscreen_hover:"退出網頁全屏",controls_fullscreen_hover:"全屏",controls_exitfullscreen_hover:"退出全屏",controls_download:"立即下載",controls_download_mobile:"立即體驗",controls_clientdownload_mobile:"使用愛奇藝客戶端，視頻播放更流暢~",controls_cycleplay:"循環播放",controls_select_player:"播放器選擇",controls_setting_recommend:"推薦使用  [ HTML5 ]",controls_setting_playratedesc:"倍速",controls_nextbtn:'<span class="iqp-titie-next">下壹條視頻 </span>',definition_name_limit:"極速",definition_name_standard:"流暢",definition_name_high:"高清",definition_name_superhigh:"超清",definition_name_720p:"720P",definition_name_1080p:"1080P",definition_name_4k:"4k",definition_name_1080P50:"1080P50",definition_name_ad:"廣告",definition_name_auto:"智能",error_errorcode_text:"錯誤代碼",error_switchplayer:"切換播放器",error_tryrefresh:"刷新試試",error_download:"立刻下載安裝",error_help:"幫助反饋",loading_text:"正在全力加載，請稍候…",score_task_guide:"再看10分鐘即可領取積分噢~",score_task_login:"播放任務達成，登錄可領積分獎勵~",score_task_success:"恭喜完成觀看視頻任務！<br>送你#score#積分獎勵",score_task_btn_info1:"查看詳情",score_task_btn_info2:"我的積分",score_task_btn_close1:"不再提示",score_task_btn_close2:"不再提示",score_task_btn_login:"立即登錄",ban_btn:"修改密碼",ban_tip_001:"賬號最多同時在2臺設備播放，終止其餘設備播放或修改密碼恢復",ban_tip_002:"檢測到賬號被多人共享，會員權益已暫停，請修改密碼",ban_tip_004:"檢測到您的帳號被嚴重分享，已永久封禁",error_maintitle:"Flash插件異常",error_fltitle:"下載官方Flash插件",error_h5title:"正在切換HTML5播放模式",error_fltip:"已安裝仍無法觀看",subtitles_switch:"字幕",subtitles_setting:"字幕設置",subtitles_back:"返回",subtitles_fontsize:"字號",subtitles_alpha:"透明度",subtitles_language:"語言",picture_in_picture:"畫中畫",contentMenu_bug:"問題反饋",contentMenu_link:"復制鏈接",contentMenu_shortcut:"快捷鍵說明",contentMenu_console:"下載調試信息",contentMenu_shortcut_text:"播放快捷鍵",contentMenu_shortcut_text1_1:"空格",contentMenu_shortcut_text1_2:"：播放，暫停視頻",contentMenu_shortcut_text2_2:"：音量增加5%",contentMenu_shortcut_text2_4:"：音量減少5%",contentMenu_shortcut_text3_2:"：快退5s",contentMenu_shortcut_text3_4:"：快進5s",contentMenu_shortcut_text4_2:"：倍速增加",contentMenu_shortcut_text4_4:"：倍速減少",contentMenu_shortcut_text5_2:"：播放上一集",contentMenu_shortcut_text5_4:"：播放下一集",contentMenu_shortcut_text6_2:"：快速定位至視頻10%-90%的內容處(僅限>5min視頻)",contentMenu_shortcut_text7_2:"：進入/退出全屏",contentMenu_shortcut_text8_2:"：靜音/取消靜音",contentMenu_shortcut_text9_2:"：重播",contentMenu_shortcut_text10_2:"：喚醒顯示播控條或退出全屏",loading_download_speed:"加載速度:",top_tip_like:"點贊",top_tip_cancel_like:"取消點贊",top_tip_collect:"收藏",top_tip_cancel_collect:"取消收藏",top_tip_size:"畫面尺寸",audiotrack_tip_switching:"正在切換到",audiotrack_tip_switchedsucc:"已成功切換到",audiotrack_tip_switchwaiting:"請稍候...",audiotrack_tip_video:"視頻",audiotrack_tip_switchedfail:"切換失敗，請檢查網絡並再次嘗試"}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports={error_code_title1:"呃，播放失败啦~",error_code_desc1:"你可以试试获取视频信息更  稳定的  爱奇艺客户端",error_code_desc2:"检测发现您可能在使用恶意插件，请检查并卸载后重试",error_code_desc6:"很抱歉，你访问的视频丢了",error_code_desc7:"该视频当前还未通过审核",error_code_title9:"很抱歉，该视频已被删除，感谢您使用爱奇艺",error_code_title10:"很抱歉，由于版权问题该视频已下线。感谢您使用爱奇艺",error_code_desc10:"你可以试试汇集全网视频的  爱奇艺客户端",error_code_desc11:"很抱歉，因为版权限制，本节目暂无法观看",error_code_title12:"很抱歉，由于平台限制原因，该视频无法在网页端播放。<br/>可使用爱奇艺客户端观看此视频",error_code_desc12:"你可以试试看1080P全免费的爱奇艺客户端",error_code_title13:"由于版权限制，您所在的地区无法观看该视频",error_code_title14:"本片受版权方约束，暂不支持网页端播放<br/>请使用移动客户端或电脑客户端进行观看 ",error_code_desc14:"",error_code_desc21:"您没有权限观看此视频",error_code_desc22:"您的账号仅限2台设备同时播放，请停止其他设备播放等待5分钟或修改密码",error_code_switch_flash:"播放出错了，请点击切换到原版Flash播放器",error_code_desc_http:"播放出错了，请稍后刷新重试",error_code_title201:"抱歉，您访问的视频暂无法播放~",error_code_title206:"播放出错了，请稍等片刻刷新试试~",error_code_title301:"很抱歉，当前视频播放失败，请刷新后再次尝试。<br/>可点击帮助反馈，上报播放问题，我们会尽快帮您解决~",error_code_desc_ad:"呃...广告无法正常播放了，开通VIP功能跳过广告，或关闭屏蔽广告功能",controls_tip_history:'您上次观看至<i class="iqp-txt-selected">#time#</i> 处, 爱奇艺为您自动续播。',controls_tip_skipheader:"已经为您跳过片头",controls_tip_skiptailer:"即将为您跳过片尾",controls_tip_recharge_type1:'免费试看<i class="iqp-txt-selected">6</i>分钟，观看完整版请 <a href="javascript:;" class="iqp-txt-selected" data-event="recharge">开通VIP会员</a>',controls_tip_recharge_type4:'免费试看<i class="iqp-txt-selected">6</i>分钟，观看完整版请 <a href="javascript:;" class="iqp-txt-selected" data-event="recharge">开通网球会员</a>',controls_tip_recharge_type2:'试看<i class="iqp-txt-selected">#previewTime#</i>分钟，因版权限制，观看完整版请 <a href="javascript:;" class="iqp-txt-selected" data-event="recharge">购买本片</a>',controls_tip_recharge_type3:'试看<i class="iqp-txt-selected">#previewTime#</i>分钟，因版权限制，观看完整版请  <a href="javascript:;" class="iqp-txt-selected" data-event="useTicket">用券观看</a>',controls_tip_recharge_defaultype:'免费观看前<i class="iqp-txt-selected">#previewTime#</i>分钟，完整观看请 <a href="javascript:;" class="iqp-txt-selected" data-event="recharge">立即购买</a>',controls_tip_skipheadertailer:"跳过片头片尾",controls_yes:"是",controls_no:"否",controls_tip_precache:"正在缓冲",controls_tip_switching:"正在切换到",controls_tip_switchedsucc:"已成功切换到",controls_tip_switchwaiting:"画质，请稍候",controls_tip_switchedfail:"画质切换失败，请检查网络并再次尝试",controls_tip_switchedpic:"画质",controls_tip_playspeedguide:"在这里可以调节播放倍速",controls_tip_speed_changed:"播放速度：<i class=\"iqp-txt-selected\">XX</i> ('shift'+'>'/'<' 增减倍速)",controls_tip_setting_normal:"正常",controls_subtitles_tip_switching:"正在切换到",controls_subtitles_tip_switchedsucc:"已成功切换到",controls_subtitles_tip_switchwaiting:"字幕，请稍候",controls_subtitles_tip_switchedfail:"字幕切换失败，请检查网络并再次尝试",controls_subtitles_tip_switchedpic:"字幕",controls_playlistbtn:"选集",controls_clickplay_hover:"点击播放",controls_clickpause_hover:"点击暂停",controls_replay_hover:"重新播放",controls_forward_hover:"下一集",controls_webfullscreen_hover:"网页全屏",controls_exitwebfullscreen_hover:"退出网页全屏",controls_fullscreen_hover:"全屏",controls_exitfullscreen_hover:"退出全屏",controls_download:"立即下载",controls_download_mobile:"立即体验",controls_clientdownload_mobile:"使用爱奇艺客户端，视频播放更流畅~",controls_cycleplay:"循环播放",controls_select_player:"播放器选择",controls_setting_recommend:"推荐使用  [ HTML5 ]",controls_setting_playratedesc:"倍速",controls_nextbtn:'<span class="iqp-titie-next">下一条视频 </span>',definition_name_limit:"极速",definition_name_standard:"流畅",definition_name_high:"高清",definition_name_superhigh:"超清",definition_name_720p:"720P",definition_name_1080p:"1080P",definition_name_4k:"4k",definition_name_1080P50:"1080P50",definition_name_ad:"广告",definition_name_auto:"智能",error_errorcode_text:"错误代码",error_switchplayer:"切换播放器",error_tryrefresh:"刷新试试",error_download:"立刻下载安装",error_help:"帮助反馈",loading_text:"正在全力加载，请稍候…",score_task_guide:"再看10分钟即可领取积分噢~",score_task_login:"播放任务达成，登录可领积分奖励~",score_task_success:"恭喜完成观看视频任务！<br>送你#score#积分奖励",score_task_btn_info1:"查看详情",score_task_btn_info2:"我的积分",score_task_btn_close1:"不再提示",score_task_btn_close2:"不再提示",score_task_btn_login:"立即登录",ban_btn:"修改密码",ban_tip_001:"账号最多同时在2台设备播放，终止其余设备播放或修改密码恢复",ban_tip_002:"检测到账号被多人共享，会员权益已暂停，请修改密码",ban_tip_004:"检测到您的帐号被严重分享，已永久封禁",error_maintitle:"Flash插件异常",error_fltitle:"下载官方Flash插件",error_h5title:"正在切换HTML5播放模式",error_fltip:"已安装仍无法观看",subtitles_switch:"字幕",subtitles_setting:"字幕设置",subtitles_back:"返回",subtitles_fontsize:"字号",subtitles_alpha:"透明度",subtitles_language:"语言",picture_in_picture:"画中画",contentMenu_bug:"问题反馈",contentMenu_link:"复制链接",contentMenu_shortcut:"快捷键说明",contentMenu_console:"下载调试信息",contentMenu_shortcut_text:"播放快捷键",contentMenu_shortcut_text1_1:"空格",contentMenu_shortcut_text1_2:"：播放，暂停视频",contentMenu_shortcut_text2_2:"：音量增加5%",contentMenu_shortcut_text2_4:"：音量减少5%",contentMenu_shortcut_text3_2:"：快退5s",contentMenu_shortcut_text3_4:"：快进5s",contentMenu_shortcut_text4_2:"：倍速增加",contentMenu_shortcut_text4_4:"：倍速减少",contentMenu_shortcut_text5_2:"：播放上一集",contentMenu_shortcut_text5_4:"：播放下一集",contentMenu_shortcut_text6_2:"：快速定位至视频10%-90%的内容处(仅限>5min视频)",contentMenu_shortcut_text7_2:"：进入/退出全屏",contentMenu_shortcut_text8_2:"：静音/取消静音",contentMenu_shortcut_text9_2:"：重播",contentMenu_shortcut_text10_2:"：唤醒显示播控条或退出全屏",loading_download_speed:"加载速度:",top_tip_like:"点赞",top_tip_cancel_like:"取消点赞",top_tip_collect:"收藏",top_tip_cancel_collect:"取消收藏",top_tip_size:"画面尺寸",audiotrack_tip_switching:"正在切换到",audiotrack_tip_switchedsucc:"已成功切换到",audiotrack_tip_switchwaiting:"请稍候...",audiotrack_tip_video:"视频",audiotrack_tip_switchedfail:"切换失败,请检查网络并再次尝试"}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a={};i.exports={getVars:function(){return a},setVars:function(e){a=e}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a=function(e){function t(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function i(e){return e.prefix}function a(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function n(e,t,i,a){for(var n=0;n<e.length;n++){var r=e[n];if("string"==typeof r){if(r==a)break}else if(r instanceof RegExp){if(r.test(a))break}else if("function"==typeof r&&r(t,i,a))break}return n!=e.length}function r(t,i,a){switch(e.arrayAccessForm){case"property":t[i]instanceof Array?t[i+"_asArray"]=t[i]:t[i+"_asArray"]=[t[i]]}!(t[i]instanceof Array)&&e.arrayAccessFormPaths.length>0&&n(e.arrayAccessFormPaths,t,i,a)&&(t[i]=[t[i]])}function o(e){var t=e.split(/[-T:+Z]/g),i=new Date(t[0],t[1]-1,t[2]),a=t[5].split(".");if(i.setHours(t[3],t[4],a[0]),a.length>1&&i.setMilliseconds(a[1]),t[6]&&t[7]){var n=60*t[6]+Number(t[7]);n=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*n:n),i.setMinutes(i.getMinutes()-n-i.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(i=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())));return i}function s(t,i,a){if(e.datetimeAccessFormPaths.length>0){var r=a.split(".#")[0];return n(e.datetimeAccessFormPaths,t,i,r)?o(t):t}return t}function d(t,i,a,r){return!(i==k.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||n(e.xmlElementsFilter,t,a,r)}function u(a,n){if(a.nodeType==k.DOCUMENT_NODE){for(var o=new Object,l=a.childNodes,c=0;c<l.length;c++){var f=l.item(c);if(f.nodeType==k.ELEMENT_NODE){var _=t(f);o[_]=u(f,_)}}return o}if(a.nodeType==k.ELEMENT_NODE){var o=new Object;o.__cnt=0;for(var l=a.childNodes,c=0;c<l.length;c++){var f=l.item(c),_=t(f);if(f.nodeType!=k.COMMENT_NODE){var h=n+"."+_;d(o,f.nodeType,_,h)&&(o.__cnt++,null==o[_]?(o[_]=u(f,h),r(o,_,h)):(null!=o[_]&&(o[_]instanceof Array||(o[_]=[o[_]],r(o,_,h))),o[_][o[_].length]=u(f,h)))}}for(var p=0;p<a.attributes.length;p++){var b=a.attributes.item(p);o.__cnt++,o[e.attributePrefix+b.name]=b.value}var g=i(a);return null!=g&&""!=g&&(o.__cnt++,o.__prefix=g),null!=o["#text"]&&(o.__text=o["#text"],o.__text instanceof Array&&(o.__text=o.__text.join("\n")),e.stripWhitespaces&&(o.__text=o.__text.trim()),delete o["#text"],"property"==e.arrayAccessForm&&delete o["#text_asArray"],o.__text=s(o.__text,_,n+"."+_)),null!=o["#cdata-section"]&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],"property"==e.arrayAccessForm&&delete o["#cdata-section_asArray"]),0==o.__cnt&&"text"==e.emptyNodeForm?o="":1==o.__cnt&&null!=o.__text?o=o.__text:1!=o.__cnt||null==o.__cdata||e.keepCData?o.__cnt>1&&null!=o.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==o.__text||""==o.__text.trim())&&delete o.__text:o=o.__cdata,delete o.__cnt,!e.enableToStringFunc||null==o.__text&&null==o.__cdata||(o.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),o}if(a.nodeType==k.TEXT_NODE||a.nodeType==k.CDATA_SECTION_NODE)return a.nodeValue}function l(t,i,n,r){var o="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+i;if(null!=n)for(var s=0;s<n.length;s++){var d=n[s],u=t[d];e.escapeMode&&(u=a(u)),o+=" "+d.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?o+='"'+u+'"':o+="'"+u+"'"}return o+=r?"/>":">"}function c(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function f(e,t){return-1!==e.indexOf(t,e.length-t.length)}function _(t,i){return!!("property"==e.arrayAccessForm&&f(i.toString(),"_asArray")||0==i.toString().indexOf(e.attributePrefix)||0==i.toString().indexOf("__")||t[i]instanceof Function)}function h(e){var t=0;if(e instanceof Object)for(var i in e)_(e,i)||t++;return t}function p(t,i,a){return 0==e.jsonPropertiesFilter.length||""==a||n(e.jsonPropertiesFilter,t,i,a)}function b(t){var i=[];if(t instanceof Object)for(var a in t)-1==a.toString().indexOf("__")&&0==a.toString().indexOf(e.attributePrefix)&&i.push(a);return i}function g(t){var i="";return null!=t.__cdata&&(i+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?i+=a(t.__text):i+=t.__text),i}function v(t){var i="";return t instanceof Object?i+=g(t):null!=t&&(e.escapeMode?i+=a(t):i+=t),i}function m(e,t){return""===e?t:e+"."+t}function y(e,t,i,a){var n="";if(0==e.length)n+=l(e,t,i,!0);else for(var r=0;r<e.length;r++)n+=l(e[r],t,b(e[r]),!1),n+=x(e[r],m(a,t)),n+=c(e[r],t);return n}function x(e,t){var i="";if(h(e)>0)for(var a in e)if(!_(e,a)&&(""==t||p(e,a,m(t,a)))){var n=e[a],r=b(n);if(null==n||void 0==n)i+=l(n,a,r,!0);else if(n instanceof Object)if(n instanceof Array)i+=y(n,a,r,t);else if(n instanceof Date)i+=l(n,a,r,!1),i+=n.toISOString(),i+=c(n,a);else{var o=h(n);o>0||null!=n.__text||null!=n.__cdata?(i+=l(n,a,r,!1),i+=x(n,m(t,a)),i+=c(n,a)):i+=l(n,a,r,!0)}else i+=l(n,a,r,!1),i+=v(n),i+=c(n,a)}return i+=v(e)}e=e||{},function(){void 0===e.escapeMode&&(e.escapeMode=!0),e.attributePrefix=e.attributePrefix||"_",e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1)}();var k={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(void 0===e)return null;var i;if(window.DOMParser){var a=new window.DOMParser,n=null;if(!t)try{n=a.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){n=null}try{i=a.parseFromString(e,"text/xml"),null!=n&&i.getElementsByTagNameNS(n,"parsererror").length>0&&(i=null)}catch(e){i=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e);return i},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?o(e):e},this.xml2json=function(e){return u(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return x(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}};i.exports=a}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a={getVer:function(){var e="";try{e=navigator.plugins["Shockwave Flash"].description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){}}return"string"!=typeof e&&(e=""),(e||"0 r0").match(/\d+/g)},checkFlashLzma:function(){var e=a.getVer();return e.length>2&&(parseInt(e[0],10)>=12||11===parseInt(e[0],10)&&parseInt(e[1],10)>=4)},outsite:function(){var e,t=[];try{e=!window.parent.location.href}catch(i){for(0===t.length&&(e=!0);t.length;)if(-1===document.referrer.indexOf(t.pop())){e=!0;break}}return e+""}()};i.exports=a}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(8),s=function(){},d=r("BaseAdapter",{extend:n,construct:function(){var e=this;e.__canRecordEvents=!0,o.init(),e.eventsRecorder={},e.__evtRecorderTimer=setTimeout(function(){e.stopRecordEvents()},3e5);var t=e.fire;e.fire=function(i){t.call(e,i);var a=i.type;e.__canRecordEvents&&(e.eventsRecorder[a]||(e.eventsRecorder[a]=[]),"playerStateChange"===a?e.eventsRecorder[a].push(i):e.eventsRecorder[a]=[i])},e.isSmallWindow=null},methods:{load:function(e){this._player.load(e)},stopRecordEvents:function(){var e=this;e.__canRecordEvents=!1,clearTimeout(e.__evtRecorderTimer),setTimeout(function(){e.eventsRecorder={}},1e4)},destroy:function(){var e=this;e._player.destroy(),e.fire({type:"destroy"})},play:function(){this._player.play()},resume:function(){this._player.resume()},replay:function(){this._player.replay()},pause:function(){this._player.pause()},seek:function(e){this._player.seek(e)},stop:function(){this._player.stop()},getPlayInfo:function(e){this._player.getPlayInfo(e)},getVideoInfo:function(e){this._player.getVideoInfo(e,this._tvid,this._videoid)},getPlayerId:function(){return this._player.getPlayerId()},setQiyiUserLogin:function(e){this._player.setQiyiUserLogin(e)},switchVideo:function(e){this._player.switchVideo(e)},switchNextVideo:function(){this._player.switchNextVideo()},switchPreVideo:function(){this._player.switchPreVideo()},addVideoList:function(e){this._player.addVideoList(e)},removeVideoList:function(e){this._player.removeVideoList(e)},setSmallWindowMode:function(e){var t=this;t.isSmallWindow!==e&&(t.isSmallWindow=e,t._player.setSmallWindowMode&&t._player.setSmallWindowMode(e))},jsNotifyAdManager:function(e){this._player.jsNotifyAdManager(e)},getQiyiPlayerLog:function(e){try{this._player.getQiyiPlayerLog(e)}catch(e){}},clearBanWord:function(){this._player.clearBanWord()},addBanWord:function(e){void 0!==e&&""!==e&&this._player.addBanWord(e)},removeBanWord:function(e){this._player.removeBanWord(e)},getIsInMainVideo:s,setCyclePlay:s,getQiyiPlayerInfo:s,getQiyiVideoInfo:s,setQiyiSubscribe:s,setLight:s,expand:s,setBarrageStatus:s,setSelfSendBarrageInfo:s,setBarrageSetting:s,setActivityNoticeInfo:s,zoomQiyiVideo:s,setTimeListener:s,getHasBarrageConfigInfo:s,getHasBarrageChannelConfigInfo:s,getCommentConfigInfo:s,setSubscribeInfo:s,setSubscribeStateChange:s,setContinuePlayState:s,getSwitchVideoType:s,forceToSaveCurVideoInfo:s,getContinueData:s,setQiyiVisits:s,initQiyiVideo:s,getQiyiPlayerType:s,setPlayerWebFullScreen:s,setPlayerFullScreen:s}});a.exports=d}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){function n(){var e=r.browser.WECHAT,t=r.browser.CHROME&&u>=34&&!r.browser.EDGE,i=r.browser.SAFARI&&c>=10,a=e||t||i||!1;return s&&a}var r=i(4),o=i(6),s=(i(7),i(46)),d=navigator.userAgent,u=/chrome\/([\d\.]+) /gi.exec(d.toLowerCase());u=u?parseInt(u[1],10):0;var l=/firefox\/([\d\.]+)/gi.exec(d.toLowerCase());l=l?parseInt(l[1],10):0;var c=/Version\/([\d\.]+)/gi.exec(d.toLowerCase());c=c?parseFloat(c[1]):0;var f=[];a.exports={flag:n,canaryUserPercent:function(e){var t=!0;return e=parseInt(e,10),t=t&&-1===f.indexOf(e)},canaryAutoVd:function(){var e=o.get("QC005");if(e.length>1){var t=e.substr(0,1);if(10==parseInt(t,16))return!0}return!1},canaryHLSCdnLoader:function(){var e=o.get("QC005");if(e.length>1){var t=e.substr(0,1);if(parseInt(t,16)<=5||parseInt(t,16)>=12)return!0}return!1}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports={win:"01010031010000000000",win_tw:"01010031010010000000",Mac:"01080031010000000000",Mac_tw:"01080031010010000000",aPad:"03020031010000000000",aPad_tw:"03020031010010000000",iPad:"03030031010000000000",iPad_tw:"03030031010010000000",phone:"02020031010000000000",phone_tw:"02020031010010000000"}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(67),r=i(4),o=i(7),s="";a.exports={getSrc:function(){return s=r.browser.iPad?o.isTWLocale()?n.iPad_tw:n.iPad:r.os.mac?o.isTWLocale()?n.Mac_tw:n.Mac:r.os.androidTablet?o.isTWLocale()?n.aPad_tw:n.aPad:o.isTWLocale()?n.phone_tw:n.phone,o.isTWLocale()&&(s=r.getPtid(!0)),s}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(1),o=i(24),s=i(56),d=i(41),u=new r("AnalyzeVidls");a.exports={analyzeVds:function(e,t){var i,a=e.vsInfo,r=(e.isVIP,e.tvid,e.cid,e.sid,e.albumId,null),l=null;n||(n=new d.manifestParser),t||(i=[]);for(var c=0;c<a.length;c++){var f=a[c],_=f.fs,h=f.ff,p=f.vid,b=o.getOldVd(f.bid),g=f.s,v=f.drmType,m={},y=[],x=f.duration||0,k=f.vsize,w="";if(_){_.length;var S=f.scrsz.split("x");m={width:S[0],height:S[1]}}switch(h){case"ts":"string"==typeof f.m3u8&&f.m3u8.length>0&&(w=f.m3u8,n.reset(),n.push({type:d.ManifestTypes.HLS,chunk:{data:w,bid:f.bid}}),n.end(),r=n.isAccurateTimeStamp,l=n.parser,y=n.segments.map(function(e){return e.__url=e.uri.toString(),e}));break;case"m4s":if("string"==typeof f.m3u8&&f.m3u8.length>0){var T=JSON.parse(f.m3u8);Array.isArray(T.watermark_group)&&T.watermark_group.length>0&&(w=T.payload[T.watermark_group[0]],w.duration=f.duration,f.drm&&"A00000"===f.drm.code&&(w.drm={keySystemServer:f.drm.license_host},7===v?w.drm.keySystem="com.widevine.alpha":8===v&&(w.drm.keySystem="com.microsoft.playready"),u.log("analyze  drmType 7widevine/8 = "+v+",keySystem"+w.drm.keySystem+", server = "+w.drm.keySystemServer)),n.reset(),n.push({type:d.ManifestTypes.DASH,chunk:w}),n.end(),y=n.tracks.video.segments.map(function(e){return e.__url=e.uri.toString(),e}))}}var A=!1,I=!0,E=[];void 0!==g&&(A=!0,I=0===parseInt(g,10),E=f.vut||[]);var P=new s(b,p,h,x,k,y,m,I,A,E,w,v);if(t)b==t&&(i=P);else{for(var D=!1,q=0;q<i.length;q++)i[q].vd==P.vd&&(D=!0,0===i[q].segments.length&&P.segments.length>0&&(i[q]=P));D||i.push(P)}}return null!=r&&(i.isAccurateTimeStamp=r),null!=l&&(i.manifestParser=l),i}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(4),r=i(7);a.exports={getFLVContent:function(e,t){var i={};i.segments=[];for(var a=null,o=0;o<e.segments.length;o++)a={totalBytes:e.segments[o].size,startTime:e.segments[o].startTime/1e3,duration:(e.segments[o].endTime-e.segments[o].startTime)/1e3,dispatUrl:e.segments[o].__url,bossKey:""},e.segments[o].boss&&e.segments[o].boss.data&&"A00000"==e.segments[o].boss.code&&(a.bossKey=e.segments[o].boss.data.t),i.segments.push(a);return i.dispatchParams={movieIsMember:t.isVIP,communicationlId:"afbe8fd3d73448c9",tvid:t.tvid,vid:t.vid,albumId:t.albumId,QY00001:"",mi:"tv_"+t.albumId+"_"+t.tvid+"_"+t.vid,auth_ptime:t.previewTime,pf:n.getPtid(r.isTWLocale()),playerType:"main",currentDefinition:e.vd,key:""},e.segments.length>0&&e.segments[0].boss&&e.segments[0].boss.data&&"A00000"==e.segments[0].boss.code&&(i.dispatchParams.key=e.segments[0].boss.data.t,i.dispatchParams.QY00001=e.segments[0].boss.data.u),i},getFLVADContent:function(e){var t={};t.segments=[];for(var i=null,a=0;a<e.length;a++)i={totalBytes:e[a].size,startTime:e[a].startTime/1e3,duration:(e[a].endTime-e[a].startTime)/1e3,dispatUrl:e[a].__url,bossKey:"",isAd:e[a].ad,gas:e[a].__gas},t.segments.push(i);return t.dispatchParams={},t}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(10),s=[],d=[],u=r("StatusPool",{construct:function(){},extend:n,methods:{add:function(e,t){var i=this;if(o.isArray(e))for(var a=0;a<e.length;a++)i.add(e[a],t);else{var n=!0===t?d:s;-1===n.indexOf(e)&&n.push(e)}},remove:function(e){var t=this;if(o.isArray(e))for(var i=0;i<e.length;i++)t.remove(e[i]);else{var a=s.indexOf(e);a>-1&&s.splice(a,1)}},removeAll:function(){s.splice(0,s.length)},has:function(e){return s.concat(d).indexOf(e)>-1}}});a.exports=new u}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(1),s=i(36),d=new o("h5PlayerAPIProxy"),u=r("h5PlayerAPIProxy",{construct:function(){var e=this;e.__api_callbacks=[];var t=e.fire;e.fire=function(i){t.call(e,i),e.__api_callbacks.forEach(function(t){t.call(e,i)})},e.addCallback=function(e){this.__api_callbacks.push(e)}},extend:n,methods:{callJsDoSomething:function(e){d.log("call js setJsDoSomething: "+e);var t={};t.type="setJsDoSomething",t.data={origin:s.getVars().origin||"flash",handleType:e},this.fire(t)},callJsFindGoods:function(e){d.log("call js callJsFindGoods, time:: "+e);var t={};t.type="findGoods",t.data={origin:s.getVars().origin||"flash",time:e},this.fire(t)},callJsRequestVideoListByPage:function(e){d.log("call js requestVideoListByPage, pageno:: "+e);var t={};t.type="requestVideoListByPage",t.data={origin:s.getVars().origin||"flash",pageno:e},this.fire(t)},callJsRequestChangeVideo:function(e){d.log("call js requestChangeVideo, videoIndex:: "+e.pd);var t={};t.type="requestChangeVideo",t.data={origin:s.getVars().origin||"flash",pd:e.pd,vid:e.vid,tvid:e.tvid},this.fire(t)}}});a.exports=new u}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(1),o=i(2),s=i(0),d=i(21),u=i(13).CORE_TYPES,l=new r("SkinBase"),c=!1;a.exports=s("SkinBase",{construct:function(e,t,i,a){var n=this;n.core=i,n.view=a,n.videoWrapper=d(e),n.plgContainer=d(t);var r=function(){for(var e=n.plugins,t=0;t<e.length;t++)n._checkPlugin(e[t])};i.on(u.Status_AdInit,function(){c=!0,r()}).on(u.Status_AresPlay,function(){c=!0,r()}).on(u.Status_AresEnded,function(){c=!1,r()}),i.on(u.NTF_TimeUpdate,function(){r()}).on(u.NTF_AD_TimeUpdate,function(){r()})},extend:o,props:{plugins:[],styleQueues:[],paramObject:{}},methods:{registerPlugins:function(e){n||(n=this);var t=n,i=t.core;e=e||[],e.forEach(function(e){try{var a=new e(t,i);if(!a.name)throw new Error("plugin name is null");a.init(),t._checkPlugin(a),t.plugins.push(a)}catch(e){l.error(e.stack)}})},loadSkin:function(e,t,i){var a=this;t&&i&&(n.paramObject[i]=t),new e(a.videoWrapper,a.plgContainer,a.core,n)},_checkPlugin:function(e){var t=this;switch(t.core.getEngineType()){case"DATA":c=t.core.isAd()}c?e.disable():e.enable()}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=n("XMLParser",{methods:{parse:function(e){var t=null;if(!(window.DOMParser&&document.implementation&&document.implementation.createDocument))return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){}return t},load:function(e,t){var i=null;window.XMLHttpRequest&&(i=new XMLHttpRequest),null!=i&&(i.open("GET",e,!0),i.responseType="arraybuffer",i.send(null),i.onload=function(e){t(i,this)})}}});a.exports=new r}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=window,r=i(76),o=i(15),s=n.QiyiPlayerConfig.H5_PLAYER_URL;Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=+arguments[1]||0;if(0===t||isNaN(i)||i>=t)return-1;for(i<0&&(i=t+i)<0&&(i=0);i<t;++i)if(this[i]===e)return i;return-1});var d=n.QiyiPlayerCallbacks||[],u=function(e){for(var t=0;t<d.length;t++)d[t].call(null,e);d=[]};d.length>0&&u(r);var l=function(e){if(e){var t=function(e){var t=/\/.+_(\w+)\.js$/gi.exec(e);return t&&2===t.length?t[1]:""},i=function(e){var i=r.version,a=t(e);""!==a&&i!==a?(n.QiyiPlayerCallbacks=d,o.seriesLoadScripts(e,function(e){})):u(r)};-1===d.indexOf(e)&&d.push(e),n.QiyiPlayerConfig?i(s):o.seriesLoadScripts("//static.iqiyi.com/js/player/config/online.js",function(t){t?i(s):"function"==typeof e&&e(null)})}};a.exports={ready:l}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(37),r=i(36),o=(i(3),i(4)),s=i(11),d=i(9),u=i(46),l=i(6),c=(i(64),i(7)),f=i(1),_=i(23),h=i(47),p=i(77),b=i(78),g=i(79),v=i(114),m={},y=new f("EnjoyPlayerManager"),x={},k=navigator.userAgent,w=function(e){return m[e]},S=function(e){var t=!0,i=e.tvid||"",a=e.vid||"",n=w(e.parentId);return e.hasOwnProperty("parentId")?null!=n?t=!1:""!==i&&""!==a||(t=!1):t=!1,t},T=function(e){var t=x[e]||[];x[e]=[];for(var i=0;i<t.length;i++)!function(e,t){setTimeout(function(){e[t].call()},0)}(t,i)},A=function(e,t){var i=w(e),a=x[e]||[];x[e]=a,a.push(t),i&&i.__loadsuccess&&T(e)},I=function(e,t){if(e.sign&&""!==e.sign){var i={sign:e.sign,tv_id:e.tvid,validation_type:1,save_type:e.accessType?e.accessType:1,appId:e.appid,tn:Math.random()};s.jsonp({url:window.location.protocol+"//openapi.iqiyi.com/api/player/newvalidation",params:i,success:function(i){if("A00000"===i.code){var a=i.data;a.ad&&a.ad.cid?(e.cid=a.ad.cid,t(e)):t(e)}else t(e)},failure:function(i){t(e)}})}else if(e.accessToken&&""!==e.accessToken){var a={access_token:e.accessToken,tv_id:e.tvid,validation_type:1,save_type:e.accessType?e.accessType:1,appId:e.appid,tn:Math.random()};s.jsonp({url:window.location.protocol+"//openapi.iqiyi.com/api/player/validation",params:a,success:function(i){if("A00000"===i.code){var a=i.data;a.ad&&a.ad.cid?(e.cid=a.ad.cid,t(e)):t(e)}else t(e)},failure:function(i){t(e)}})}else t(e)},E=function(e,t){var i=parseInt(e.tvid,10);if(i<9e7&&(e.tvid=(100*(i+9e5)+0).toString()),!S(e))return null;e.local&&c.setLocale(e.local),e.ptid&&o.setPtid(e.ptid),e.width&&e.height&&(t.style.width=e.width.indexOf("%")>0?parseInt(e.width,10)+"%":parseInt(e.width,10)+"px",t.style.height=e.height.indexOf("%")>0?parseInt(e.height,10)+"%":parseInt(e.height,10)+"px");var a=function(){return l.get("player_forcedType")||null}()||e.playerType||function(){var t=h.PlayerType_FlashVOD,i=d.query("__playertype__"),a=!0===e.usevr||"true"===e.usevr,n=1===parseInt(e.supportedDrmTypes,10),r=!0===e.isPaoPaoFeed||"true"===e.isPaoPaoFeed,s=/chrome\/([\d\.]+) /gi.exec(k.toLowerCase());s=s?parseInt(s[1],10):0;var f=function(){return u&&("true"===d.query("__playerp2p__")||o.browser.CHROME&&s>=52&&"1"!==l.get("QP004")&&!c.isTWLocale()&&!a&&!n&&!r)}();if(i)switch(i){case"h5":t=h.PlayerType_Html5VOD;break;case"flash":t=h.PlayerType_FlashVOD}else(o.os.ios||o.os.android||f)&&(t=h.PlayerType_Html5VOD);return t}();e.plyct=+new Date,y.log("player type: "+a+", player version: "+n+", location: "+window.location.href+", env: "+k.toLowerCase());p.createhvt("UA-iqiyi-10000801");var r;switch(a){case h.PlayerType_Html5VOD:l.set("QP001",1,{expires:31536e6,path:"/",domain:"iqiyi.com"}),r=new g(e);break;case h.PlayerType_FlashVOD:l.set("QP001",0,{expires:31536e6,path:"/",domain:"iqiyi.com"}),r=new v(e)}m[e.parentId]=r,r.on(h.QYPLAYER_LOAD_SUCCESS,function(e){r.__loadsuccess=!0,e.data=e.data||{};var t=e.data.playerId;t&&T(t)});var s="";return r.on(h.QYPLAYER_STATE_CHANGE,function(e){var t=e.data.state.toLocaleLowerCase(),i={};switch(i.tvid=e.data.tvid||"",i.albumId=e.data.albumId||"",i.cid=e.data.cid||"",i.playerVersion=e.data.playerVersion||"",t){case h.QYPLAYER_STATUS_END_PLAY:var a,n=e.data.tvid;e.data.spend?(a=e.data.spend,i.duration=e.data.spend):a=e.data.prePlayingDuration,p.hvt_end(n,a),b.sendEndPlayPingback(i);break;case h.QYPLAYER_STATUS_START_PLAY:case h.QYPLAYER_STATUS_AD_START_PLAY:var r=e.data.tvid;r!==s&&(p.hvt_start(r),b.sendStartPlayPingback(i),s=r)}}),r.on(h.QYPLAYER_STATUS_DATA_READY,function(e){var t=e.data.tvid;p.hvt_init(t)}),r.on(h.QYPLAYER_VID_CHANGE,function(e){var t,i,a={};e.data.preMovieInfo?(t=e.data.preMovieInfo.tvid,i=e.data.preMovieInfo.spend,a.albumId=e.data.preMovieInfo.albumId||"",a.cid=e.data.preMovieInfo.cid||""):(t=e.data.preTvid,i=e.data.prePlayingDuration),a.playerVersion=e.data.playerVersion||"",a.tvid=t||"",a.duration=i||"",p.hvt_end(t,i),b.sendEndPlayPingback(a)}),r.on("destroy",function(){var e=this.getPlayerId();delete m[e]}),r};a.exports={createPlayer:function(e){y.log("createPlayer,params: "+f.stringify(e)),_.plyastm=+new Date;var t=document.getElementById(e.parentId),i=r.mix(e,t);I(i,function(e){E(e,t)})},getPlayerById:function(e){return w(e)},destroyPlayer:function(e){w(e).destroy()},constantType:h,version:"{{PLAYER_HASH}}",ready:A}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(15);!function(){window.HyperVideoAnalyticsObjects=window.HyperVideoAnalyticsObjects||[],window.HyperVideoAnalyticsObjects.push("_hvt"),window._hvt=window._hvt||function(){return(window._hvt.q=window._hvt.q||[]).push(arguments)},n.seriesLoadScripts("//a.irs01.com/hvt.js?v=1.0",function(e){})}();var r=function(){return"function"==typeof _hvt&&o},o=!0;a.exports={createhvt:function(e,t){var i=e||"YOUR-UA";o=!(0===t||"0"===t),r()&&_hvt("create",i,{api_url:"//iqiyi.irs01.com/hvt",iframe_url:"//a.irs01.com/storage.html",swf_url:"//a.irs01.com/storage.swf#",storage_id:"_iwt_id"})},hvt_init:function(e){r()&&_hvt("init",{type:"manual"},{info:{v_id:e},upid:""})},hvt_start:function(e){r()&&_hvt("send","start",{info:{v_id:e},spend:0,upid:"",progress:""})},hvt_end:function(e,t){t=Math.ceil(t/1e3),r()&&_hvt("send","end",{info:{v_id:e},spend:t,upid:"",progress:""})},hvt_desctory:function(){r()&&_hvt("destroy")}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(3),r=i(8),o=i(11),s=i(4),d=i(7),u=window.location.protocol,l=u+"//msg.qy.net/v5/bi/opendata",c="01010021010000000000",f=function(){s.browser.weixin?s.os.ios?c="02038001010000000000":s.os.android&&(c="02028001010000000000"):s.os.ios?c=s.os.iosMobile?"02030031010000000000":"03030021010000000000":s.os.android&&(c=s.os.androidMobile?"02020031010000000000":"03020021010000000000"),d.isTWLocale()&&(c=s.getPtid(!0))};f(),setTimeout(f,2e3);var _="1",h="10",p="101";s.browser.iPad?(_="2",h="20",p="202"):(s.os.ios||s.os.android)&&(_="2",h="20",p="201");var b=_+"_"+h+"_"+p,g="";s.os.ios||s.os.mac?("mac",g=2):s.os.android&&("android",g=1);var v=function(e){!function(){var t={p1:b,flashuid:r.getFluid()||"",v:e.playerVersion,pkg:"",sid:r.getWeid(),sttime:"",os_t:g,os_v:navigator.platform||"",ua_model:"",brand:"",lang:navigator.language||navigator.browserLanguage,resolution:window.screen.width+"*"+window.screen.height,network:"",cell_id:"",gps_lon:"",gps_lat:"",ipv4:"",tvid:e.tvid||"",aid:e.albumId||"",cid:e.cid||"",pid:r.getEid(),duration:e.duration||"",rn:+new Date,rfr:window.document.referrer,url:window.location.href,br:s.browser.userAgent,ce:r.getWeid(),c2:""};n(t,e,!0),o.beacon(t,l)}()};a.exports={sendStartPlayPingback:function(e){e.type=3,e.sttime=Math.round((new Date).getTime()/1e3),v(e)},sendEndPlayPingback:function(e){e.type=4,e.sttime=Math.round((new Date).getTime()/1e3),v(e)}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(1),o=i(65),s=i(80),d=i(13).CORE_TYPES,u=i(29),l=i(47);new r("h5Adapter");a.exports=n("H5Adapter",{construct:function(e){var t=this;t._player=new s(e);var i=function(e,i){i=i||{},i.state=e.toLocaleLowerCase(),t.fire({type:l.QYPLAYER_STATE_CHANGE,data:i})},a=function(e,i){var a={};a.type=e,i&&(a.data=i),t.fire(a)};t._player.on(d.NTF_StatusChanged,function(e){switch(e.data.state){case d.Status_AdStartPlay:i(l.QYPLAYER_STATUS_AD_START_PLAY,e.data);break;case d.Status_AdPlaying:i(l.QYPLAYER_STATUS_AD_PLAYING,e.data);break;case d.Status_AdPaused:i(l.QYPLAYER_STATUS_AD_PAUSED,e.data);break;case d.Status_Loadstart:a(l.QYPLAYER_H5_VIDEO_LOADSTART);break;case d.Status_LoadedMetaData:a(l.QYPLAYER_H5_VIDEO_LOADEDMETADATA);break;case d.Status_StartPlay:i(l.QYPLAYER_STATUS_START_PLAY,e.data);break;case d.Status_Waiting:i(l.QYPLAYER_STATUS_WAITING,e.data);break;case d.Status_Paused:i(l.QYPLAYER_STATUS_PAUSED,e.data);break;case d.Status_Playing:i(l.QYPLAYER_STATUS_PLAYING,e.data);break;case d.Status_Stoped:i(l.QYPLAYER_STATUS_STOPED,e.data);break;case d.Status_End_Play:i(l.QYPLAYER_STATUS_END_PLAY,e.data);break;case d.Status_PlayError:i(l.QYPLAYER_STATUS_ERROR,e.data)}}),t._player.on(d.NTF_VRSReady,function(e){a(l.QYPLAYER_STATUS_DATA_READY,e.data.data)}),t._player.on(d.NTF_CanPlayThrough,function(e){}),t._player.on(d.NTF_VolumeChanged,function(e){a(l.QYPLAYER_H5_VOLUME_CHANGED,e.data)}),t._player.on(d.NTF_DurationChanged,function(e){a(l.QYPLAYER_H5_DURATION_CHANGED,e.data)}),t._player.on(d.NTF_VideoChanged,function(e){a(l.QYPLAYER_VIDEO_CHANGE,e.data)}),t._player.on(d.NTF_VideoChange,function(e){a(l.QYPLAYER_VID_CHANGE,e.data)}),t._player.on(d.NTF_FollowUpNextLoad,function(e){a(l.QYPLAYER_FOLLOW_UPNEXT_LOAD,e.data)}),t._player.on(l.QYPLAYER_DOSOMETHING,function(e){t.fire({type:l.QYPLAYER_DOSOMETHING,data:e.data})}),t._player.on(l.QYPLAYER_REQUEST_VIDEOLIST_BY_PAGE,function(e){t.fire({type:l.QYPLAYER_REQUEST_VIDEOLIST_BY_PAGE,data:e.data})}),t._player.on(l.QYPLAYER_REQUEST_CHANGE_VIDEO,function(e){t.fire({type:l.QYPLAYER_REQUEST_CHANGE_VIDEO,data:e.data})}),t._player.on(d.NTF_Error,function(e){i(l.QYPLAYER_STATUS_ERROR,e.data),"A00011"===e.data.realcode&&a(l.QYPLAYER_RECHARGE,{code:"Q00310",from:""})}),t._player.on(d.NTF_Recharge,function(e){a(l.QYPLAYER_RECHARGE,e.data.data)}),t._player.on(l.QYPLAYER_FIND_GOODS,function(e){t.fire({type:l.QYPLAYER_FIND_GOODS,data:e.data})}),t._player.on(u.NTF_SHOW_LOGIN_PANEL,function(e){t.fire({type:l.QYPLAYER_SHOW_LOGIN_PANEL,data:e.data})}),setTimeout(function(){a(l.QYPLAYER_LOAD_SUCCESS,{playerId:e.parentId}),a(l.QYPLAYER_BARRAGE_ALLOWED,{enable:!1})},0),t._player.on(u.NTF_Barrage_SetConfigInfo,function(e){a(l.QYPLAYER_SET_BARRAGE_CONFIG_INFO,{configInfo:e.data})}),t._player.on(u.NTF_Barrage_SetChannelConfigInfo,function(e){a(l.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO,{configInfo:e.data})}),t._player.on(u.NTF_Barrage_SetSwitch,function(e){e.data&&e.data.selfFire&&t.fire({type:l.QYPLAYER_BARRAGE_STATE_CHANGE,data:{barrageState:!0===e.data.isOpen?1:0}})}),t._player.on(u.NTF_WebFullScreen_BeforeChange,function(e){t.fire({type:l.QYPLAYER_WEBFULLSCREEN_BEFORE_CHANGE,data:"enter"===e.data})}),t._player.on(u.NTF_WebFullScreen_AfterChange,function(e){t.fire({type:l.QYPLAYER_WEBFULLSCREEN_AFTER_CHANGE,data:"enter"===e.data})}),t._player.on(u.NTF_FullScreen_BeforeChange,function(e){t.fire({type:l.QYPLAYER_FULLSCREEN_BEFORE_CHANGE,data:"enter"===e.data})}),t._player.on(u.NTF_FullScreen_AfterChange,function(e){t.fire({type:l.QYPLAYER_FULLSCREEN_AFTER_CHANGE,data:"enter"===e.data})}),t._player.on(u.NTF_Barrage_NotifyGiftInfo,function(e){t.fire({type:l.QYPLAYER_NOTIFY_GIFT_INFO,data:e.data})})},extend:o,methods:{getQiyiPlayerInfo:function(e){this._player.getQiyiPlayerInfo(e)},getQiyiPlayerType:function(e){return e&&"function"==typeof e&&e("h5"),"h5"},setBarrageStatus:function(e){this._player.setBarrageStatus(e)},setSelfSendBarrageInfo:function(e){this._player.setSelfSendBarrageInfo(e)},setBarrageSetting:function(e){this._player.setBarrageSetting(e)},setPlayerWebFullScreen:function(e){this._player.setPlayerWebFullScreen(e)},setPlayerFullScreen:function(e){this._player.setPlayerFullScreen(e)},addPlayListView:function(e){this._player.addPlayListView(e)}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(5),s=i(28),d=i(45),u=i(30),l=i(1),c=i(82),f=i(48),_=i(37),h=i(13),p=i(104),b=i(29),g=i(13).CORE_TYPES,v=i(72),m=i(44),y=new l("h5Player");a.exports=r("h5Player",{construct:function(e){var t=this,i={playerVersion:_,playerType:"enjoy"};t._playerId=e.parentId,t.__tidyVars(e);var a=document.getElementById(e.parentId),n=document.createElement("div");n.innerHTML='<div class="pw-video" tabindex="-1"></div>',a.insertBefore(n.firstChild,null),n=null;var r=a.querySelector(".pw-video"),o=document.createElement("video");o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x-webkit-airplay","allow"),r.appendChild(o);var s=document.createElement("div");s.setAttribute("data-player-hook","plgcontainer"),r.appendChild(s);var u=document.createElement("div");u.setAttribute("data-cupid","container"),r.appendChild(u),d.registElement(s);try{var l=a.querySelector('*[data-widget-layer="layer"]');l&&l.parentNode.removeChild(l)}catch(e){}t._core=new h(o,e,i),t._view=new p(r,s,t._core),"DATA"!==t._core.getEngineType()&&"QVS"!==t._core.getEngineType()||f.set(new c(u,t._core,t._view)),[g.NTF_StatusChanged,g.NTF_CanPlayThrough,g.NTF_VolumeChanged,g.NTF_DurationChanged,g.NTF_VRSStart,g.NTF_VRSReady,g.NTF_VideoChange,g.NTF_VideoChanged,g.NTF_Recharge,g.NTF_Error,g.NTF_FollowUpNextLoad,g.NTF_PlayingFailByAutoPlay].forEach(function(e){t._core.on(e,function(e){e.type==g.NTF_PlayingFailByAutoPlay&&(t.pause(!0),t._core.setMuted(!1)),t.fire(e)})}),t._view.on(b.NTF_SHOW_LOGIN_PANEL,function(e){t.fire({type:b.NTF_SHOW_LOGIN_PANEL,data:e.data})}),t._view.on(b.NTF_Barrage_SetConfigInfo,function(e){t.fire({type:b.NTF_Barrage_SetConfigInfo,data:e.data})}),t._view.on(b.NTF_Barrage_SetChannelConfigInfo,function(e){t.fire({type:b.NTF_Barrage_SetChannelConfigInfo,data:e.data})}),t._view.on(b.NTF_Barrage_SetSwitch,function(e){t.fire({type:b.NTF_Barrage_SetSwitch,data:e.data})}),t._view.on(b.NTF_WebFullScreen_BeforeChange,function(e){t.fire({type:b.NTF_WebFullScreen_BeforeChange,data:e.data})}),t._view.on(b.NTF_WebFullScreen_AfterChange,function(e){t.fire({type:b.NTF_WebFullScreen_AfterChange,data:e.data})}),t._view.on(b.NTF_FullScreen_BeforeChange,function(e){t.fire({type:b.NTF_FullScreen_BeforeChange,data:e.data})}),t._view.on(b.NTF_FullScreen_AfterChange,function(e){t.fire({type:b.NTF_FullScreen_AfterChange,data:e.data})}),t._view.on(b.NTF_Barrage_NotifyGiftInfo,function(e){t.fire({type:b.NTF_Barrage_NotifyGiftInfo,data:e.data})}),v.addCallback(function(e){t.fire(e)}),t._core.load({tvid:e.tvid,vid:e.vid,cid:e.cid,autoplay:e.autoplay}),t._view.on(b.NTF_Barrage_ShowRulePage,function(e){m.getInterface().sendBarrageShowRulePagePingback()}),t._view.on(b.NTF_Barrage_ShowLike,function(e){m.getInterface().sendBarrageShowLikePingback()}),t._view.on(b.NTF_Barrage_ShowMoreLike,function(e){m.getInterface().sendBarrageShowLikePingback()}),t._view.on(b.NTF_Barrage_EnsureReport,function(e){m.getInterface().sendBarrageEnsureReportPingback()}),t._view.on(b.NTF_SHOW_CONTROLBAR_PINGBACK,function(e){m.getInterface().sendShowControlBarPingback(e.data)}),t._view.on(b.NTF_SEEKBAR_HOVER,function(e){m.getInterface().sendSeekBarHoverPingback(e.data)}),t._view.on(b.NTF_SHOW_HEATMAP,function(e){m.getInterface().sendShowHeatMapPingback(e.data)}),t.__init()},extend:n,methods:{__init:function(){this._core.on(g.NTF_Recharge,function(){s.exit(),u.exit()})},__tidyVars:function(e){if(e){for(var t in e)/\.(swf|xml)/gi.test(e[t])&&delete e[t];y.log("vars:"+JSON.stringify(e))}},destroy:function(){var e=this;e._core.destroy(),document.getElementById(e._playerId)&&(document.getElementById(e._playerId).innerHTML="")},load:function(e){e.tvid=e.tvId,delete e.tvId,this._core.load(e)},play:function(){this._core.play()},resume:function(){this._core.play()},replay:function(){this._core.replay()},pause:function(e){this._core.pause(e)},seek:function(e){this._core.seek(e)},getVideoInfo:function(e){return this._core.getVideoInfo(e)},getPlayInfo:function(e){var t=this,i=t._core,a=t._view.videoWrapper;i.getPlayInfo(function(t){var n={};n.tvid=t.tvid,n.vid=t.vid,n.currentTime=i.getCurrenttime(),n.totalDuration=i.getDuration(),n.currentDefination=t.rate,n.currentTrack="",n.currentStatus=i.getCurrStatus(),n.isTryWatch=i.isTryWatch()?"1":"0",n.isPause=i.isPaused()?"1":"0",n.width=a.width(),n.height=a.height(),e(n)})},getPlayerId:function(){return this._playerId},setQiyiUserLogin:function(e){var t=this;o.setInfo(e),o.__isChangeVipState(function(e){e?setTimeout(function(){t._core.refresh()},200):t._core.getMovieInfo().isVIP&&setTimeout(function(){t._core.refresh()},200)})},addVideoList:function(e){this._core.addVideoList(e)},addPlayListView:function(e){this._core.addPlayListView(e)},removeVideoList:function(e){this._core.removeVideoList(e)},switchVideo:function(e){this._core.switchVideo(e)},switchNextVideo:function(){this._core.switchNextVideo()},switchPreVideo:function(){this._core.switchPreVideo()},jsNotifyAdManager:function(e){this._core.jsNotifyAdManager(e)},setSmallWindowMode:function(e){var t=this;e=parseInt(e,10),t.__smallWinStatus!==e&&(t.__smallWinStatus=e,t._view.fire({type:b.NTF_PlayerSmallWindowStatus,data:e}))},getQiyiPlayerInfo:function(e){var t=this,i=t._core,a=i.getMovieInfo(),n=t._view.videoWrapper,r={currentTime:i.getCurrenttime(),totalDuration:2736680,vid:a.vi,isTryWatch:i.isTryWatch()?"1":"0",width:n.width(),isPause:i.isPaused()?"1":"0",tvid:a.tvid,height:n.height()};e&&"function"==typeof e&&e(r)},setPlayerWebFullScreen:function(e){this._view.fire({type:b.NTF_WebFullScreen_SetSwitch,data:e})},setPlayerFullScreen:function(e){this._view.fire({type:b.NTF_FullScreen_SetSwitch,data:e})},setBarrageStatus:function(e){this._view.fire({type:b.NTF_Barrage_SetSwitch,data:e})},setSelfSendBarrageInfo:function(e){this._view.fire({type:b.NTF_BarrageSelfSend,data:e})},setBarrageSetting:function(e){this._view.fire({type:b.NTF_BarrageSettingChange,data:e})},clearBanWord:function(){this._view.fire({type:b.NTF_Barrage_ClearBanWord,data:null})},addBanWord:function(e){this._view.fire({type:b.NTF_Barrage_AddBanWord,data:e})},removeBanWord:function(e){this._view.fire({type:b.NTF_Barrage_RemoveBanWord,data:e})},getQiyiPlayerLog:function(e){e(l.getLog())}}})}.call(t,i,t,e))&&(e.exports=a)},function(module,exports){function _qdc(){function v(e){if(_qdb("0x85")===_qdb("0x85")){if(k[_qdb("0x613")]){if(_qdb("0x52")===_qdb("0x52"))return k[_qdb("0x613")](e,u);p+=-8155}return u+e}k[_qdb("0x417")](func)}function D(e){if(_qdb("0xf9")!==_qdb("0x2aa")){var t=ac[aj>>2],i=t+e+15&-16;return i>aT()&&(_qdb("0x250")!==_qdb("0x250")?u=u[_qdb("0x36")](0,u[_qdb("0x39a")]("/")+1):aI()),ac[aj>>2]=i,t}b2[x+20>>2]=s,b2[s+24>>2]=x}function E(e){if(_qdb("0x480")!==_qdb("0x36f"))switch(e){case"i1":case"i8":return 1;case _qdb("0x541"):return 2;case _qdb("0x5d8"):return 4;case _qdb("0x54c"):return 8;case _qdb("0x449"):return 4;case _qdb("0x481"):return 8;default:if(_qdb("0x4be")!==_qdb("0x244"))if("*"===e[e[_qdb("0x43c")]-1]){if(_qdb("0x2c4")===_qdb("0x2c4"))return 4;aI(_qdb("0xb5")+text)}else if("i"===e[0]){if(_qdb("0x580")!==_qdb("0x500")){var t=Number(e[_qdb("0x36")](1));return T(t%8==0,_qdb("0x336")+t+_qdb("0x2f5")+e),t/8}a9[_qdb("0x17a")](a9[_qdb("0x148")](src,src+num),dest)}else{if(_qdb("0x294")===_qdb("0x294"))return 0;b2[3]=p|i,q=k+8|0,r=k}else pa=ga,qa=aa,O=136}else w=q,x=k}function F(t){_qdb("0x162")===_qdb("0x162")?(F[_qdb("0x3f7")]||(F[_qdb("0x3f7")]={}),F[_qdb("0x3f7")][t]||(_qdb("0x1b7")!==_qdb("0x375")?(F[_qdb("0x3f7")][t]=1,B(t)):B=e)):(b2[r+16>>2]=k,b2[k+24>>2]=r)}function J(e,t,a){if(_qdb("0x3dc")===_qdb("0x557"))p+=-2509;else if(a&&a[_qdb("0x43c")]){if(_qdb("0xba")!==_qdb("0x5fe"))return k[_qdb("0x23a")+e][_qdb("0x3cd")](null,[t][_qdb("0x3c3")](a));h=v+1048320|0,k=h>>>16&8,h=v<<k,v=h+520192|0,i=v>>>16&4,v=h<<i,h=v+245760|0,g=h>>>16&2,h=v<<g,v=14-(i|k|g)+(h>>>15)|0,h=v+7|0,ia=1&(h?Z>>>h:Z)|v<<1}else{if(_qdb("0x57e")!==_qdb("0x443"))return k[_qdb("0x23a")+e][_qdb("0x494")](null,t);p+=21880}}function Q(e,t,i,a){if(_qdb("0x348")===_qdb("0x348"))switch(i=i||"i8","*"===i[_qdb("0x2e6")](i[_qdb("0x43c")]-1)&&(i=_qdb("0x5d8")),i){case"i1":case"i8":a8[e>>0]=t;break;case _qdb("0x541"):aa[e>>1]=t;break;case _qdb("0x5d8"):ac[e>>2]=t;break;case _qdb("0x54c"):aN=[t>>>0,(aM=t,+az(aM)>=1?aM>0?(0|aC(+aB(aM/4294967296),4294967295))>>>0:~~+aA((aM-+(~~aM>>>0))/4294967296)>>>0:0)],ac[e>>2]=aN[0],ac[e+4>>2]=aN[1];break;case _qdb("0x449"):ae[e>>2]=t;break;case _qdb("0x481"):af[e>>3]=t;break;default:aI(_qdb("0x27c")+i)}else k[_qdb("0x5d6")](what)}function T(t,a){if(_qdb("0x455")!==_qdb("0x455"))return i=(1&h^1)+f|0,j=52+(i<<1<<2)|0,k=j+8|0,l=0|b2[k>>2],m=l+8|0,n=0|b2[m>>2],(0|n)==(0|j)?b2[3]=g&~(1<<i):(b2[n+12>>2]=j,b2[k>>2]=n),n=i<<3,b2[l+4>>2]=3|n,i=l+n+4|0,b2[i>>2]=1|b2[i>>2],o=m,u=b4,0|o;t||(_qdb("0x2f0")===_qdb("0x482")?(b2[n+4>>2]=3|e,b2[i+4>>2]=1|h,b2[i+h>>2]=h,0|m&&(f=0|b2[8],k=m>>>3,s=52+(k<<1<<2)|0,v=1<<k,v&g?(v=s+8|0,G=v,H=0|b2[v>>2]):(b2[3]=v|g,G=s+8|0,H=s),b2[G>>2]=f,b2[H+12>>2]=f,b2[f+8>>2]=H,b2[f+12>>2]=s),b2[5]=h,b2[8]=i):aI(_qdb("0xb5")+a))}function U(e){if(_qdb("0xb7")!==_qdb("0x277")){var t=k["_"+e];return T(t,_qdb("0x29a")+e+_qdb("0xfb")),t}b2[3]=ha|g,Ba=Z+8|0,Ca=Z}function V(e,t,i,a,n){if(_qdb("0x266")===_qdb("0x266")){var r={};r[_qdb("0x295")]=function(e){if(_qdb("0x1f8")!==_qdb("0x77")){var t=0;if(null!==e&&void 0!==e&&0!==e)if(_qdb("0x53d")!==_qdb("0x53d"))p+=-51520;else{var i=1+(e[_qdb("0x43c")]<<2);t=bf(i),a2(e,t,i)}return t}return a9[_qdb("0x43c")]},r[_qdb("0x1cd")]=function(e){if(_qdb("0x470")!==_qdb("0x28f")){var t=bf(e[_qdb("0x43c")]);return a5(e,t),t}p+=-8094};var o=r,s=U(e),d=[],l=0;if(a)if(_qdb("0x31")===_qdb("0x1a0"))p+=55087;else for(var c=0;c<a[_qdb("0x43c")];c++)if(_qdb("0x5dc")===_qdb("0x4d9")){var f=str[_qdb("0x3a2")](++c);u=65536+((1023&u)<<10)|1023&f}else{var _=o[i[c]];if(_)_qdb("0x448")===_qdb("0x311")?c=j(_qdb("0x24e")):(0===l&&(l=bh()),d[c]=_(a[c]));else if(_qdb("0x531")===_qdb("0x531"))d[c]=a[c];else{var h=1+(str[_qdb("0x43c")]<<2);b=bf(h),a2(str,b,h)}}var b=s[_qdb("0x3cd")](null,d);return b=function(e){if(_qdb("0x262")!==_qdb("0x220"))return t===_qdb("0x295")?a0(e):t===_qdb("0x2c0")?Boolean(e):e;r[aa+20>>2]=k,r[k+24>>2]=aa,fa=v}(b),0!==l&&bg(l),b}throw _qdb("0x2eb")+aJ}function W(e,t,i,a){if(_qdb("0x3d7")!==_qdb("0x3d7")){var n=/\b__Z[\w\d_]+/g;return text[_qdb("0xf")](n,function(e){var t=aP(e);return e===t?e:t+" ["+e+"]"})}i=i||[];var r=i[_qdb("0x465")](function(e){if(_qdb("0x1d")===_qdb("0x1d"))return e===_qdb("0x3fe");al(ao)});if(t!==_qdb("0x295")&&r&&!a){if(_qdb("0x5a0")!==_qdb("0x47e"))return U(e);za=la,Aa=d}return function(){return _qdb("0xbe")===_qdb("0xbe")?V(e,t,i,arguments,a):8}}function Z(t,a,r){if(_qdb("0x219")!==_qdb("0x545")){for(var o=a+r,u=a;t[u]&&!(u>=o);)++u;if(u-a>16&&t[_qdb("0x148")]&&Y){if(_qdb("0x126")!==_qdb("0x126")){for(var c in obj)if(obj[_qdb("0x528")](c))return![];return!![]}return Y[_qdb("0x431")](t[_qdb("0x148")](a,u))}if(_qdb("0x2a7")!==_qdb("0xde"))for(var b="";a<u;)if(_qdb("0x270")===_qdb("0x44f"))b2[j>>2]=-2&b4,b2[m+4>>2]=1|n,b2[l+n>>2]=n,D=n;else{var v=t[a++];if(!(128&v)){if(_qdb("0x100")===_qdb("0x100")){b+=String[_qdb("0x50")](v);continue}b2[n+12>>2]=k,b2[l>>2]=n,p=g}var y=63&t[a++];if(192==(224&v)){if(_qdb("0x26e")===_qdb("0x26e")){b+=String[_qdb("0x50")]((31&v)<<6|y);continue}for(;3&b4;){if(!e)return 0|f;j[b4>>0]=0|j[d>>0],b4=b4+1|0,d=d+1|0,e=e-1|0}for(h=-4&g|0,e=h-64|0;(0|b4)<=(0|e);)b2[b4>>2]=b2[d>>2],b2[b4+4>>2]=b2[d+4>>2],b2[b4+8>>2]=b2[d+8>>2],b2[b4+12>>2]=b2[d+12>>2],b2[b4+16>>2]=b2[d+16>>2],b2[b4+20>>2]=b2[d+20>>2],b2[b4+24>>2]=b2[d+24>>2],b2[b4+28>>2]=b2[d+28>>2],b2[b4+32>>2]=b2[d+32>>2],b2[b4+36>>2]=b2[d+36>>2],b2[b4+40>>2]=b2[d+40>>2],b2[b4+44>>2]=b2[d+44>>2],b2[b4+48>>2]=b2[d+48>>2],b2[b4+52>>2]=b2[d+52>>2],b2[b4+56>>2]=b2[d+56>>2],b2[b4+60>>2]=b2[d+60>>2],b4=b4+64|0,d=d+64|0;for(;(0|b4)<(0|h);)b2[b4>>2]=b2[d>>2],b4=b4+4|0,d=d+4|0}var x=63&t[a++];if(224==(240&v)?_qdb("0x5c0")!==_qdb("0x5c0")?p+=1283:v=(15&v)<<12|y<<6|x:_qdb("0x4a2")===_qdb("0x70")?response=bi[_qdb("0x4a0")]:v=(7&v)<<18|y<<12|x<<6|63&t[a++],v<65536)_qdb("0x591")!==_qdb("0x38b")?b+=String[_qdb("0x50")](v):p+=18907;else if(_qdb("0x521")===_qdb("0x521")){var w=v-65536;b+=String[_qdb("0x50")](55296|w>>10,56320|1023&w)}else Z=L,_=Y}else l=h,m=h,n=i;return b}B=k,C=s}function a0(e,t){if(_qdb("0x310")===_qdb("0x310"))return e?Z(a9,e,t):"";u0=(15&u0)<<12|u1<<6|u2}function a1(t,i,a,r){if(_qdb("0x4d8")!==_qdb("0xa0")){if(!(r>0))return 0;for(var o=a,u=a+r-1,c=0;c<t[_qdb("0x43c")];++c)if(_qdb("0x381")!==_qdb("0x381"))p+=14540;else{var f=t[_qdb("0x3a2")](c);if(f>=55296&&f<=57343){if(_qdb("0x527")===_qdb("0x26"))return s(0|b4,0|d,0|e),0|b4;var _=t[_qdb("0x3a2")](++c);f=65536+((1023&f)<<10)|1023&_}if(f<=127)if(_qdb("0x179")===_qdb("0x38a"))p+=-20743;else{if(a>=u)break;i[a++]=f}else if(f<=2047)if(_qdb("0x10d")===_qdb("0x2b"))p+=9382;else{if(a+1>=u)break;i[a++]=192|f>>6,i[a++]=128|63&f}else if(f<=65535)if(_qdb("0x1b6")===_qdb("0x3c4"))for(typeof k[_qdb("0x1c8")]==_qdb("0x45f")&&(k[_qdb("0x1c8")]=[k[_qdb("0x1c8")]]);k[_qdb("0x1c8")][_qdb("0x43c")]>0;)k[_qdb("0x1c8")][_qdb("0x315")]()();else{if(a+2>=u)break;i[a++]=224|f>>12,i[a++]=128|f>>6&63,i[a++]=128|63&f}else{if(_qdb("0x13a")!==_qdb("0x13a"))return l=52+(n<<1<<2)|0,b4=0|b2[3],j=1<<n,b4&j?(j=l+8|0,E=j,F=0|b2[j>>2]):(b2[3]=b4|j,E=l+8|0,F=l),b2[E>>2]=m,b2[F+12>>2]=m,b2[m+8>>2]=F,void(b2[m+12>>2]=l);if(a+3>=u)break;i[a++]=240|f>>18,i[a++]=128|f>>12&63,i[a++]=128|f>>6&63,i[a++]=128|63&f}}return i[a]=0,a-o}var h=u0-65536;t+=String[_qdb("0x50")](55296|h>>10,56320|1023&h)}function a2(e,t,i){if(_qdb("0x3aa")!==_qdb("0x75"))return a1(e,a9,t,i);p+=-11196}function a3(e){if(_qdb("0x476")!==_qdb("0x477")){for(var t=0,i=0;i<e[_qdb("0x43c")];++i)if(_qdb("0x6f")!==_qdb("0x1c3")){var a=e[_qdb("0x3a2")](i);a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e[_qdb("0x3a2")](++i)),a<=127?++t:t+=a<=2047?2:a<=65535?3:4}else p+=46464;return t}p+=-16677}function a5(e,t){_qdb("0x32b")===_qdb("0x32b")?a8[_qdb("0x17a")](e,t):(g=Z+8|0,Ba=g,Ca=0|b2[g>>2])}function a6(e,t,i){if(_qdb("0x111")!==_qdb("0x55c")){for(var a=0;a<e[_qdb("0x43c")];++a){if(_qdb("0x276")===_qdb("0x165")){var n=Number(type[_qdb("0x36")](1));return T(n%8==0,_qdb("0x336")+n+_qdb("0x2f5")+type),n/8}a8[t++>>0]=e[_qdb("0x3a2")](a)}i||(a8[t>>0]=0)}else z=k,A=s}function ag(e){if(_qdb("0x22e")!==_qdb("0x22e")){try{throw new Error}catch(e){B=e}if(!B[_qdb("0x29c")])return _qdb("0x434")}else a7=e,k[_qdb("0x54e")]=a8=new Int8Array(e),k[_qdb("0x1a2")]=aa=new Int16Array(e),k[_qdb("0x4e5")]=ac=new Int32Array(e),k[_qdb("0x19")]=a9=new Uint8Array(e),k[_qdb("0x47")]=ab=new Uint16Array(e),k[_qdb("0x581")]=ad=new Uint32Array(e),k[_qdb("0x1db")]=ae=new Float32Array(e),k[_qdb("0x518")]=af=new Float64Array(e)}function al(e){if(_qdb("0x3bb")===_qdb("0x3bb"))for(;e[_qdb("0x43c")]>0;)if(_qdb("0x19a")!==_qdb("0x19a"))F=l+1048320|0,E=F>>>16&8,F=l<<E,l=F+520192|0,j=l>>>16&4,l=F<<j,F=l+245760|0,b4=F>>>16&2,F=l<<b4,l=14-(j|E|b4)+(F>>>15)|0,F=l+7|0,G=1&(F?D>>>F:D)|l<<1;else{var a=e[_qdb("0xac")]();if(typeof a==_qdb("0x45f")){if(_qdb("0x3d6")===_qdb("0x3d6")){a();continue}a8[a7++>>0]=str[_qdb("0x3a2")](i)}var n=a[_qdb("0x4f9")];typeof n===_qdb("0x3fe")?_qdb("0x30a")===_qdb("0x190")?(s=q,t=k):void 0===a[_qdb("0x5cf")]?_qdb("0x307")!==_qdb("0x307")?(s=U,K=W,A<<=1,P=V):k[_qdb("0x417")](n):_qdb("0x84")===_qdb("0x12b")?p+=-9037:k[_qdb("0x5f7")](n,a[_qdb("0x5cf")]):_qdb("0x45")===_qdb("0x313")?p+=5171:n(void 0===a[_qdb("0x5cf")]?null:a[_qdb("0x5cf")])}else b2[123]=4096,b2[122]=4096,b2[124]=-1,b2[125]=-1,b2[126]=0,b2[114]=0,b2[121]=-16&d^1431655768,la=4096}function as(){if(_qdb("0xd7")===_qdb("0x4b7")){var e=str[_qdb("0x3a2")](i);e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&str[_qdb("0x3a2")](++i)),e<=127?++len:len+=e<=2047?2:e<=65535?3:4}else{if(k[_qdb("0x486")])if(_qdb("0x5a1")!==_qdb("0x5a1"))p+=-1075;else for(typeof k[_qdb("0x486")]==_qdb("0x45f")&&(k[_qdb("0x486")]=[k[_qdb("0x486")]]);k[_qdb("0x486")][_qdb("0x43c")];)_qdb("0x50a")===_qdb("0x50a")?ax(k[_qdb("0x486")][_qdb("0xac")]()):p+=19656;al(am)}}function at(){if(_qdb("0x364")!==_qdb("0x364")){if(r=(0|b2[6])+n|0,b2[6]=r,b2[9]=m,b2[m+4>>2]=1|r,(0|m)!=(0|b2[8]))return;return b2[8]=0,void(b2[5]=0)}aq=!![],al(an)}function au(){if(_qdb("0x1d7")!==_qdb("0x1d7"))return U(ident);al(ao)}function av(){if(_qdb("0x42b")===_qdb("0x158"))return ja=_-I|0,ka=0|b2[8],ja>>>0>15?(Z=ka+I|0,b2[8]=Z,b2[5]=ja,b2[Z+4>>2]=1|ja,b2[ka+_>>2]=ja,b2[ka+4>>2]=3|I):(b2[5]=0,b2[8]=0,b2[ka+4>>2]=3|_,ja=ka+_+4|0,b2[ja>>2]=1|b2[ja>>2]),o=ka+8|0,u=b4,0|o;ar=!![]}function aw(){if(_qdb("0x5c1")!==_qdb("0x5c1"))n-=2,x=y;else{if(k[_qdb("0x2d9")]){if(_qdb("0x14")!==_qdb("0x14"))return _qdb("0x434");for(typeof k[_qdb("0x2d9")]==_qdb("0x45f")&&(k[_qdb("0x2d9")]=[k[_qdb("0x2d9")]]);k[_qdb("0x2d9")][_qdb("0x43c")];){if(_qdb("0x1bf")!==_qdb("0x1bf")){e|=0;var e=0,i=0,a=0;return e=0|G(),(i=0|i[e>>2],a=i+(e+3&-4)|0,a>>>0>(0|r())>>>0?0==(0|t(0|a)):0)?(i[(0|B())>>2]=48,0|-1):(i[e>>2]=a,0|i)}ay(k[_qdb("0x2d9")][_qdb("0xac")]())}}al(ap)}}function ax(e){_qdb("0xe3")!==_qdb("0x1d2")?am[_qdb("0x524")](e):p+=26986}function ay(e){if(_qdb("0x5de")!==_qdb("0x5de")){var t=aP(x);return x===t?x:t+" ["+x+"]"}ap[_qdb("0x524")](e)}function aG(e){if(_qdb("0x2f6")!==_qdb("0x2f6")){var t=new XMLHttpRequest;return t[_qdb("0x222")](_qdb("0x86"),url,![]),t[_qdb("0x1ce")]=_qdb("0x150"),t[_qdb("0x485")](null),new Uint8Array(t[_qdb("0x382")])}if(aD++,k[_qdb("0x378")]){if(_qdb("0x367")===_qdb("0xec"))return x<0?Math[_qdb("0x614")](x):Math[_qdb("0x514")](x);k[_qdb("0x378")](aD)}}function aH(e){if(_qdb("0x25b")===_qdb("0x25b")){if(aD--,k[_qdb("0x378")]&&(_qdb("0x37c")!==_qdb("0x38c")?k[_qdb("0x378")](aD):(b2[b4>>2]=h,b2[b4+4>>2]=h,b2[b4+8>>2]=h,b2[b4+12>>2]=h,b2[b4+16>>2]=h,b2[b4+20>>2]=h,b2[b4+24>>2]=h,b2[b4+28>>2]=h,b2[b4+32>>2]=h,b2[b4+36>>2]=h,b2[b4+40>>2]=h,b2[b4+44>>2]=h,b2[b4+48>>2]=h,b2[b4+52>>2]=h,b2[b4+56>>2]=h,b2[b4+60>>2]=h,b4=b4+64|0)),0==aD)if(_qdb("0x173")!==_qdb("0x173"))b2[4]=F|b4,b2[l>>2]=m,b2[m+24>>2]=l,b2[m+12>>2]=m,b2[m+8>>2]=m;else if(null!==aE&&(_qdb("0x224")!==_qdb("0x128")?(clearInterval(aE),aE=null):(ret_str=a0(p_ret),ba(p_ret))),aF)if(_qdb("0x299")===_qdb("0x299")){var t=aF;aF=null,t()}else b2[3]=_|ja,Ha=pa+8|0,Ia=pa}else objkey=objkey[_qdb("0x2ed")]()}function aI(e){if(_qdb("0xdc")===_qdb("0xdc")){if(k[_qdb("0x5d6")]){if(_qdb("0x3a5")!==_qdb("0x3a5"))return k[_qdb("0x613")](path,u);k[_qdb("0x5d6")](e)}throw e+="",A(e),B(e),R=!![],S=1,e=_qdb("0x309")+e+_qdb("0x54a")}p+=-37344}function aL(e){if(_qdb("0x404")!==_qdb("0xee"))return String[_qdb("0x46")][_qdb("0x488")]?e[_qdb("0x488")](aK):0===e[_qdb("0xbc")](aK);B=q,C=j}function aP(e){if(_qdb("0x4af")===_qdb("0x4af"))return e;k[m]=l[m]}function aQ(e){if(_qdb("0x51d")===_qdb("0x51d")){var t=/\b__Z[\w\d_]+/g;return e[_qdb("0xf")](t,function(e){if(_qdb("0x320")===_qdb("0x320")){var t=aP(e);return e===t?e:t+" ["+e+"]"}aD++,k[_qdb("0x378")]&&k[_qdb("0x378")](aD)})}ia=0|b2[7],0==(0|ia)|na>>>0<ia>>>0&&(b2[7]=na),b2[115]=na,b2[116]=oa,b2[118]=0,b2[12]=b2[121],b2[11]=-1,b2[16]=52,b2[15]=52,b2[18]=60,b2[17]=60,b2[20]=68,b2[19]=68,b2[22]=76,b2[21]=76,b2[24]=84,b2[23]=84,b2[26]=92,b2[25]=92,b2[28]=100,b2[27]=100,b2[30]=108,b2[29]=108,b2[32]=116,b2[31]=116,b2[34]=124,b2[33]=124,b2[36]=132,b2[35]=132,b2[38]=140,b2[37]=140,b2[40]=148,b2[39]=148,b2[42]=156,b2[41]=156,b2[44]=164,b2[43]=164,b2[46]=172,b2[45]=172,b2[48]=180,b2[47]=180,b2[50]=188,b2[49]=188,b2[52]=196,b2[51]=196,b2[54]=204,b2[53]=204,b2[56]=212,b2[55]=212,b2[58]=220,b2[57]=220,b2[60]=228,b2[59]=228,b2[62]=236,b2[61]=236,b2[64]=244,b2[63]=244,b2[66]=252,b2[65]=252,b2[68]=260,b2[67]=260,b2[70]=268,b2[69]=268,b2[72]=276,b2[71]=276,b2[74]=284,b2[73]=284,b2[76]=292,b2[75]=292,b2[78]=300,b2[77]=300,ia=oa+-40|0,d=na+8|0,ma=0==(7&d|0)?0:0-d&7,d=na+ma|0,qa=ia-ma|0,b2[9]=d,b2[6]=qa,b2[d+4>>2]=1|qa,b2[na+ia+4>>2]=40,b2[10]=b2[125]}function aR(){if(_qdb("0xce")===_qdb("0xce")){var e=new Error;if(!e[_qdb("0x29c")])if(_qdb("0x3ee")!==_qdb("0x3ee")){var t=k[_qdb("0x582")],i=t[_qdb("0x382")];if(200!==t[_qdb("0xe4")]&&0!==t[_qdb("0xe4")]){var a=b1(k[_qdb("0x1dc")]);if(!a)return console[_qdb("0x22a")](_qdb("0x58b")+t[_qdb("0xe4")]+_qdb("0x1d4")+aJ),void bk();i=a[_qdb("0x4a0")]}bj(i)}else{try{if(_qdb("0x22d")!==_qdb("0x34a"))throw new Error;j<<=1,n=r}catch(i){_qdb("0x542")===_qdb("0x542")?e=i:(F[_qdb("0x3f7")][text]=1,e(text))}if(!e[_qdb("0x29c")]){if(_qdb("0x2d0")!==_qdb("0x25c"))return _qdb("0x434");try{for(var o=aZ(s),d=new Uint8Array(o[_qdb("0x43c")]),u=0;u<o[_qdb("0x43c")];++u)d[u]=o[_qdb("0x3a2")](u);return d}catch(e){throw new Error(_qdb("0x94"))}}}return e[_qdb("0x29c")][_qdb("0x5d5")]()}ar=!![]}function aS(){if(_qdb("0x304")!==_qdb("0x1e0"))for(var bH=62635;[];)if(_qdb("0x534")===_qdb("0x6e"))bH+=-31894;else switch(bH){case 35004:bM+=3,bH+=29830;break;case 51281:bO[13]=_qdb("0x7b"),bO[26]=_qdb("0x23d"),bO[8]=_qdb("0x5ff"),bO[5]=_qdb("0x5f8"),bH+=-29352;break;case 15330:bQ=bJ[_qdb("0x573")],bH+=30215;break;case 59517:bO[20]=_qdb("0x1f5"),bO[36]=_qdb("0x5e5"),bH+=-36734;break;case 15522:bO[8]=_qdb("0x2d2"),bO[15]=_qdb("0x4b0"),bO[2]=_qdb("0x5cd"),bH+=17880;break;case 63668:bO[4]=_qdb("0xd"),bO[10]=_qdb("0x371"),bO[23]=_qdb("0x3b"),bO[19]=_qdb("0x2d5"),bH+=-33182;break;case 24382:bO[10]=_qdb("0x4d2"),bO[4]=_qdb("0x24d"),bH+=-15580;break;case 59966:bO=bR[230],bH+=-24090;break;case 55294:return bQ;case 38733:bO[0]=_qdb("0x592"),bH+=-33977;break;case 39985:bO=[],bH+=11806;break;case 52405:bU=0,bH+=-16510;break;case 46495:bO[15]=_qdb("0x147"),bO[26]=_qdb("0x5e0"),bH+=-26439;break;case 40717:bO=bR[33],bH+=14728;break;case 5278:bH+=736;break;case 4669:bO[13]=_qdb("0x314"),bO[8]=_qdb("0x154"),bO[34]=_qdb("0x411"),bO[31]=_qdb("0x3e5"),bH+=40850;break;case 570:bO=bR[106],bH+=64357;break;case 3328:bO[13]=_qdb("0x48b"),bO[28]=_qdb("0x564"),bO[1]=_qdb("0xe2"),bO[20]=_qdb("0x2fa"),bH+=-388;break;case 27232:bO[19]=_qdb("0x602"),bO[23]=_qdb("0x56d"),bO[14]=_qdb("0x333"),bO[9]=_qdb("0x9b"),bH+=-5060;break;case 33413:bO[21]=_qdb("0x44e"),bH+=-28416;break;case 19879:bO[22]=_qdb("0x81"),bO[20]=_qdb("0xf8"),bO[13]=_qdb("0x57f"),bO[9]=_qdb("0x43e"),bH+=-14021;break;case 24979:bO[11]=_qdb("0x50d"),bO[1]=_qdb("0x442"),bH+=-12301;break;case 57761:bO[14]=_qdb("0x5c"),bO[7]=_qdb("0x3ed"),bO[17]=_qdb("0x40f"),bH+=997;break;case 24863:bO[13]=_qdb("0x58f"),bO[17]=_qdb("0x33"),bO[5]=_qdb("0x48"),bH+=35670;break;case 11242:bO[2]=_qdb("0x351"),bO[26]=_qdb("0x3d2"),bO[9]=_qdb("0x597"),bO[10]=_qdb("0x572"),bH+=-10325;break;case 25199:bO[20]=_qdb("0x50c"),bO[38]=_qdb("0xd3"),bO[39]=_qdb("0x53b"),bH+=20831;break;case 26780:if(bQ){if(_qdb("0xaf")===_qdb("0x42a")){bX|=0;var bX=0;return bX=u,u=u+bX|0,u=u+15&-16,0|bX}bH+=22655}else _qdb("0x2a4")!==_qdb("0x43a")?bH+=20048:bH+=-36336;break;case 18694:if(bU<=bL[_qdb("0x43c")]&&bI!==bL[_qdb("0x2e6")](bL[_qdb("0x43c")]-bU))if(_qdb("0x30c")===_qdb("0x5f3")){if(null!==aE&&(clearInterval(aE),aE=null),aF){var bZ=aF;aF=null,bZ()}}else bH+=21880;else{if(_qdb("0x51f")!==_qdb("0x51f"))return args&&args[_qdb("0x43c")]?k[_qdb("0x23a")+sig][_qdb("0x3cd")](null,[ptr][_qdb("0x3c3")](args)):k[_qdb("0x23a")+sig][_qdb("0x494")](null,ptr);bH+=-13416}break;case 21238:typeof bU===_qdb("0x45f")?_qdb("0x24f")===_qdb("0xc3")?bH+=-33319:bH+=28758:_qdb("0x5ad")!==_qdb("0x5ad")?(U=Q,V=C):bH+=-16400;break;case 21929:bO[1]=_qdb("0x34c"),bO[22]=_qdb("0x3a6"),bO[20]=_qdb("0x19f"),bO[19]=_qdb("0x83"),bH+=-12439;break;case 64834:bH+=90;break;case 32415:typeof bQ===_qdb("0x3fe")?_qdb("0x268")===_qdb("0x268")?bH+=-28368:(b2[x+16>>2]=bS,b2[bS+24>>2]=x):_qdb("0x463")===_qdb("0x463")?bH+=14413:(bi[_qdb("0x3a3")]&&(bi=new Uint8Array(bi)),a9[_qdb("0x17a")](bi,N),k[_qdb("0x582")]&&delete k[_qdb("0x582")][_qdb("0x382")],aH(_qdb("0x317")));break;case 34637:var bI=bN[_qdb("0x2e6")](bN[_qdb("0x43c")]-bU);bH+=-15943;break;case 1433:bH+=38180;break;case 58328:bO[25]=_qdb("0x69"),bO[11]=_qdb("0x4b1"),bO[19]=_qdb("0x392"),bO[12]=_qdb("0x23"),bH+=-18176;break;case 1196:bO[2]=_qdb("0x551"),bO[12]=_qdb("0x55a"),bH+=32527;break;case 22445:bI=0,bJ=0,bH+=-6284;break;case 240:bO[13]=_qdb("0xa8"),bO[23]=_qdb("0x122"),bO[17]=_qdb("0x57b"),bH+=11688;break;case 52529:bO[3]=_qdb("0x34d"),bO[9]=_qdb("0x258"),bH+=-7823;break;case 2712:bO[0]=_qdb("0x2bb"),bO[18]=_qdb("0x410"),bH+=17167;break;case 33402:bO[18]=_qdb("0x1d3"),bO[7]=_qdb("0x17"),bO[16]=_qdb("0x353"),bO[6]=_qdb("0x2e3"),bH+=-2703;break;case 55865:if(d(bU))_qdb("0x546")!==_qdb("0x546")?bH+=230:bH+=-9037;else{if(_qdb("0x20c")===_qdb("0x3a8"))return o(b2<<bI|(j&(1<<bI)-1<<32-bI)>>>32-bI|0),j<<bI;bH+=-20743}break;case 31114:bO[17]=_qdb("0xcc"),bO[22]=_qdb("0x373"),bO[19]=_qdb("0x1d8"),bH+=748;break;case 32238:bO[9]=_qdb("0x3fd"),bO[21]=_qdb("0x3e2"),bH+=986;break;case 32479:bO[18]=_qdb("0x4e1"),bH+=18915;break;case 46843:bO[33]=_qdb("0x4d3"),bO[28]=_qdb("0x615"),bO[29]=_qdb("0x4f2"),bH+=-5505;break;case 60983:bO[19]=_qdb("0x58e"),bO[13]=_qdb("0x205"),bO[4]=_qdb("0x46f"),bO[17]=_qdb("0x2d6"),bH+=-36714;break;case 47367:bR[92]=[],bH+=-3748;break;case 10884:bO[21]=_qdb("0x2b1"),bH+=32900;break;case 46030:bO[13]=_qdb("0x501"),bH+=-41250;break;case 2096:bO[30]=_qdb("0x440"),bO[16]=_qdb("0x3b7"),bH+=750;break;case 24749:bO=bR[32],bH+=26532;break;case 20960:bJ=bQ,bH+=10954;break;case 42323:bO[14]=_qdb("0x3c6"),bH+=9313;break;case 51250:bO[17]=_qdb("0x321"),bO[4]=_qdb("0x32a"),bO[16]=_qdb("0x25e"),bH+=5743;break;case 54102:bR[58]=[],bH+=-17790;break;case 17812:bO[30]=_qdb("0x33d"),bO[18]=_qdb("0x3eb"),bH+=20297;break;case 64628:try{_qdb("0x45d")!==_qdb("0xd9")?bQ=bU(_qdb("0x4fa")):(aX&&T(![],_qdb("0x32")+chr+" ("+String[_qdb("0x50")](chr)+_qdb("0x146")+bU+_qdb("0x408")),chr&=255)}catch(e){}bH+=-63867;break;case 761:!bQ||d(bQ)?_qdb("0x27a")===_qdb("0x171")?bH+=-7967:bH+=4077:_qdb("0x164")===_qdb("0x4d0")?bH+=3792:bH+=46067;break;case 62936:bO[27]=_qdb("0x569"),bH+=1246;break;case 21639:bO[0]=_qdb("0x5e2"),bO[24]=_qdb("0x174"),bO[25]=_qdb("0x28d"),bH+=-16970;break;case 13923:typeof bJ===_qdb("0x45f")?_qdb("0x4ff")===_qdb("0x58a")?(bn||bp(),bn||(aF=runCaller)):bH+=33580:_qdb("0x8e")===_qdb("0xb2")?(v=0|b2[n+8>>2],b2[v+12>>2]=bS,b2[bS+8>>2]=v,x=bS):bH+=32905;break;case 23597:bR[18]=[],bH+=26141;break;case 63122:bO[11]=_qdb("0x1b"),bO[24]=_qdb("0x549"),bH+=-49986;break;case 29063:bQ+=11,bH+=13227;break;case 18237:bO[14]=_qdb("0x340"),bH+=29819;break;case 2940:bO[19]=_qdb("0x4b5"),bH+=50928;break;case 4411:bO[2]=_qdb("0x232"),bO[9]=_qdb("0x45c"),bH+=50988;break;case 4997:bR[9]=[],bH+=5918;break;case 51112:bO[44]=_qdb("0x504"),bO[11]=_qdb("0x3e3"),bH+=-44357;break;case 8479:bO[12]=_qdb("0x59c"),bH+=49018;break;case 32291:bT+="0",bH+=3890;break;case 23524:bO[15]=_qdb("0x198"),bO[3]=_qdb("0x23e"),bH+=35851;break;case 45519:bO[22]=_qdb("0x548"),bH+=-24260;break;case 35446:bO[17]=_qdb("0x472"),bO[2]=_qdb("0x3ce"),bO[14]=_qdb("0x27d"),bO[8]=_qdb("0x365"),bH+=-16112;break;case 64525:bH+=399;break;case 42531:bQ=bQ[_qdb("0x1b1")],bH+=-16369;break;case 64182:bR[100]=[],bH+=-29175;break;case 36999:bO[6]=_qdb("0x116"),bO[16]=_qdb("0x458"),bO[1]=_qdb("0x32f"),bO[3]=_qdb("0x32d"),bH+=-4865;break;case 7011:bM-=bO[0]>>8,bH+=40782;break;case 50351:bO[7]=_qdb("0x326"),bO[9]=_qdb("0x35b"),bH+=-17476;break;case 5734:bO[5]=_qdb("0x4ad"),bH+=33891;break;case 51153:bH+=4141;break;case 10225:bO[23]=_qdb("0x30f"),bO[31]=_qdb("0x49b"),bH+=20178;break;case 307:bJ=-1,bH+=39678;break;case 9704:bO[8]=_qdb("0x135"),bO[5]=_qdb("0x210"),bO[40]=_qdb("0x233"),bH+=54445;break;case 15278:bP?_qdb("0x241")===_qdb("0x213")?aI(_qdb("0x565")):bH+=230:_qdb("0x254")===_qdb("0x357")?cArgs[bU]=args[bU]:bH+=-8155;break;case 23413:bO[16]=_qdb("0x372"),bH+=-19101;break;case 30699:bO[12]=_qdb("0x10f"),bO[4]=_qdb("0xc6"),bH+=3830;break;case 45547:bO[6]=_qdb("0x3a0"),bO[4]=_qdb("0x26c"),bO[10]=_qdb("0x22"),bH+=6265;break;case 376:bO=bR[23],bH+=60607;break;case 64951:bN=bU[_qdb("0x301")],bH+=-870;break;case 23329:var bJ=0;bH+=37050;break;case 46604:bO[30]=_qdb("0x1dd"),bO[19]=_qdb("0x4ab"),bO[4]=_qdb("0x1a4"),bO[43]=_qdb("0x48d"),bH+=-24965;break;case 62343:bO=bR[70],bH+=-17499;break;case 43150:bO[8]=_qdb("0x8c"),bO[9]=_qdb("0x575"),bH+=-11076;break;case 64924:bH+=-10107;break;case 15625:bO[5]=_qdb("0x1c6"),bO[7]=_qdb("0x105"),bO[22]=_qdb("0xa7"),bH+=22692;break;case 11315:bR[23]=[],bH+=-10939;break;case 31802:bO[13]=_qdb("0x523"),bO[8]=_qdb("0x362"),bH+=30694;break;case 18806:bO[9]=_qdb("0x30b"),bO[3]=_qdb("0x510"),bO[21]=_qdb("0x4c7"),bH+=30606;break;case 49996:try{if(_qdb("0x180")!==_qdb("0x180"))return K;bQ=bU("fs")}catch(e){}bH+=-47871;break;case 16415:bO[27]=_qdb("0x2ee"),bO[23]=_qdb("0x318"),bH+=47885;break;case 6524:bQ=bU[_qdb("0x4c2")],bH+=56674;break;case 9435:bJ=bQ,bH+=33096;break;case 16677:bO[3]=_qdb("0x15d"),bO[9]=_qdb("0x24b"),bO[10]=_qdb("0x110"),bH+=37425;break;case 25639:bT+=bS[_qdb("0x2e6")](bM),bH+=33894;break;case 51812:bR[63]=[],bH+=-45703;break;case 22232:bO[2]=_qdb("0x33c"),bO[18]=_qdb("0x41a"),bH+=-11348;break;case 57825:bO[17]=_qdb("0x149"),bO[11]=_qdb("0x1bd"),bH+=-8556;break;case 35692:bH+=15461;break;case 57260:bQ+=12,bH+=-39937;break;case 7927:bQ+=64,bH+=19673;break;case 7890:bO[5]=_qdb("0x3da"),bH+=18100;break;case 2676:bO[41]=_qdb("0x5f6"),bO[15]=_qdb("0x1b0"),bH+=34785;break;case 22477:bO[15]=_qdb("0x18b"),bO[8]=_qdb("0x5b4"),bO[1]=_qdb("0x374"),bH+=4755;break;case 64081:bN?_qdb("0x187")!==_qdb("0x23c")?bH+=-8748:condition||aI(_qdb("0xb5")+text):_qdb("0x199")===_qdb("0x2ab")?bH+=-13416:bH+=-17253;break;case 43539:"\n"===bI?_qdb("0x8d")===_qdb("0x54b")?setTimeout(bm,0):bH+=-17900:_qdb("0x29e")!==_qdb("0x29e")?(b2[aa+16>>2]=bM,b2[bM+24>>2]=aa):bH+=18907;break;case 29199:bO[26]=_qdb("0x168"),bH+=34638;break;case 27597:bR[40]=[],bH+=-13935;break;case 59134:bQ=bJ[_qdb("0x60c")],bH+=-25837;break;case 24209:bO[42]=_qdb("0x28b"),bH+=30442;break;case 24260:bO[0]=_qdb("0x4"),bO[12]=_qdb("0x2bd"),bH+=33077;break;case 34223:bO[10]=_qdb("0x1e8"),bO[1]=_qdb("0x538"),bO[4]=_qdb("0xe5"),bH+=-31602;break;case 25990:bO[18]=_qdb("0x4b3"),bO[23]=_qdb("0x130"),bH+=34641;break;case 34529:bO[19]=_qdb("0x282"),bO[14]=_qdb("0x577"),bH+=18688;break;case 1188:bO[27]=_qdb("0x1d9"),bO[15]=_qdb("0x11"),bO[41]=_qdb("0x2c"),bO[16]=_qdb("0x45b"),bH+=39372;break;case 42740:bO[8]=_qdb("0xe7"),bO[23]=_qdb("0x338"),bH+=11084;break;case 2125:!bQ||d(bQ)?_qdb("0x160")===_qdb("0x511")?bH+=-10897:bH+=62503:_qdb("0x325")!==_qdb("0x325")?(b2[bI>>2]=b2[bQ>>2],b2[bI+4>>2]=b2[bQ+4>>2],b2[bI+8>>2]=b2[bQ+8>>2],b2[bI+12>>2]=b2[bQ+12>>2],b2[bI+16>>2]=b2[bQ+16>>2],b2[bI+20>>2]=b2[bQ+20>>2],b2[bI+24>>2]=b2[bQ+24>>2],b2[bI+28>>2]=b2[bQ+28>>2],b2[bI+32>>2]=b2[bQ+32>>2],b2[bI+36>>2]=b2[bQ+36>>2],b2[bI+40>>2]=b2[bQ+40>>2],b2[bI+44>>2]=b2[bQ+44>>2],b2[bI+48>>2]=b2[bQ+48>>2],b2[bI+52>>2]=b2[bQ+52>>2],b2[bI+56>>2]=b2[bQ+56>>2],b2[bI+60>>2]=b2[bQ+60>>2],bI=bI+64|0,bQ=bQ+64|0):bH+=44703;break;case 2621:bO[3]=_qdb("0x4f"),bH+=8415;break;case 6755:bO[37]=_qdb("0x5b9"),bO[28]=_qdb("0x358"),bO[25]=_qdb("0x227"),bO[8]=_qdb("0x3f6"),bH+=44495;break;case 30319:bO[32]=_qdb("0x49d"),bO[6]=_qdb("0x3ab"),bH+=29198;break;case 4047:if(bQ>0)if(_qdb("0x550")===_qdb("0x550"))bH+=55087;else for(h=g-4|0;(0|bI)<(0|h);)j[bI>>0]=0|j[bQ>>0],j[bI+1>>0]=0|j[bQ+1>>0],j[bI+2>>0]=0|j[bQ+2>>0],j[bI+3>>0]=0|j[bQ+3>>0],bI=bI+4|0,bQ=bQ+4|0;else _qdb("0x43d")!==_qdb("0x43d")?(bS=bH,t=o):bH+=42781;break;case 38828:bO[41]=_qdb("0x412"),bH+=-33094;break;case 59955:bO[26]=_qdb("0x1b5"),bO[3]=_qdb("0x3ca"),bO[27]=_qdb("0x55"),bH+=-52065;break;case 58475:bO[14]=_qdb("0x553"),bO[10]=_qdb("0x50f"),bH+=-11833;break;case 34541:bO[3]=_qdb("0x4bc"),bO[23]=_qdb("0x5b5"),bO[26]=_qdb("0x229"),bO[21]=_qdb("0x42c"),bH+=-24674;break;case 40891:bO[15]=_qdb("0x9d"),bH+=-14780;break;case 46371:bO[11]=_qdb("0x2be"),bH+=-36667;break;case 49412:bO[15]=_qdb("0x6c"),bH+=-34921;break;case 21343:bQ=bQ[_qdb("0x56b")],bH+=5833;break;case 4780:bO[24]=_qdb("0x415"),bO[18]=_qdb("0x42"),bH+=5445;break;case 62446:bH+=-30155;break;case 21780:bR[164]=[],bH+=38165;break;case 20004:bQ=bQ[_qdb("0x293")],bH+=40951;break;case 2352:bO=bR[6],bH+=31973;break;case 48107:bO[38]=_qdb("0x363"),bO[22]=_qdb("0x490"),bO[14]=_qdb("0x401"),bO[45]=_qdb("0x590"),bH+=-26842;break;case 4264:bO[13]=_qdb("0x127"),bH+=19996;break;case 46233:bM/=bO[0]>>12,bH+=-8151;break;case 12571:bH+=39220;break;case 38344:bQ=bQ[_qdb("0x17d")],bH+=18;break;case 21931:bO[14]=_qdb("0x51c"),bH+=-4020;break;case 1382:if(bR[bU]){if(_qdb("0x237")!==_qdb("0x237"))return k[_qdb("0x23a")+sig][_qdb("0x494")](null,ptr);bH+=-1075}else if(_qdb("0x400")!==_qdb("0x9c"))bH+=5741;else{var cq=new XMLHttpRequest;cq[_qdb("0x222")](_qdb("0x86"),url,!![]),cq[_qdb("0x1ce")]=_qdb("0x150"),cq[_qdb("0x46b")]=function(){if(200==cq[_qdb("0xe4")]||0==cq[_qdb("0xe4")]&&cq[_qdb("0x382")])return void onload(cq[_qdb("0x382")]);var e=b1(url);if(e)return void onload(e[_qdb("0x4a0")]);onerror()},cq[_qdb("0x29")]=onerror,cq[_qdb("0x485")](null)}break;case 20118:bO[15]=_qdb("0x5e7"),bO[0]=_qdb("0x175"),bO[27]=_qdb("0x4ba"),bH+=5547;break;case 32928:var bK=0;bH+=16442;break;case 41213:bO[8]=_qdb("0x2e0"),bO[6]=_qdb("0x3ef"),bH+=-9639;break;case 54818:bO[6]=_qdb("0x55f"),bO[0]=_qdb("0x1f0"),bO[3]=_qdb("0x184"),bO[15]=_qdb("0x197"),bH+=-50586;break;case 21259:bO[18]=_qdb("0x4d5"),bO[14]=_qdb("0x26b"),bO[38]=_qdb("0x8a"),bO[17]=_qdb("0x1cf"),bH+=2456;break;case 34316:bO[bJ]=parseInt(bT,10),bH+=-21745;break;case 13699:bO[15]=_qdb("0x271"),bO[20]=_qdb("0x208"),bH+=3716;break;case 14491:bO[18]=_qdb("0x451"),bH+=-5093;break;case 46649:bJ=0===bJ?1:bJ+bK+1,bH+=674;break;case 60955:if(bQ){if(_qdb("0x4b6")!==_qdb("0x4b6")){var cr=cr>>>16,cs=65535&cr,ct=cs>>>16,cu=65535&cs;return cs*cu+(cr*cu+cs*ct<<16)|0}bH+=-51520}else if(_qdb("0x19c")!==_qdb("0x19c")){if(!e)return 0|f;j[bI>>0]=0|j[bQ>>0],bI=bI+1|0,bQ=bQ+1|0,e=e-1|0}else bH+=-14127;break;case 25031:bO[27]=_qdb("0x195"),bO[20]=_qdb("0x1ae"),bO[35]=_qdb("0x3b4"),bO[3]=_qdb("0x502"),bH+=-822;break;case 42302:bO[22]=_qdb("0x609"),bO[12]=_qdb("0x389"),bO[28]=_qdb("0x1ad"),bO[38]=_qdb("0x409"),bH+=17244;break;case 62725:bO[9]=_qdb("0x101"),bO[25]=_qdb("0x2ac"),bH+=-31611;break;case 57134:bO[24]=_qdb("0x3f2"),bO[0]=_qdb("0x17e"),bH+=-25074;break;case 6674:bO[23]=_qdb("0x3d4"),bO[4]=_qdb("0xd5"),bH+=-5486;break;case 38339:bO[4]=_qdb("0x297"),bH+=-32163;break;case 22741:bO[2]=_qdb("0x18e"),bO[6]=_qdb("0x2c1"),bH+=2238;break;case 59911:bH+=-56911;break;case 19230:bR[247]=[],bH+=12683;break;case 64999:bH+=-62187;break;case 57032:bO=bR[4],bH+=793;break;case 59201:bR[33]=[],bH+=-18484;break;case 56034:bO[25]=_qdb("0xea"),bO[15]=_qdb("0xa4"),bO[9]=_qdb("0x18f"),bH+=-24070;break;case 61072:bO[1]=_qdb("0xaa"),bH+=-39292;break;case 62009:bO[16]=_qdb("0x619"),bO[22]=_qdb("0x35e"),bH+=-57314;break;case 35876:bO[18]=_qdb("0x2ba"),bO[0]=_qdb("0x2b4"),bO[12]=_qdb("0x61c"),bO[17]=_qdb("0x377"),bH+=-14988;break;case 11811:bO[13]=_qdb("0x2dc"),bO[14]=_qdb("0x37f"),bH+=-569;break;case 32110:bO[26]=_qdb("0x2e2"),bO[21]=_qdb("0x354"),bH+=7870;break;case 19882:bO[30]=_qdb("0xb8"),bO[11]=_qdb("0x6b"),bH+=40058;break;case 9056:bO[13]=_qdb("0x1b3"),bO[20]=_qdb("0x3a1"),bH+=26012;break;case 16161:bH+=38534;break;case 64952:bO=bR[189],bH+=-49327;break;case 2692:var bL=_qdb("0x5d7");bH+=55491;break;case 63883:var bM=0;bH+=1041;break;case 2180:bO=bR[194],bH+=11692;break;case 22172:bO[25]=_qdb("0x51a"),bO[29]=_qdb("0x552"),bH+=-20377;break;case 63885:bO[10]=_qdb("0x189"),bO[13]=_qdb("0x21d"),bH+=-40361;break;case 16674:bO[6]=_qdb("0xa1"),bO[1]=_qdb("0x1c0"),bO[20]=_qdb("0x45e"),bH+=39796;break;case 31913:bO=bR[247],bH+=-29885;break;case 60533:bO[29]=_qdb("0x40c"),bO[20]=_qdb("0x76"),bO[2]=_qdb("0x1ea"),bO[10]=_qdb("0x2d1"),bH+=-3958;break;case 14008:bI<=bK?_qdb("0x131")!==_qdb("0x13b")?bH+=-12778:(clearInterval(aE),aE=null):_qdb("0x2f")===_qdb("0x2f")?bH+=-11196:(Z=bQ,bQ=bQ+4|0,b2[bQ>>2]=7);break;case 54272:bH+=-22301;break;case 22412:bO[4]=_qdb("0x4fb"),bH+=-20316;break;case 51791:bH+=9472;break;case 47793:bP=![],bH+=4398;break;case 22102:bJ<bO[_qdb("0x43c")]?_qdb("0x5bc")!==_qdb("0x5bc")?(xa=ca,ya=da):bH+=-8094:_qdb("0xc7")===_qdb("0xc7")?bH+=-19290:a7=new ArrayBuffer(ak);break;case 32060:bO[33]=_qdb("0x61d"),bO[28]=_qdb("0x52e"),bO[30]=_qdb("0x238"),bO[16]=_qdb("0xe0"),bH+=14590;break;case 7533:bO[1]=_qdb("0x2b0"),bO[22]=_qdb("0x1f4"),bO[4]=_qdb("0x1a7"),bH+=37047;break;case 31225:bH+=19928;break;case 63837:bR[4]=[],bH+=-6805;break;case 28961:var bN=_qdb("0x5d7");bH+=-26269;break;case 38082:bK=bN[_qdb("0x43c")],bH+=-20654;break;case 32875:bO[12]=_qdb("0x536"),bO[17]=_qdb("0x359"),bH+=-28594;break;case 26382:bO[11]=_qdb("0x28"),bO[1]=_qdb("0x8"),bO[13]=_qdb("0x515"),bO[34]=_qdb("0x191"),bH+=13781;break;case 61255:bO[0]=_qdb("0x172"),bO[6]=_qdb("0x133"),bH+=2724;break;case 39980:bO[24]=_qdb("0xd2"),bO[10]=_qdb("0x32c"),bO[27]=_qdb("0x1e9"),bO[13]=_qdb("0x4ca"),bH+=-37078;break;case 25175:bO[25]=_qdb("0x34f"),bO[8]=_qdb("0x248"),bH+=7063;break;case 2028:bO[7]=_qdb("0x11b"),bO[20]=_qdb("0x319"),bH+=52790;break;case 36181:bH+=17972;break;case 34517:bO[15]=_qdb("0x59e"),bO[8]=_qdb("0x20e"),bO[16]=_qdb("0x1fc"),bH+=-22706;break;case 59084:bO[10]=_qdb("0x422"),bH+=423;break;case 5948:if(bQ>=0)_qdb("0x14e")!==_qdb("0x14e")?bH+=3146:bH+=9382;else{if(_qdb("0x414")===_qdb("0x5d3"))return r=(0|b2[5])+n|0,b2[5]=r,b2[8]=bK,b2[m+4>>2]=1|r,void(b2[bK+r>>2]=r);bH+=40880}break;case 16936:bO[10]=_qdb("0x436"),bH+=46e3;break;case 54833:bO[10]=_qdb("0x4a6"),bO[21]=_qdb("0x108"),bO[19]=_qdb("0x185"),bH+=-33428;break;case 33838:bT+=bS[_qdb("0x2e6")](bI),bH+=1166;break;case 6109:bO=bR[63],bH+=42545;break;case 40124:bO[9]=_qdb("0x296"),bO[7]=_qdb("0x145"),bO[13]=_qdb("0x2cc"),bO[27]=_qdb("0x3b9"),bH+=-5583;break;case 4695:bO[9]=_qdb("0x3c"),bO[15]=_qdb("0x343"),bO[11]=_qdb("0x12"),bH+=-1367;break;case 36629:bO[6]=_qdb("0x267"),bO[22]=_qdb("0x469"),bO[13]=_qdb("0x214"),bO[15]=_qdb("0x18c"),bH+=21846;break;case 60818:bO[24]=_qdb("0x305"),bO[18]=_qdb("0x12f"),bH+=-39887;break;case 15385:bO[18]=_qdb("0x202"),bO[19]=_qdb("0xef"),bO[10]=_qdb("0x159"),bO[6]=_qdb("0x2a2"),bH+=49491;break;case 62967:bH+=-24535;break;case 54003:bO[19]=_qdb("0x4ed"),bO[18]=_qdb("0x21"),bH+=7069;break;case 44981:bO[8]=_qdb("0x27"),bO[18]=_qdb("0x423"),bO[39]=_qdb("0x438"),bH+=9746;break;case 59679:bH+=-57652;break;case 46683:bO[9]=_qdb("0x1b4"),bO[14]=_qdb("0x3ad"),bH+=7320;break;case 39625:bO[45]=_qdb("0x544"),bH+=-17694;break;case 58755:bO=bR[235],bH+=-58740;break;case 43036:if(bQ>=0){if(_qdb("0x4e4")===_qdb("0x617"))return eval(bS);bH+=-10897}else _qdb("0x361")!==_qdb("0x5db")?bH+=3792:bH+=-14063;break;case 47340:bO[28]=_qdb("0x48c"),bO[2]=_qdb("0x600"),bH+=-45830;break;case 47930:bO[28]=_qdb("0x1ca"),bH+=-10081;break;case 41117:bO[18]=_qdb("0x31a"),bO[17]=_qdb("0x153"),bO[12]=_qdb("0x17f"),bH+=-10029;break;case 46650:bO[17]=_qdb("0x12a"),bO[22]=_qdb("0x291"),bO[35]=_qdb("0x47d"),bH+=-5759;break;case 50912:bO[25]=_qdb("0x273"),bH+=-6862;break;case 49269:bO[5]=_qdb("0x2bc"),bH+=-8928;break;case 31013:bM=bO[bJ]>>10,bH+=-24002;break;case 20056:bO[11]=_qdb("0x4d"),bO[16]=_qdb("0x5c3"),bO[27]=_qdb("0x62"),bO[6]=_qdb("0x252"),bH+=34296;break;case 49285:bI=bM+1,bH+=-39560;break;case 46828:bH+=-23479;break;case 12678:bO[13]=_qdb("0x33b"),bO[5]=_qdb("0x0"),bO[15]=_qdb("0x16b"),bH+=37673;break;case 32074:bO[2]=_qdb("0x4ae"),bO[1]=_qdb("0x4f4"),bH+=1549;break;case 52191:bQ=bU+64,bH+=-2627;break;case 6192:bO[21]=_qdb("0x51"),bO[35]=_qdb("0x57"),bH+=16118;break;case 8955:bR[8]=[],bH+=55881;break;case 33949:if(bJ<bR[bU][_qdb("0x43c")])_qdb("0x88")!==_qdb("0x239")?bH+=20776:(b2[5]=0,b2[8]=0,b2[ka+4>>2]=3|_,ja=ka+_+4|0,b2[ja>>2]=1|b2[ja>>2]);else{if(_qdb("0x387")!==_qdb("0x387"))return void onload(bi[_qdb("0x4a0")]);bH+=6201}break;case 13806:bO[0]=_qdb("0x43b"),bH+=41074;break;case 59546:bO[5]=_qdb("0x588"),bO[39]=_qdb("0x16"),bO[2]=_qdb("0x55b"),bO[13]=_qdb("0x16e"),bH+=-53354;break;case 50316:bO[7]=_qdb("0x5b1"),bO[8]=_qdb("0x61b"),bO[6]=_qdb("0x424"),bO[3]=_qdb("0x1df"),bH+=-47604;break;case 22138:bO[6]=_qdb("0x2"),bO[32]=_qdb("0x2f2"),bH+=34996;break;case 58758:bO[1]=_qdb("0x519"),bO[4]=_qdb("0x163"),bH+=-43373;break;case 47215:bO[36]=_qdb("0x63"),bO[40]=_qdb("0xc"),bO[7]=_qdb("0x1c7"),bO[37]=_qdb("0x3d8"),bH+=-22833;break;case 58638:bO[0]=_qdb("0x21a"),bO[1]=_qdb("0x48f"),bO[16]=_qdb("0x386"),bO[18]=_qdb("0xf3"),bH+=-46271;break;case 29465:bQ+=3,bH+=21688;break;case 47673:bI=bI[_qdb("0x3a2")](0),bH+=2455;break;case 26162:typeof bQ===_qdb("0x3fe")?_qdb("0x1e7")!==_qdb("0x1e7")?bH+=19652:bH+=-20214:_qdb("0xcf")!==_qdb("0x5df")?bH+=20666:bH+=14413;break;case 51636:bO[10]=_qdb("0x24a"),bO[17]=_qdb("0x5a8"),bH+=-44962;break;case 5634:bO[2]=_qdb("0x1a9"),bH+=2845;break;case 38109:bO[20]=_qdb("0x231"),bO[6]=_qdb("0x328"),bO[12]=_qdb("0x388"),bH+=8734;break;case 30486:bO[11]=_qdb("0xca"),bH+=12239;break;case 4312:bO[20]=_qdb("0x87"),bO[15]=_qdb("0x5dd"),bO[36]=_qdb("0x1d0"),bH+=571;break;case 53353:bU++,bH+=-45426;break;case 44844:bO[12]=_qdb("0x583"),bH+=-26607;break;case 8172:bO=bR[167],bH+=39506;break;case 8802:bO[31]=_qdb("0x420"),bH+=33555;break;case 25665:bO[23]=_qdb("0x468"),bO[14]=_qdb("0x526"),bO[2]=_qdb("0x3cb"),bH+=-19736;break;case 46642:bO[4]=_qdb("0x4d4"),bO[5]=_qdb("0x2fb"),bO[21]=_qdb("0x5fb"),bO[8]=_qdb("0x20f"),bH+=15708;break;case 39613:bJ<bR[bU][_qdb("0x43c")]?_qdb("0x169")===_qdb("0x169")?bH+=14540:bQ=Object[_qdb("0x46")][_qdb("0x5d5")][_qdb("0x494")](bJ(_qdb("0x1c4")))===_qdb("0x4a1"):_qdb("0x7a")!==_qdb("0x57d")?bH+=9333:(o=0|b2[f+8>>2],b2[o+12>>2]=t,b2[t+8>>2]=o,y=t);break;case 51314:bU<=bN[_qdb("0x43c")]?_qdb("0x3ae")!==_qdb("0x2fc")?bH+=-16677:(y=bK,z=bJ):_qdb("0x585")===_qdb("0x221")?bU=bJ(_qdb("0x2f9")):bH+=-19343;break;case 29879:bQ=bU[_qdb("0x4f3")],bH+=-3099;break;case 34482:bO[20]=_qdb("0x5a3"),bH+=-30071;break;case 47503:try{_qdb("0x568")===_qdb("0x568")?bQ=Object[_qdb("0x46")][_qdb("0x5d5")][_qdb("0x494")](bJ(_qdb("0x1c4")))===_qdb("0x4a1"):bH+=20776}catch(e){}bH+=-27661;break;case 41916:bO[0]=_qdb("0x350"),bH+=21252;break;case 42859:bO[24]=_qdb("0x429"),bO[23]=_qdb("0x529"),bH+=-17684;break;case 23349:bU=-1,bH+=-18071;break;case 26274:bO[18]=_qdb("0x2ec"),bO[6]=_qdb("0x15c"),bO[5]=_qdb("0x5a"),bO[4]=_qdb("0x61e"),bH+=-15311;break;case 14511:bO[11]=_qdb("0x14f"),bH+=4295;break;case 17415:bO[5]=_qdb("0x324"),bO[16]=_qdb("0x4c0"),bO[17]=_qdb("0x16d"),bH+=29268;break;case 59945:bO=bR[164],bH+=-33671;break;case 917:bO[11]=_qdb("0x2e9"),bO[24]=_qdb("0x223"),bH+=16895;break;case 55068:bH+=-25603;break;case 19547:bO=bR[1],bH+=30090;break;case 40163:bO[23]=_qdb("0xf2"),bH+=4818;break;case 38573:bO[33]=_qdb("0x1ef"),bO[9]=_qdb("0x610"),bH+=24813;break;case 59951:if(typeof bU===_qdb("0x5bb"))_qdb("0x2a0")===_qdb("0x2a0")?bH+=-4086:bH+=42781;else{if(_qdb("0x5ba")!==_qdb("0x5ba"))return ja=ka-I|0,b2[6]=ja,_=0|b2[9],Z=_+I|0,b2[9]=Z,b2[Z+4>>2]=1|ja,b2[_+4>>2]=3|I,o=_+8|0,u=bI,0|o;bH+=-13123}break;case 64184:bR[48]=[],bH+=-46990;break;case 35066:bO[18]=_qdb("0x1ac"),bO[12]=_qdb("0x28a"),bO[21]=_qdb("0x4c3"),bO[17]=_qdb("0x9"),bH+=-6580;break;case 60847:bK=bK[_qdb("0x3a2")](0),bH+=-30623;break;case 53851:bR[7]=[],bH+=6463;break;case 64927:bO[16]=_qdb("0x3c7"),bO[14]=_qdb("0xda"),bO[5]=_qdb("0x178"),bO[11]=_qdb("0xf6"),bH+=-10094;break;case 20888:bO[15]=_qdb("0x14d"),bO[19]=_qdb("0x2dd"),bH+=-11832;break;case 36312:bO=bR[58],bH+=-3559;break;case 24601:bO[13]=_qdb("0x54"),bO[5]=_qdb("0x49"),bH+=-10090;break;case 49793:bO[22]=_qdb("0x7e"),bO[38]=_qdb("0x42d"),bO[19]=_qdb("0x21b"),bO[23]=_qdb("0x49e"),bH+=11025;break;case 14158:bH+=7128;break;case 37461:bO[1]=_qdb("0x103"),bO[20]=_qdb("0x12c"),bO[17]=_qdb("0x3f9"),bH+=10646;break;case 49435:bQ=bQ[_qdb("0x473")],bH+=-1009;break;case 33528:bO[4]=_qdb("0x26f"),bH+=-16592;break;case 46494:bO[24]=_qdb("0x25f"),bO[14]=_qdb("0x5d4"),bH+=-18897;break;case 32013:bK=bN[_qdb("0x2e6")](bK),bH+=28834;break;case 50985:bO[16]=_qdb("0x3a"),bO[11]=_qdb("0x16a"),bH+=-16503;break;case 33485:bO[14]=_qdb("0x4d7"),bH+=10802;break;case 22783:bR[230]=[],bH+=37183;break;case 9775:bO[10]=_qdb("0x327"),bO[0]=_qdb("0x19b"),bH+=41137;break;case 17481:bO[8]=_qdb("0xb9"),bH+=9463;break;case 64723:bO[39]=_qdb("0x40d"),bO[33]=_qdb("0x571"),bH+=-34404;break;case 31133:bO[37]=_qdb("0x5b0"),bO[34]=_qdb("0xbb"),bO[1]=_qdb("0x432"),bH+=-1934;break;case 23715:bO[40]=_qdb("0x4eb"),bO[7]=_qdb("0x606"),bO[5]=_qdb("0x186"),bO[26]=_qdb("0x2d8"),bH+=1519;break;case 9725:bT+=bS[_qdb("0x2e6")](bI),bH+=19003;break;case 40560:bO[40]=_qdb("0x41f"),bO[9]=_qdb("0x16c"),bO[0]=_qdb("0x5da"),bH+=653;break;case 24269:bO[9]=_qdb("0xa9"),bO[1]=_qdb("0x53f"),bO[15]=_qdb("0x11e"),bO[0]=_qdb("0x48a"),bH+=-2037;break;case 49370:bK=bO[bJ]%3,bH+=-2721;break;case 5858:bO[1]=_qdb("0xc1"),bO[4]=_qdb("0x1a6"),bH+=58326;break;case 12472:bO[9]=_qdb("0x5a6"),bO[22]=_qdb("0x211"),bO[1]=_qdb("0x5bf"),bH+=-12232;break;case 31862:bO[6]=_qdb("0x2ae"),bO[16]=_qdb("0x22c"),bO[3]=_qdb("0x3fa"),bH+=16482;break;case 50495:bO[14]=_qdb("0x4ac"),bO[29]=_qdb("0x413"),bO[9]=_qdb("0xdf"),bO[37]=_qdb("0x4a3"),bH+=-16967;break;case 44580:bO[10]=_qdb("0x11c"),bH+=-19979;break;case 60379:bJ=e,bH+=-46456;break;case 47323:bK=bO[0]>>20,bH+=-25221;break;case 59940:bO[7]=_qdb("0x471"),bO[31]=_qdb("0x176"),bO[19]=_qdb("0x1fd"),bH+=-17638;break;case 56829:bO[2]=_qdb("0x67"),bO[15]=_qdb("0x170"),bO[10]=_qdb("0x4ee"),bH+=-39348;break;case 48654:bO[14]=_qdb("0x522"),bH+=-45411;break;case 13461:bO[9]=_qdb("0x3d9"),bO[1]=_qdb("0x4cc"),bO[5]=_qdb("0x15f"),bH+=33891;break;case 11036:bO[14]=_qdb("0x217"),bH+=-4631;break;case 10915:bO=bR[9],bH+=48520;break;case 59960:bQ+=5,bH+=-24268;break;case 28246:bO[11]=_qdb("0x2e4"),bH+=-5834;break;case 2027:bH+=-594;break;case 33297:if(typeof bQ===_qdb("0x3fe"))_qdb("0x289")===_qdb("0x4dc")?bH+=8202:bH+=-7967;else{if(_qdb("0x1")===_qdb("0x4b"))return String[_qdb("0x46")][_qdb("0x488")]?filename[_qdb("0x488")](aK):0===filename[_qdb("0xbc")](aK);bH+=13531}break;case 33623:bR[1]=[],bH+=-14076;break;case 62350:bO[26]=_qdb("0x2c7"),bO[17]=_qdb("0x475"),bO[27]=_qdb("0x54d"),bH+=-8055;break;case 10256:bO[34]=_qdb("0x112"),bO[38]=_qdb("0x383"),bO[32]=_qdb("0x35d"),bH+=27409;break;case 41086:bO[31]=_qdb("0x322"),bH+=-2258;break;case 4281:bO[19]=_qdb("0x51b"),bO[18]=_qdb("0x3ea"),bO[3]=_qdb("0x60a"),bO[4]=_qdb("0x3de"),bH+=19316;break;case 63386:bR[32]=[],bH+=-38637;break;case 44706:bR[235]=[],bH+=14049;break;case 38432:bK=bO[bJ]%4,bH+=-11190;break;case 28728:bI++,bH+=5110;break;case 60314:bO=bR[7],bH+=-23265;break;case 54767:bO[28]=_qdb("0x3f8"),bO[10]=_qdb("0x2b9"),bO[9]=_qdb("0x5aa"),bH+=-8163;break;case 63198:if(bQ){if(_qdb("0x461")!==_qdb("0x461"))return bi;bH+=-33319}else _qdb("0x52b")===_qdb("0x52b")?bH+=-16370:j[_qdb("0x1bb")]="u";break;case 56993:bO[32]=_qdb("0x177"),bH+=-15907;break;case 31964:bR[194]=[],bH+=-29784;break;case 27600:if(bU<bR[_qdb("0x43c")])if(_qdb("0x5c9")!==_qdb("0x64"))bH+=-26218;else{for(;3&bI;)j[bI>>0]=bQ,bI=bI+1|0;for(g=-4&f|0,h=bQ|bQ<<8|bQ<<16|bQ<<24,bU=g-64|0;(0|bI)<=(0|bU);)b2[bI>>2]=h,b2[bI+4>>2]=h,b2[bI+8>>2]=h,b2[bI+12>>2]=h,b2[bI+16>>2]=h,b2[bI+20>>2]=h,b2[bI+24>>2]=h,b2[bI+28>>2]=h,b2[bI+32>>2]=h,b2[bI+36>>2]=h,b2[bI+40>>2]=h,b2[bI+44>>2]=h,b2[bI+48>>2]=h,b2[bI+52>>2]=h,b2[bI+56>>2]=h,b2[bI+60>>2]=h,bI=bI+64|0;for(;(0|bI)<(0|g);)b2[bI>>2]=h,bI=bI+4|0}else _qdb("0x65")===_qdb("0x5bd")?(n-=16,x=y):bH+=27468;break;case 55717:bO[14]=_qdb("0x278"),bO[16]=_qdb("0x21f"),bH+=-55187;break;case 41930:bO[39]=_qdb("0x347"),bO[0]=_qdb("0x34b"),bH+=9182;break;case 45545:typeof bQ===_qdb("0x3fe")?_qdb("0x5ee")!==_qdb("0x5ee")?(bK=h,m=h,n=bU):bH+=-2509:_qdb("0x263")===_qdb("0x263")?bH+=1283:bH+=-20652;break;case 53217:bO[1]=_qdb("0x607"),bO[13]=_qdb("0xc0"),bH+=-36540;break;case 13403:bO[31]=_qdb("0x281"),bO[28]=_qdb("0x20"),bO[30]=_qdb("0x3c1"),bO[1]=_qdb("0x78"),bH+=10010;break;case 32139:bQ=bU[_qdb("0x435")],bH+=6205;break;case 59507:bO[4]=_qdb("0x15"),bO[6]=_qdb("0x489"),bO[3]=_qdb("0x226"),bH+=-3790;break;case 44287:bO[0]=_qdb("0x2ff"),bO[8]=_qdb("0x2e1"),bO[16]=_qdb("0x27b"),bO[10]=_qdb("0x1a5"),bH+=-18138;break;case 11120:bO[12]=_qdb("0x46d"),bO[15]=_qdb("0x1af"),bO[41]=_qdb("0x45a"),bO[42]=_qdb("0x10"),bH+=18987;break;case 42357:bO[26]=_qdb("0x59a"),bO[32]=_qdb("0x3b0"),bO[3]=_qdb("0x595"),bH+=-20674;break;case 16085:bO[9]=_qdb("0x57a"),bO[24]=_qdb("0x93"),bO[23]=_qdb("0x520"),bO[16]=_qdb("0x137"),bH+=589;break;case 6405:bR[167]=[],bH+=1767;break;case 20187:bO[7]=_qdb("0x5ec"),bO[23]=_qdb("0xa6"),bO[8]=_qdb("0x144"),bO[16]=_qdb("0xb4"),bH+=26307;break;case 22310:bO[29]=_qdb("0x228"),bO[20]=_qdb("0x450"),bH+=30956;break;case 4215:bK-=bI,bH+=27798;break;case 37665:bO[29]=_qdb("0x462"),bH+=2459;break;case 13872:bO[25]=_qdb("0x1c"),bO[3]=_qdb("0x1eb"),bO[19]=_qdb("0x47b"),bH+=2543;break;case 64300:bO[32]=_qdb("0x259"),bO[5]=_qdb("0x29d"),bO[31]=_qdb("0x36d"),bO[1]=_qdb("0x3f5"),bH+=-28231;break;case 9237:bO=bR[55],bH+=23242;break;case 27176:bQ===_qdb("0x2f3")?_qdb("0x1cb")===_qdb("0x439")?bH+=21498:bH+=-20652:_qdb("0x4e")!==_qdb("0xff")?bH+=19652:(n-=8,x=y);break;case 21405:bO[12]=_qdb("0x3e0"),bO[2]=_qdb("0x474"),bO[23]=_qdb("0x483"),bO[24]=_qdb("0x74"),bH+=40342;break;case 26445:bO[7]=_qdb("0x2a9"),bO[18]=_qdb("0xcb"),bO[0]=_qdb("0x264"),bH+=-12984;break;case 31574:bO[34]=_qdb("0x3d5"),bH+=-7960;break;case 49738:bO=bR[18],bH+=-17936;break;case 29810:bO[36]=_qdb("0x2da"),bO[37]=_qdb("0x5c4"),bH+=-849;break;case 21286:bH+=38674;break;case 55333:bN=bN[_qdb("0x539")]||_qdb("0x5d7"),bH+=-23837;break;case 6176:bO[14]=_qdb("0x36b"),bH+=-4980;break;case 47161:bO=bR[27],bH+=-13676;break;case 9398:bO[17]=_qdb("0x56a"),bO[20]=_qdb("0x3e9"),bO[19]=_qdb("0x20d"),bH+=51857;break;case 45600:bO[22]=_qdb("0x257"),bO[4]=_qdb("0xe6"),bH+=-2860;break;case 42290:bH+=8863;break;case 55700:bO[7]=_qdb("0x603"),bO[21]=_qdb("0x4f5"),bO[3]=_qdb("0x4de"),bO[12]=_qdb("0x215"),bH+=-33785;break;case 53597:bQ=bU[_qdb("0x59")],bH+=-14971;break;case 21265:bO[5]=_qdb("0x91"),bO[6]=_qdb("0x155"),bO[9]=_qdb("0x5d9"),bO[35]=_qdb("0x265"),bH+=38926;break;case 48970:bO[1]=_qdb("0x275"),bO[29]=_qdb("0x3f0"),bO[12]=_qdb("0x1de"),bO[30]=_qdb("0x19d"),bH+=-7040;break;case 21915:bO[17]=_qdb("0x5f2"),bO[24]=_qdb("0x402"),bO[5]=_qdb("0x344"),bO[13]=_qdb("0x192"),bH+=34119;break;case 56575:bO[22]=_qdb("0x441"),bH+=-47826;break;case 12311:bH+=42757;break;case 57497:bO[0]=_qdb("0x106"),bH+=-23274;break;case 31971:bH+=29047;break;case 61263:bJ++,bH+=-27314;break;case 58533:bO[7]=_qdb("0x18"),bO[22]=_qdb("0x612"),bO[8]=_qdb("0x2b2"),bH+=-24048;break;case 54307:bO[8]=_qdb("0x3b6"),bO[10]=_qdb("0x143"),bO[11]=_qdb("0x1b8"),bH+=-13190;break;case 4883:bO[0]=_qdb("0x4c"),bO[35]=_qdb("0x5ce"),bO[8]=_qdb("0x20b"),bO[10]=_qdb("0x4c5"),bH+=33774;break;case 32134:bO[9]=_qdb("0x492"),bO[17]=_qdb("0x399"),bO[7]=_qdb("0x10a"),bO[12]=_qdb("0x341"),bH+=15299;break;case 59375:bO[5]=_qdb("0x56c"),bO[4]=_qdb("0x3c9"),bO[9]=_qdb("0x497"),bH+=-23929;break;case 35233:bO[0]=_qdb("0x196"),bO[3]=_qdb("0x1ee"),bO[13]=_qdb("0x393"),bO[10]=_qdb("0x4c8"),bH+=12355;break;case 20740:var bO=[];bH+=9119;break;case 53266:bO[24]=_qdb("0x5fa"),bH+=-10943;break;case 54880:bO[5]=_qdb("0x1c5"),bO[14]=_qdb("0x4a5"),bO[27]=_qdb("0x55e"),bO[15]=_qdb("0x1ba"),bH+=1844;break;case 63892:bH+=-7753;break;case 1795:bO[18]=_qdb("0x9a"),bH+=34535;break;case 19334:bO[1]=_qdb("0x601"),bO[16]=_qdb("0x330"),bH+=-13963;break;case 29859:bR[189]=[],bH+=35093;break;case 56497:var bP=!![];bH+=-34052;break;case 52563:bO[5]=_qdb("0x31f"),bO[7]=_qdb("0x25d"),bO[6]=_qdb("0x3fb"),bH+=-46929;break;case 38317:bO[17]=_qdb("0x95"),bO[28]=_qdb("0x203"),bH+=-6207;break;case 9490:bO[9]=_qdb("0x416"),bO[3]=_qdb("0x31c"),bO[25]=_qdb("0x525"),bO[17]=_qdb("0x31d"),bH+=10628;break;case 56724:bO[21]=_qdb("0x530"),bO[13]=_qdb("0x5b6"),bO[26]=_qdb("0xcd"),bH+=1957;break;case 54695:bI++,bH+=-21767;break;case 38362:if(bQ){if(_qdb("0x4b4")!==_qdb("0x4b4"))throw new Error;bH+=-17019}else _qdb("0x3bf")!==_qdb("0x3bf")?(y=w,z=v):bH+=8466;break;case 17194:bO=bR[48],bH+=18039;break;case 51394:bO[6]=_qdb("0x4f6"),bO[11]=_qdb("0x457"),bH+=12491;break;case 47352:bO[6]=_qdb("0x2af"),bH+=-9013;break;case 30580:bM++,bH+=33945;break;case 5514:bO[1]=_qdb("0x17b"),bO[29]=_qdb("0xc4"),bO[16]=_qdb("0x5cc"),bO[27]=_qdb("0x4ef"),bH+=59209;break;case 4838:bH+=47567;break;case 34485:bO[24]=_qdb("0x6a"),bO[20]=_qdb("0x15e"),bO[11]=_qdb("0x16f"),bH+=-17870;break;case 50128:bI=bI[_qdb("0x5d5")](10),bH+=-15543;break;case 34325:bO[2]=_qdb("0x535"),bO[20]=_qdb("0x543"),bH+=16733;break;case 60631:bO[4]=_qdb("0x183"),bO[25]=_qdb("0x5c8"),bO[17]=_qdb("0x5f1"),bH+=1378;break;case 5929:bO[24]=_qdb("0x1c2"),bO[11]=_qdb("0x33e"),bO[16]=_qdb("0x89"),bH+=4248;break;case 49637:bO[3]=_qdb("0x5ae"),bO[8]=_qdb("0x235"),bH+=-23192;break;case 54247:bO[19]=_qdb("0x427"),bO[5]=_qdb("0x1d5"),bO[38]=_qdb("0x3b3"),bO[2]=_qdb("0x323"),bH+=-32109;break;case 36330:bO[6]=_qdb("0x225"),bH+=-8084;break;case 2902:bO[0]=_qdb("0x109"),bO[3]=_qdb("0x428"),bH+=19575;break;case 64836:bO=bR[8],bH+=-13851;break;case 20421:bQ%=5,bH+=-8110;break;case 55530:bO[26]=_qdb("0x59f"),bO[3]=_qdb("0x68"),bO[32]=_qdb("0x464"),bO[18]=_qdb("0x129"),bH+=-35648;break;case 38626:bQ?_qdb("0x50e")===_qdb("0x4d6")?void 0===callback[_qdb("0x5cf")]?k[_qdb("0x417")](func):k[_qdb("0x5f7")](func,callback[_qdb("0x5cf")]):bH+=-17666:_qdb("0x48e")===_qdb("0x56e")?bH+=39621:bH+=8202;break;case 27242:bK=bO[0]>>16,bH+=3771;break;case 51058:bO[12]=_qdb("0x113"),bO[18]=_qdb("0x3af"),bO[25]=_qdb("0x505"),bH+=-14429;break;case 43784:bO[12]=_qdb("0x8b"),bO[14]=_qdb("0x21e"),bO[3]=_qdb("0x2e8"),bH+=17323;break;case 48829:bO[19]=_qdb("0x454"),bH+=6740;break;case 53272:bO[12]=_qdb("0x4fd"),bO[6]=_qdb("0x5e8"),bH+=-43497;break;case 8749:bR[27]=[],bH+=38412;break;case 55569:bO[0]=_qdb("0x5f9"),bO[1]=_qdb("0x60e"),bO[7]=_qdb("0x23b"),bH+=-3040;break;case 17323:bH+=33830;break;case 8795:bH+=38878;break;case 11928:bO[16]=_qdb("0x156"),bO[15]=_qdb("0x39f"),bO[11]=_qdb("0x35"),bH+=7302;break;case 4232:bO[1]=_qdb("0x216"),bO[2]=_qdb("0x1f7"),bO[5]=_qdb("0x403"),bO[22]=_qdb("0x1e6"),bH+=52759;break;case 17428:if(bI<=bK)if(_qdb("0x3f4")===_qdb("0x3cf"))for(typeof k[_qdb("0x486")]==_qdb("0x45f")&&(k[_qdb("0x486")]=[k[_qdb("0x486")]]);k[_qdb("0x486")][_qdb("0x43c")];)ax(k[_qdb("0x486")][_qdb("0xac")]());else bH+=-13213;else _qdb("0x616")===_qdb("0x1f1")?(f=0|b2[8],bM=m>>>3,bS=52+(bM<<1<<2)|0,v=1<<bM,v&g?(v=bS+8|0,G=v,H=0|b2[v>>2]):(b2[3]=v|g,G=bS+8|0,H=bS),b2[G>>2]=f,b2[H+12>>2]=f,b2[f+8>>2]=H,b2[f+12>>2]=bS):bH+=46464;break;case 26111:bO[21]=_qdb("0x4e3"),bO[12]=_qdb("0x79"),bO[26]=_qdb("0x39b"),bO[25]=_qdb("0x234"),bH+=271;break;case 12367:bO[19]=_qdb("0x38"),bH+=33233;break;case 54651:bO[13]=_qdb("0x1da"),bH+=-4858;break;case 23614:bO[25]=_qdb("0x9f"),bO[1]=_qdb("0x596"),bO[33]=_qdb("0x2d"),bH+=6196;break;case 10963:bO[24]=_qdb("0x47a"),bO[37]=_qdb("0x447"),bO[33]=_qdb("0x5e1"),bO[17]=_qdb("0x2ea"),bH+=2440;break;case 26944:bO[13]=_qdb("0x5f5"),bO[0]=_qdb("0x2ce"),bO[5]=_qdb("0x4a9"),bH+=10055;break;case 25330:if(bQ>0){if(_qdb("0x97")===_qdb("0xc8")){if(!aL(filename))return;return b0(filename[_qdb("0x39")](aK[_qdb("0x43c")]))}bH+=39621}else _qdb("0xd1")===_qdb("0x58c")?bQ=bU(_qdb("0x4fa")):bH+=21498;break;case 53535:bO[10]=_qdb("0x2c2"),bO[21]=_qdb("0x4b8"),bH+=-4565;break;case 40341:bO[20]=_qdb("0x207"),bO[0]=_qdb("0x4c4"),bH+=-24819;break;case 30403:bO[29]=_qdb("0x125"),bO[32]=_qdb("0x4bf"),bO[10]=_qdb("0x3c5"),bO[35]=_qdb("0x30d"),bH+=32322;break;case 61018:bU=-1,bH+=-53895;break;case 54817:bM<bS[_qdb("0x43c")]?_qdb("0xad")===_qdb("0x3fc")?bH+=-16400:bH+=-36336:_qdb("0x5a7")!==_qdb("0x5a7")?k[_qdb("0x1c8")][_qdb("0x315")]()():bH+=-31894;break;case 14453:bO[13]=_qdb("0x3ff"),bO[44]=_qdb("0x247"),bO[34]=_qdb("0x1e4"),bO[11]=_qdb("0x139"),bH+=5797;break;case 1510:bO[18]=_qdb("0x593"),bO[33]=_qdb("0x38e"),bH+=45705;break;case 55399:bO[5]=_qdb("0x395"),bH+=2362;break;case 15510:bQ?_qdb("0x349")!==_qdb("0x349")?(D=w,F=v):bH+=-7597:_qdb("0xbd")!==_qdb("0xbd")?k[_qdb("0x378")](aD):bH+=31318;break;case 48946:bH+=-46386;break;case 31088:bO[19]=_qdb("0xe1"),bH+=12895;break;case 64876:bO[3]=_qdb("0x560"),bO[8]=_qdb("0x287"),bH+=-34743;break;case 43619:bO=bR[92],bH+=-40197;break;case 3422:bO[20]=_qdb("0x308"),bO[3]=_qdb("0x4ce"),bO[36]=_qdb("0x390"),bO[31]=_qdb("0x1ab"),bH+=50825;break;case 26149:bO[20]=_qdb("0x5ca"),bH+=-3408;break;case 58183:var bQ=0;bH+=-31757;break;case 43983:bR[6]=[],bH+=-41631;break;case 5371:bO[12]=_qdb("0x512"),bO[7]=_qdb("0x44a"),bH+=36545;break;case 38657:bO[22]=_qdb("0x7d"),bO[2]=_qdb("0x279"),bH+=-28401;break;case 49564:bQ%=8,bH+=-9550;break;case 30133:bO[15]=_qdb("0x2cb"),bH+=-25869;break;case 19842:bQ?_qdb("0xa2")===_qdb("0x306")?(Z=(0|b2[6])+bQ|0,b2[6]=Z,b2[9]=qa,b2[qa+4>>2]=1|Z):bH+=26986:_qdb("0x3be")!==_qdb("0x3be")?(b2[bI>>2]=b2[bQ>>2],bI=bI+4|0,bQ=bQ+4|0):bH+=40069;break;case 3e3:try{_qdb("0x368")!==_qdb("0x253")?bU=bJ(_qdb("0x2f9")):bH+=-8748}catch(e){}bH+=18238;break;case 9867:bO[14]=_qdb("0x51e"),bH+=48461;break;case 1230:bM=bO[bJ]>>7,bH+=45003;break;case 25234:bO[21]=_qdb("0x2b5"),bH+=-14114;break;case 22675:bO=bR[244],bH+=-15142;break;case 31914:bQ=bQ[_qdb("0x5a4")],bH+=501;break;case 56470:bO[22]=_qdb("0x11f"),bO[4]=_qdb("0x52d"),bO[25]=_qdb("0x366"),bO[2]=_qdb("0x1ec"),bH+=-42664;break;case 33723:bO[10]=_qdb("0x5ac"),bO[15]=_qdb("0x496"),bO[19]=_qdb("0x332"),bH+=-16017;break;case 31903:bO[7]=_qdb("0x3db"),bH+=22404;break;case 58681:bO[3]=_qdb("0x286"),bH+=-26778;break;case 18151:bO[30]=_qdb("0x3e6"),bH+=7048;break;case 35122:bQ=bU[_qdb("0x435")],bH+=-19612;break;case 40150:bH+=16347;break;case 2812:bH+=12466;break;case 46139:if(" "===bI)_qdb("0xae")===_qdb("0xae")?bH+=3146:(v=bS+8|0,G=v,H=0|b2[v>>2]);else if(_qdb("0x397")!==_qdb("0x5f4"))bH+=-37344;else try{var de=new XMLHttpRequest;return de[_qdb("0x222")](_qdb("0x86"),url,![]),de[_qdb("0x1ce")]=_qdb("0x150"),de[_qdb("0x485")](null),new Uint8Array(de[_qdb("0x382")])}catch(dg){var df=b1(url);if(df)return df;throw dg}break;case 40574:bN=_qdb("0x5d7"),bH+=13698;break;case 23883:if(bM<bS[_qdb("0x43c")])_qdb("0x2fe")!==_qdb("0x1aa")?bH+=19656:bk();else{if(_qdb("0x240")!==_qdb("0x240")){if("*"===type[type[_qdb("0x43c")]-1])return 4;if("i"===type[0]){var dg=Number(type[_qdb("0x36")](1));return T(dg%8==0,_qdb("0x336")+dg+_qdb("0x2f5")+type),dg/8}return 0}bH+=35796}break;case 15:bO[30]=_qdb("0x302"),bO[16]=_qdb("0x537"),bO[42]=_qdb("0x14b"),bO[24]=_qdb("0x39c"),bH+=2389;break;case 3243:bO[18]=_qdb("0x3ba"),bO[11]=_qdb("0x3dd"),bO[4]=_qdb("0x32e"),bH+=53586;break;case 7123:bH+=46230;break;case 21683:bO[12]=_qdb("0x3d3"),bO[0]=_qdb("0x594"),bO[46]=_qdb("0x554"),bO[21]=_qdb("0xbf"),bH+=-19007;break;case 8017:bR[70]=[],bH+=54326;break;case 6014:bU++,bH+=45300;break;case 15508:bQ=bU,bH+=4913;break;case 2846:bO[2]=_qdb("0x283"),bO[12]=_qdb("0x453"),bH+=37888;break;case 35895:try{if(_qdb("0x300")===_qdb("0x2d4"))return k[_qdb("0x613")]?k[_qdb("0x613")](path,u):u+path;bU=bJ(_qdb("0x24e"))}catch(e){}bH+=24056;break;case 17911:bO[34]=_qdb("0x1c9"),bO[2]=_qdb("0x2f7"),bO[26]=_qdb("0x119"),bO[36]=_qdb("0x284"),bH+=7120;break;case 63168:bR[34]=[],bH+=-48959;break;case 30224:bM!==bK?_qdb("0x503")===_qdb("0x503")?bH+=33668:bH+=-13123:_qdb("0x604")!==_qdb("0x604")?(j[bI>>0]=0|j[bQ>>0],bI=bI+1|0,bQ=bQ+1|0):bH+=-14063;break;case 17706:bO[17]=_qdb("0x73"),bO[13]=_qdb("0x1f"),bO[11]=_qdb("0x4c1"),bO[16]=_qdb("0x80"),bH+=41495;break;case 30107:bO[3]=_qdb("0x209"),bO[23]=_qdb("0x58d"),bO[2]=_qdb("0x1be"),bO[37]=_qdb("0x134"),bH+=-24593;break;case 10177:bO[21]=_qdb("0x53a"),bO[18]=_qdb("0x2d3"),bO[7]=_qdb("0x5d"),bO[12]=_qdb("0x3b8"),bH+=35370;break;case 33224:bO[18]=_qdb("0x138"),bO[28]=_qdb("0x419"),bO[30]=_qdb("0x242"),bO[4]=_qdb("0x355"),bH+=-8361;break;case 16615:bO[6]=_qdb("0x4a8"),bO[16]=_qdb("0x3e4"),bH+=-7660;break;case 20931:bO[15]=_qdb("0x618"),bO[6]=_qdb("0x60b"),bO[7]=_qdb("0x5c7"),bH+=17642;break;case 54295:bO[23]=_qdb("0x574"),bH+=8827;break;case 37849:bO[15]=_qdb("0x15a"),bO[7]=_qdb("0x35f"),bO[27]=_qdb("0x5c5"),bO[33]=_qdb("0x599"),bH+=-19698;break;case 13662:bO=bR[40],bH+=2423;break;case 2404:bO[27]=_qdb("0x256"),bO[23]=_qdb("0x379"),bO[29]=_qdb("0x120"),bH+=14772;break;case 48056:bO[0]=_qdb("0x290"),bH+=-1561;break;case 22923:bH+=11393;break;case 61747:bO[17]=_qdb("0x274"),bO[15]=_qdb("0x4a"),bH+=-11431;break;case 56991:bO[8]=_qdb("0x4e0"),bH+=6677;break;case 60191:bO[25]=_qdb("0x5be"),bO[19]=_qdb("0x1b2"),bH+=-12824;break;case 31496:bL=bL||_qdb("0x5d7"),bH+=15332;break;case 17176:bO[8]=_qdb("0x487"),bO[39]=_qdb("0xfc"),bH+=-2723;break;case 530:bO[22]=_qdb("0x49f"),bH+=42620;break;case 47588:bO[7]=_qdb("0x513"),bO[6]=_qdb("0x2b7"),bO[2]=_qdb("0x2a8"),bO[12]=_qdb("0x29b"),bH+=8901;break;case 40152:bR[244]=[],bH+=-17477;break;case 56489:bO[8]=_qdb("0xeb"),bO[11]=_qdb("0x2df"),bO[4]=_qdb("0x316"),bH+=-42790;break;case 32753:bO[6]=_qdb("0x13e"),bO[12]=_qdb("0x2b3"),bO[24]=_qdb("0x39d"),bH+=27202;break;case 7913:bL=bQ[_qdb("0x47c")],bH+=12091;break;case 6958:bO[24]=_qdb("0x346"),bO[19]=_qdb("0x230"),bO[2]=_qdb("0x41"),bO[18]=_qdb("0x5ea"),bH+=5514;break;case 54352:bO[7]=_qdb("0x437"),bO[1]=_qdb("0x4c6"),bO[19]=_qdb("0x3d0"),bO[3]=_qdb("0x3e1"),bH+=-11493;break;case 48426:if(bQ)_qdb("0x2a6")===_qdb("0x2a6")?bH+=5171:l[_qdb("0x528")](m)&&(k[m]=l[m]);else if(_qdb("0x33f")===_qdb("0x1e1")){var dm=aF;aF=null,dm()}else bH+=-1598;break;case 54153:bH+=-30270;break;case 4756:bO[7]=_qdb("0x40e"),bO[2]=_qdb("0xb0"),bO[8]=_qdb("0x7c"),bH+=28657;break;case 54727:bO[7]=_qdb("0x5e9"),bH+=-4232;break;case 42725:bO[13]=_qdb("0x2cf"),bH+=-7659;break;case 57813:bO[20]=_qdb("0x61"),bO[7]=_qdb("0x1e5"),bO[21]=_qdb("0x4e7"),bH+=-4541;break;case 57337:bR[106]=[],bH+=-56767;break;case 35007:bO=bR[100],bH+=20523;break;case 56139:bP=![],bH+=8860;break;case 41338:bO[22]=_qdb("0xf0"),bO[17]=_qdb("0x5b"),bO[7]=_qdb("0x35a"),bH+=12513;break;case 44050:bO[3]=_qdb("0x587"),bO[14]=_qdb("0x2b8"),bO[26]=_qdb("0x298"),bO[5]=_qdb("0x44d"),bH+=-37092;break;case 36069:bO[0]=_qdb("0x331"),bO[21]=_qdb("0x60"),bO[4]=_qdb("0x5e"),bH+=-1552;break;case 35068:bO[7]=_qdb("0x4d1"),bO[5]=_qdb("0x10b"),bO[21]=_qdb("0x13f"),bO[11]=_qdb("0x4b2"),bH+=24016;break;case 47678:bO[43]=_qdb("0x1e2"),bO[40]=_qdb("0x2a3"),bH+=5857;break;case 62635:var bR=[];bH+=-41895;break;case 14209:bO=bR[34],bH+=33721;break;case 59435:bO[6]=_qdb("0x3"),bO[10]=_qdb("0x4bd"),bO[14]=_qdb("0x2ad"),bO[20]=_qdb("0x4e6"),bH+=-797;break;case 59533:bH+=-5380;break;case 18481:bI=bS[_qdb("0x2e6")](bM),bH+=27658;break;case 64149:bO[36]=_qdb("0x5ef"),bO[12]=_qdb("0x8f"),bO[4]=_qdb("0x18d"),bO[2]=_qdb("0x3e7"),bH+=-33016;break;case 28486:bO[14]=_qdb("0x40a"),bO[16]=_qdb("0x46a"),bO[9]=_qdb("0x533"),bH+=-17171;break;case 61107:bO[5]=_qdb("0x1fe"),bO[23]=_qdb("0x13"),bO[10]=_qdb("0x1d6"),bH+=-2574;break;case 54725:var bS=bR[bU][bJ],bT="";bH+=9158;break;case 26426:var bU=0;bH+=-3097;break;case 20250:bO[43]=_qdb("0x4a4"),bH+=27090;break;case 2560:bP=![],bH+=60407;break;case 62496:bO[9]=_qdb("0x136"),bO[11]=_qdb("0x98"),bH+=-9933;break;case 48344:bO[21]=_qdb("0x3d1"),bO[0]=_qdb("0x5c6"),bO[14]=_qdb("0x5ed"),bH+=-1973;break;case 40014:bQ%=10,bH+=-25856;break;case 55445:bO[4]=_qdb("0xed"),bO[8]=_qdb("0x578"),bH+=2368;break;case 40734:bO[20]=_qdb("0x7f"),bH+=-32717;break;case 53824:bO[11]=_qdb("0x37a"),bO[2]=_qdb("0x2f1"),bH+=1876;break;case 53868:bO[10]=_qdb("0x14a"),bO[14]=_qdb("0x6d"),bH+=-15135;break;case 47433:bR[55]=[],bH+=-38196;break;case 34585:bT+=bI,bH+=-4005;break;case 13136:bO[16]=_qdb("0x55d"),bH+=35693;break;case 42354:bQ+=9,bH+=-11129;break;case 63979:bO[12]=_qdb("0x41c"),bO[2]=_qdb("0x11a"),bH+=-43792;break;case 37049:bO[35]=_qdb("0x4e8"),bO[11]=_qdb("0x376"),bH+=17718}else u=self[_qdb("0x301")][_qdb("0x245")]}function aT(){if(_qdb("0x4df")===_qdb("0x4df"))return a9[_qdb("0x43c")];str+=String[_qdb("0x50")](u0)}function aU(e){_qdb("0x46e")===_qdb("0x396")?w[_qdb("0x528")](objkey)&&(objkey=objkey[_qdb("0x2ed")]()):aI(_qdb("0x565"))}function aV(e){_qdb("0x446")===_qdb("0x29f")?T(![],_qdb("0x32")+chr+" ("+String[_qdb("0x50")](chr)+_qdb("0x146")+i+_qdb("0x408")):aU(e)}function aY(t){if(_qdb("0x1b9")===_qdb("0x1b9")){for(var i=[],a=0;a<t[_qdb("0x43c")];a++)if(_qdb("0x2b6")!==_qdb("0x2b6"))h=w,a=$,n=e;else{var r=t[a];if(r>255){if(_qdb("0x4da")===_qdb("0x118"))return aY(bi);if(aX){if(_qdb("0xfa")===_qdb("0x467"))throw k[_qdb("0x5d6")]&&k[_qdb("0x5d6")](what),what+="",A(what),B(what),R=!![],S=1,what=_qdb("0x309")+what+_qdb("0x54a"),what;T(![],_qdb("0x32")+r+" ("+String[_qdb("0x50")](r)+_qdb("0x146")+a+_qdb("0x408"))}r&=255}i[_qdb("0x60f")](String[_qdb("0x50")](r))}return i[_qdb("0x115")]("")}p+=13531}function b0(e){if(_qdb("0x72")!==_qdb("0x495"))try{if(_qdb("0x269")!==_qdb("0x49a")){for(var t=aZ(e),i=new Uint8Array(t[_qdb("0x43c")]),a=0;a<t[_qdb("0x43c")];++a)if(_qdb("0x1e")!==_qdb("0x53"))i[a]=t[_qdb("0x3a2")](a);else for(var n=0;n<args[_qdb("0x43c")];n++){var r=toC[argTypes[n]];r?(0===stack&&(stack=bh()),cArgs[n]=r(args[n])):cArgs[n]=args[n]}return i}am[_qdb("0x524")](cb)}catch(r){if(_qdb("0x508")!==_qdb("0x508")){var o=b1(url);if(o)return aY(o);throw B}throw new Error(_qdb("0x94"))}else ja=pa+8|0,Ha=ja,Ia=0|b2[ja>>2]}function b1(e){if(_qdb("0x50b")!==_qdb("0x90")){if(!aL(e)){if(_qdb("0x41e")===_qdb("0x41e"))return;n-=4,x=y}return b0(e[_qdb("0x39")](aK[_qdb("0x43c")]))}k=0|b2[_+8>>2],b2[k+12>>2]=h,b2[h+8>>2]=k,aa=h}function bo(e){this[_qdb("0x56b")]=_qdb("0x5eb"),this[_qdb("0x246")]=_qdb("0x52a")+e+")",this[_qdb("0xe4")]=e}function bp(e){function t(){bn||(bn=!![],k[_qdb("0x1fb")]=!![],R||(at(),au(),k[_qdb("0x3b5")]&&k[_qdb("0x3b5")](),aw()))}e=e||n,aD>0||(as(),aD>0||(k[_qdb("0xc9")]?(k[_qdb("0xc9")](_qdb("0x3bc")),setTimeout(function(){setTimeout(function(){k[_qdb("0xc9")]("")},1),t()},1)):t()))}var d=function(e){if(_qdb("0x5f")!==_qdb("0xf5")){for(var t in e){if(_qdb("0x3df")===_qdb("0x58")){var i=bf(arr[_qdb("0x43c")]);return a5(arr,i),i}if(e[_qdb("0x528")](t))return![]}return!![]}X=M,Y=N},e=function(bq){if(_qdb("0x124")===_qdb("0x124"))return eval(bq);v=Z+f|0,b2[_+4>>2]=3|v,i=_+v+4|0,b2[i>>2]=1|b2[i>>2]},f=null,g=function(e){if(_qdb("0x61a")!==_qdb("0xdb")){if(!f){if(_qdb("0x31b")!==_qdb("0x27f"))return _qdb("0x200");bj(bl[_qdb("0x4a0")])}var t="",i=f(e);return i&&(_qdb("0x484")===_qdb("0x484")?(t=a0(i),ba(i)):p+=-14127),t}b2[3]=k|h,ga=v+8|0,ha=v},h=function(){if(_qdb("0x30")===_qdb("0x30")){var e={};e[_qdb("0x2c5")]=2,e.tm=(new Date)[_qdb("0x369")]();var t=window;if(typeof t[_qdb("0x4f3")]===_qdb("0x558"))_qdb("0x43f")===_qdb("0x43f")?e[_qdb("0x1bb")]="u":aJ=v(aJ);else{if(_qdb("0xc2")!==_qdb("0xc2"))return 0;e[_qdb("0x1bb")]=_qdb("0x384")===escape(t[_qdb("0x4f3")][_qdb("0x22b")][_qdb("0x5d5")]())?"a":"i"}e[_qdb("0x456")]=0;for(var i in t)if(_qdb("0x117")===_qdb("0x167")){if(bn)return;if(bn=!![],k[_qdb("0x1fb")]=!![],R)return;at(),au(),k[_qdb("0x3b5")]&&k[_qdb("0x3b5")](),aw()}else if(t[_qdb("0x528")](i)){if(_qdb("0x35c")!==_qdb("0x35c"))return _qdb("0x200");i=i[_qdb("0x2ed")]()}return e}va=f,wa=fa},i=function(){if(_qdb("0x1f3")!==_qdb("0x10c")){var e=h();return e.tm=parseInt(e.tm/1e3),e}ax(k[_qdb("0x486")][_qdb("0xac")]())};if(exports[_qdb("0x54f")]=g,exports[_qdb("0x584")]=h,exports[_qdb("0x255")]=i,typeof ArrayBuffer!==_qdb("0x558")){var j={};j[_qdb("0x579")]=32768;var k=j,k=typeof k!==_qdb("0x558")?k:{},l={},m;for(m in k)_qdb("0x66")!==_qdb("0x4ea")?k[_qdb("0x528")](m)&&(_qdb("0x1a3")!==_qdb("0x570")?l[m]=k[m]:(k=h+e|0,b2[n+4>>2]=3|k,f=n+k+4|0,b2[f>>2]=1|b2[f>>2])):(L=k,M=0,N=0,O=61);var n=[],o=_qdb("0x1c1"),p=function(e,t){if(_qdb("0x5d0")!==_qdb("0x5d0"))return Y[_qdb("0x431")](u8Array[_qdb("0x148")](idx,endPtr));throw t},q=!![],r=![],s=![],t=![],u="",w,x,y,z;if(q||r)if(_qdb("0x5e3")===_qdb("0x407"))w=v,x=u;else{if(r)if(_qdb("0x56")!==_qdb("0x56")){var bu=array[i];bu>255&&(aX&&T(![],_qdb("0x32")+bu+" ("+String[_qdb("0x50")](bu)+_qdb("0x146")+i+_qdb("0x408")),bu&=255),ret[_qdb("0x60f")](String[_qdb("0x50")](bu))}else u=self[_qdb("0x301")][_qdb("0x245")];else document[_qdb("0x272")]&&(_qdb("0x2de")===_qdb("0x2de")?u=document[_qdb("0x272")][_qdb("0x2c6")]:(da=g,ea=k));if(0!==u[_qdb("0xbc")](_qdb("0x212")))if(_qdb("0x2c3")!==_qdb("0x2c3")){if(k[_qdb("0x2d9")])for(typeof k[_qdb("0x2d9")]==_qdb("0x45f")&&(k[_qdb("0x2d9")]=[k[_qdb("0x2d9")]]);k[_qdb("0x2d9")][_qdb("0x43c")];)ay(k[_qdb("0x2d9")][_qdb("0xac")]());al(ap)}else u=u[_qdb("0x36")](0,u[_qdb("0x39a")]("/")+1);else _qdb("0x385")!==_qdb("0x47f")?u="":d=i("fs");_qdb("0x444")!==_qdb("0x5cb")?(w=function(e){if(_qdb("0xf1")!==_qdb("0xf1"))return func;try{if(_qdb("0x459")===_qdb("0x459")){var t=new XMLHttpRequest;return t[_qdb("0x222")](_qdb("0x86"),e,![]),t[_qdb("0x485")](null),t[_qdb("0x2f8")]}p+=6201}catch(t){if(_qdb("0x37e")===_qdb("0x37e")){var a=b1(e);if(a){if(_qdb("0x421")===_qdb("0x421"))return aY(a);enc1=keyStr[_qdb("0xbc")](input[_qdb("0x2e6")](i++)),enc2=keyStr[_qdb("0xbc")](input[_qdb("0x2e6")](i++)),enc3=keyStr[_qdb("0xbc")](input[_qdb("0x2e6")](i++)),enc4=keyStr[_qdb("0xbc")](input[_qdb("0x2e6")](i++)),chr1=enc1<<2|enc2>>4,chr2=(15&enc2)<<4|enc3>>2,chr3=(3&enc3)<<6|enc4,output+=String[_qdb("0x50")](chr1),64!==enc3&&(output+=String[_qdb("0x50")](chr2)),64!==enc4&&(output+=String[_qdb("0x50")](chr3))}throw t}ga=0|b2[la+8>>2],b2[ga+12>>2]=aa,b2[aa+8>>2]=ga,ua=aa}},r&&(_qdb("0x141")!==_qdb("0x141")?(F[_qdb("0x3f7")]||(F[_qdb("0x3f7")]={}),F[_qdb("0x3f7")][text]||(F[_qdb("0x3f7")][text]=1,B(text))):y=function(e){if(_qdb("0x26d")!==_qdb("0x43"))try{if(_qdb("0x123")!==_qdb("0x2ca")){var t=new XMLHttpRequest;return t[_qdb("0x222")](_qdb("0x86"),e,![]),t[_qdb("0x1ce")]=_qdb("0x150"),t[_qdb("0x485")](null),new Uint8Array(t[_qdb("0x382")])}for(typeof k[_qdb("0x2d9")]==_qdb("0x45f")&&(k[_qdb("0x2d9")]=[k[_qdb("0x2d9")]]);k[_qdb("0x2d9")][_qdb("0x43c")];)ay(k[_qdb("0x2d9")][_qdb("0xac")]())}catch(t){if(_qdb("0x23f")!==_qdb("0x204")){var i=b1(e);if(i)return _qdb("0x15b")===_qdb("0x15b")?i:(console[_qdb("0x22a")](_qdb("0x58b")+request[_qdb("0xe4")]+_qdb("0x1d4")+aJ),void bk());throw t}p+=-1598}else p+=-19290}),x=function(e,t,i){if(_qdb("0x1ff")===_qdb("0x40"))return returnType===_qdb("0x295")?a0(ret):returnType===_qdb("0x2c0")?Boolean(ret):ret;var a=new XMLHttpRequest;a[_qdb("0x222")](_qdb("0x86"),e,!![]),a[_qdb("0x1ce")]=_qdb("0x150"),a[_qdb("0x46b")]=function(){if(_qdb("0x1a")!==_qdb("0x1a"))p+=20666;else{if(200==a[_qdb("0xe4")]||0==a[_qdb("0xe4")]&&a[_qdb("0x382")])return _qdb("0x5ab")===_qdb("0x5ab")?void t(a[_qdb("0x382")]):(j|=0,b2|=0,(0|(b4|=0))<32?(o(b2<<b4|(j&(1<<b4)-1<<32-b4)>>>32-b4|0),j<<b4):(o(j<<b4-32|0),0));var n=b1(e);if(n){if(_qdb("0x59d")!==_qdb("0x37"))return void t(n[_qdb("0x4a0")]);b2[b4>>2]=h,b4=b4+4|0}i()}},a[_qdb("0x29")]=i,a[_qdb("0x485")](null)}):(n=0|b2[8],h=m>>>3,k=52+(h<<1<<2)|0,i=1<<h,p&i?(i=k+8|0,q=i,r=0|b2[i>>2]):(b2[3]=p|i,q=k+8|0,r=k),b2[q>>2]=n,b2[r+12>>2]=n,b2[n+8>>2]=r,b2[n+12>>2]=k),z=function(e){if(_qdb("0x102")!==_qdb("0x102")){if(!f)return _qdb("0x200");var t="",i=f(urlpara);return i&&(t=a0(i),ba(i)),t}document[_qdb("0x42e")]=e}}var A=k[_qdb("0x562")]||console[_qdb("0x37b")][_qdb("0x20a")](console),B=k[_qdb("0x4aa")]||console[_qdb("0x22a")][_qdb("0x20a")](console);for(m in l){if(_qdb("0x2ef")!==_qdb("0x2ef"))return;l[_qdb("0x528")](m)&&(_qdb("0x132")!==_qdb("0x71")?k[m]=l[m]:p+=-19343)}l=null,k[_qdb("0x201")]&&(n=k[_qdb("0x201")]),k[_qdb("0x491")]&&(o=k[_qdb("0x491")]),k[_qdb("0x188")]&&(p=k[_qdb("0x188")]);var C=16,G=1,H=new Array(0),I={},K=0,L=function(e){_qdb("0x26a")===_qdb("0x26a")?K=e:p+=-28368},M=function(){if(_qdb("0x1fa")!==_qdb("0x2c9"))return K;p+=40880},N=8,O;k[_qdb("0xf4")]&&(O=k[_qdb("0xf4")]);var P;k[_qdb("0x5f0")]&&(P=k[_qdb("0x5f0")]);var R=![],S=0,X=3,Y=typeof TextDecoder!==_qdb("0x558")?new TextDecoder(_qdb("0x5fc")):void 0,a4=typeof TextDecoder!==_qdb("0x558")?new TextDecoder(_qdb("0x5a9")):void 0,a7,a8,a9,aa,ab,ac,ad,ae,af,ah=720,ai=6864,aj=528,ak=k[_qdb("0x579")]||16777216;k[_qdb("0x4a0")]?_qdb("0xa")!==_qdb("0xa")?p+=20048:a7=k[_qdb("0x4a0")]:a7=_qdb("0x37d")===_qdb("0x53c")?k[_qdb("0x4a0")]:new ArrayBuffer(ak),ak=a7[_qdb("0x3a3")],ag(a7),ac[aj>>2]=ai;var am=[],an=[],ao=[],ap=[],aq=![],ar=![];Math[_qdb("0x7")]&&-5===Math[_qdb("0x7")](4294967295,5)||(Math[_qdb("0x7")]=function(e,t){if(_qdb("0x398")!==_qdb("0x152")){var i=e>>>16,a=65535&e,n=t>>>16,r=65535&t;return a*r+(i*r+a*n<<16)|0}U=s,V=P}),Math[_qdb("0x509")]||(Math[_qdb("0x509")]=function(e){if(_qdb("0x555")!==_qdb("0x555")){var t=0;if(null!==str&&void 0!==str&&0!==str){var i=1+(str[_qdb("0x43c")]<<2);t=bf(i),a2(str,t,i)}return t}var a=32,n=e>>16;if(n&&(_qdb("0x3b2")!==_qdb("0x3b2")?ap[_qdb("0x524")](cb):(a-=16,e=n)),n=e>>8,n&&(_qdb("0x49c")===_qdb("0x49c")?(a-=8,e=n):(Z<<=1,ka=g)),n=e>>4,n&&(_qdb("0x3c8")===_qdb("0x3c8")?(a-=4,e=n):(aq=!![],al(an))),n=e>>2){if(_qdb("0x28e")===_qdb("0x352"))return oa=na-I|0,b2[6]=oa,na=0|b2[9],ra=na+I|0,b2[9]=ra,b2[ra+4>>2]=1|oa,b2[na+4>>2]=3|I,o=na+8|0,u=b4,0|o;a-=2,e=n}return n=e>>1,n?a-2:a-e}),Math[_qdb("0x559")]||(Math[_qdb("0x559")]=function(e){if(_qdb("0x2a5")===_qdb("0x2a5"))return e<0?Math[_qdb("0x614")](e):Math[_qdb("0x514")](e);var t=b1(k[_qdb("0x1dc")]);if(!t)return console[_qdb("0x22a")](_qdb("0x58b")+request[_qdb("0xe4")]+_qdb("0x1d4")+aJ),void bk();response=t[_qdb("0x4a0")]});var az=Math[_qdb("0x44c")],aA=Math[_qdb("0x614")],aB=Math[_qdb("0x514")],aC=Math[_qdb("0xb1")],aD=0,aE=null,aF=null;k[_qdb("0x608")]={},k[_qdb("0x33a")]={};var aJ=null,aK=_qdb("0x52f"),aM,aN,aO=704,aW=Uint8Array[_qdb("0x46")][_qdb("0x5d2")]?function(e,t,i){_qdb("0x499")===_qdb("0x206")?k[_qdb("0x528")](m)&&(l[m]=k[m]):a9[_qdb("0x5d2")](e,t,t+i)}:function(e,t,i){_qdb("0x507")===_qdb("0x507")?a9[_qdb("0x17a")](a9[_qdb("0x148")](t,t+i),e):p+=-26218},aX=![],aZ=typeof atob===_qdb("0x45f")?atob:function(e){if(_qdb("0x405")!==_qdb("0x151")){var t,i,a,n,r,o,d,u=_qdb("0x4f1"),l="",c=0;e=e[_qdb("0xf")](/[^A-Za-z0-9\+\/\=]/g,"");do{if(_qdb("0x2e7")!==_qdb("0x2e7"))p+=8466;else{if(n=u[_qdb("0xbc")](e[_qdb("0x2e6")](c++)),r=u[_qdb("0xbc")](e[_qdb("0x2e6")](c++)),o=u[_qdb("0xbc")](e[_qdb("0x2e6")](c++)),d=u[_qdb("0xbc")](e[_qdb("0x2e6")](c++)),t=n<<2|r>>4,i=(15&r)<<4|o>>2,a=(3&o)<<6|d,l+=String[_qdb("0x50")](t),64!==o){if(_qdb("0x236")===_qdb("0x4f7")){for(var f=aZ(s),_=new Uint8Array(f[_qdb("0x43c")]),b=0;b<f[_qdb("0x43c")];++b)_[b]=f[_qdb("0x3a2")](b);return _}l+=String[_qdb("0x50")](i)}if(64!==d){if(_qdb("0x280")!==_qdb("0x280")){var _=h();return _.tm=parseInt(_.tm/1e3),_}l+=String[_qdb("0x50")](a)}}}while(c<e[_qdb("0x43c")]);return l}a8[_qdb("0x17a")](array,a7)},b2={};b2[_qdb("0x452")]=Math,b2[_qdb("0x426")]=Int8Array,b2[_qdb("0x30e")]=Int32Array,b2[_qdb("0x36c")]=Uint8Array;var b3=b2,b4={};b4.a=aI,b4.b=L,b4.c=M,b4.d=aS,b4.e=aT,b4.f=aW,b4.g=aV,b4.h=aO;var b5=b4,b6=function(e,t,i){function a(e){if(_qdb("0x342")!==_qdb("0x433")){e|=0;var t=0;return t=R,R=R+e|0,R=R+15&-16,0|t}i=buf,k[_qdb("0x54e")]=a8=new Int8Array(buf),k[_qdb("0x1a2")]=aa=new Int16Array(buf),k[_qdb("0x4e5")]=ac=new Int32Array(buf),k[_qdb("0x19")]=a9=new Uint8Array(buf),k[_qdb("0x47")]=ab=new Uint16Array(buf),k[_qdb("0x581")]=ad=new Uint32Array(buf),k[_qdb("0x1db")]=ae=new Float32Array(buf),k[_qdb("0x518")]=af=new Float64Array(buf)}function n(){if(_qdb("0x1a8")!==_qdb("0xe9"))return 0|R;x(aJ,bj,function(){throw _qdb("0x2eb")+aJ})}function r(e){_qdb("0x9e")!==_qdb("0x566")?(e|=0,R=e):(ba=L,o=S)}function o(e){e|=0;var t=0,a=0,n=0,r=0,o=0,s=0,f=0,h=0,b=0,g=0,x=0,S=0,I=0,D=0,q=0,O=0,L=0,M=0,C=0,F=0,H=0,j=0,Q=0,Y=0,z=0,G=0,W=0,X=0,J=0,$=0,ee=0,te=0,ie=0,ae=0,ne=0,re=0,oe=0,se=0,de=0,ue=0,le=0,ce=0,fe=0,_e=0,he=0,pe=0,be=0,ge=0,ve=0,me=0,ye=0,xe=0,ke=0,we=0,Se=0,Te=0,Ae=0,Ie=0,Ee=0,Pe=0,De=0,qe=0,Oe=0,Re=0,Le=0,Me=0,Ce=0,Fe=0,Ne=0,Ve=0,Ue=0,Be=0,He=0,je=0,Qe=0,Ye=0,ze=0,Ge=0,We=0,Ke=0,Xe=0,Ze=0,Je=0,$e=0,et=0,tt=0,it=0,at=0,nt=0,rt=0,ot=0,st=0,dt=0,ut=0,lt=0,ct=0,ft=0,_t=0,ht=0,pt=0,bt=0,gt=0,vt=0,mt=0,yt=0,xt=0,kt=0,wt=0,St=0,Tt=0,At=0,It=0,Et=0,Pt=0,Dt=0,qt=0,Ot=0,Rt=0,Lt=0,Mt=0,Ct=0,Ft=0,Nt=0,Vt=0,Ut=0,Bt=0,Ht=0,jt=0,Qt=0,Yt=0,zt=0,Gt=0,Wt=0,Kt=0,Xt=0,Zt=0,Jt=0,$t=0,ei=0,ti=0;t=R,R=R+608|0,a=t+48|0,n=t+592|0,r=t+588|0,o=t+584|0,s=t+580|0,f=t+576|0,h=t+572|0,b=t+568|0,g=t+564|0,x=t+560|0,S=t,I=S+4|0,D=S+8|0,q=S+12|0,O=S+16|0,L=S+20|0,M=S+24|0,C=S+28|0,F=S+32|0,H=a+8|0,j=a+16|0,Q=a+24|0,Y=a+32|0,z=a+40|0,G=a+48|0,W=a+56|0,X=a+64|0,J=a+72|0,$=a+80|0,ee=a+88|0,te=a+96|0,ie=a+104|0,ae=a+112|0,ne=a+120|0,re=a+128|0,oe=a+136|0,se=a+144|0,de=a+152|0,ue=a+160|0,le=a+168|0,ce=a+176|0,fe=a+184|0,_e=a+192|0,he=a+200|0,pe=a+208|0,be=a+216|0,ge=a+224|0,ve=a+232|0,me=a+240|0,ye=a+248|0,xe=a+256|0,ke=a+264|0,we=a+272|0,Se=a+280|0,Te=a+288|0,Ae=a+296|0,Ie=a+304|0,Ee=a+312|0,Pe=a+320|0,De=a+328|0,qe=a+336|0,Oe=a+344|0,Re=a+352|0,Le=a+360|0,Me=a+368|0,Ce=a+376|0,Fe=a+384|0,Ne=a+392|0,Ve=a+400|0,Ue=a+408|0,Be=a+416|0,He=a+424|0,je=a+432|0,Qe=a+440|0,Ye=a+448|0,ze=a+456|0,Ge=a+464|0,We=a+472|0,Ke=a+480|0,Xe=a+488|0,Ze=a+496|0,Je=a+504|0,$e=0,et=140,tt=0,it=0,at=0,nt=0,rt=0,ot=0,st=0,dt=0,ut=0,lt=0,ct=0,ft=0,_t=0,ht=0,pt=0,bt=0,gt=0,vt=0,mt=0,yt=0,xt=0,kt=0,wt=0;e:for(;;){switch((255&et)<<24>>24){case 35:if(_qdb("0x460")!==_qdb("0x4e9"))break e;E+=-17900;case 124:if(_qdb("0x25")!==_qdb("0x4f8")){St=0,Tt=140;break e}I=O+1048320|0,F=I>>>16&8,I=O<<F,O=I+520192|0,d=O>>>16&4,O=I<<d,I=O+245760|0,G=I>>>16&2,I=O<<G,O=14-(d|F|G)+(I>>>15)|0,I=O+7|0,z=1&(I?n>>>I:n)|O<<1;case 112:if(_qdb("0x1e3")===_qdb("0x1e3")){At=0|d(yt<<2),It=At,Et=108,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=At;break}Ae=Te,Ie=Ee?Pe:De,$=145;case 111:if(_qdb("0x36a")!==_qdb("0x3bd")){At=(nt|~ot)^rt,Jt=lt+-1|0,It=$e,Et=109,Pt=tt,Dt=Jt>>2,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=At,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=(At+(-2&at)&-2|1&at)+(1&At)|0,Kt=dt+((7*ut|0)%16|0)|0,Xt=kt,Zt=wt;break}k[_qdb("0xc9")](_qdb("0x3bc")),setTimeout(function(){setTimeout(function(){k[_qdb("0xc9")]("")},1),doRun()},1);case 109:if(_qdb("0xa3")===_qdb("0xa3")){At=lt+32|0,It=$e,Et=(0|xt)>(At>>2|0)?85:107,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=4077;case 108:if(_qdb("0x25a")!==_qdb("0x96")){It=$e,Et=(0|dt)<(0|yt)?104:102,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=44703;case 107:if(_qdb("0x107")===_qdb("0x107")){It=$e,Et=(0|xt)>(0|it)?105:99,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}doRun();case 105:if(_qdb("0x3e8")!==_qdb("0x2e5")){It=$e,Et=(0|pt)>0?103:101,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=-17019;case 104:if(_qdb("0x182")!==_qdb("0x182")){var ii,ai,ni,ri,oi,si,di,ui=_qdb("0x4f1"),li="",ci=0;input=input[_qdb("0xf")](/[^A-Za-z0-9\+\/\=]/g,"");do{ri=ui[_qdb("0xbc")](input[_qdb("0x2e6")](ci++)),oi=ui[_qdb("0xbc")](input[_qdb("0x2e6")](ci++)),si=ui[_qdb("0xbc")](input[_qdb("0x2e6")](ci++)),di=ui[_qdb("0xbc")](input[_qdb("0x2e6")](ci++)),ii=ri<<2|oi>>4,ai=(15&oi)<<4|si>>2,ni=(3&si)<<6|di,li+=String[_qdb("0x50")](ii),64!==si&&(li+=String[_qdb("0x50")](ai)),64!==di&&(li+=String[_qdb("0x50")](ni))}while(ci<input[_qdb("0x43c")]);return li}w[wt+(dt<<2)>>2]=0,It=$e,Et=108,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt+1|0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 103:if(_qdb("0x2e")===_qdb("0x2e")){It=$e,Et=75,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S+(xt-it<<2)>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=28758;case 102:if(_qdb("0x41b")!==_qdb("0x42f")){It=$e,Et=98,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=-16370;case 101:if(_qdb("0x2d7")!==_qdb("0xd0")){It=$e,Et=75,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S+(xt+-1-it<<2)>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=46067;case 99:if(_qdb("0x360")!==_qdb("0xab")){It=$e,Et=(0|xt)==(0|it)?97:91,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}aI();case 98:if(_qdb("0x567")===_qdb("0x567")){It=$e,Et=(0|dt)<(0|lt)?94:92,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}return 4;case 97:if(_qdb("0x3f3")!==_qdb("0x2fd")){It=$e,Et=(0|pt)>0?95:91,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=-20214;case 95:if(_qdb("0x5b8")!==_qdb("0x24c")){It=$e,Et=75,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}a9[_qdb("0x5d2")](dest,src,src+num);case 94:if(_qdb("0x44b")===_qdb("0x44b")){At=wt+(dt>>2<<2)|0,w[At>>2]=v[e+dt>>0]<<(((0|dt)%4|0)<<3)|w[At>>2],It=$e,Et=98,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt+1|0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}ie=W,ae=de,ne=ue,$=65;case 92:if(_qdb("0x53e")!==_qdb("0x5b2")){w[n>>2]=0,w[r>>2]=0,w[o>>2]=0,w[s>>2]=0,w[f>>2]=0,At=lt+32|0,Jt=wt+(At>>2<<2)|0,w[Jt>>2]=w[Jt>>2]|128<<(((0|At)%4|0)<<3),w[h>>2]=0,w[b>>2]=0,w[g>>2]=0,w[x>>2]=0,w[S>>2]=n,w[I>>2]=h,w[D>>2]=r,w[q>>2]=b,w[O>>2]=o,w[L>>2]=g,w[M>>2]=s,w[C>>2]=x,w[F>>2]=f,It=$e,Et=90,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=(0|lt)%4|0,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}func(void 0===callback[_qdb("0x5cf")]?null:callback[_qdb("0x5cf")]);case 91:if(_qdb("0x1bc")===_qdb("0x1bc")){It=$e,Et=(0|xt)>(it+1|0)?89:87,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}fi|=0,w|=0,e|=0,t|=0;var fi=0;return fi=fi+e>>>0,0|(x(w+t+(fi>>>0<fi>>>0|0)>>>0|0),0|fi);case 90:if(_qdb("0x31e")===_qdb("0x31e")){It=$e,Et=(0|pt)>0?88:78,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=-13213;case 89:if(_qdb("0x140")!==_qdb("0x114")){It=$e,Et=75,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=5741;case 88:if(_qdb("0xfd")!==_qdb("0x2f4")){It=$e,Et=84,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=lt-pt|0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}output+=String[_qdb("0x50")](chr3);case 87:if(_qdb("0x38d")!==_qdb("0x38d")){argTypes=argTypes||[];var _i=argTypes[_qdb("0x465")](function(e){return e===_qdb("0x3fe")}),hi=returnType!==_qdb("0x295");return hi&&_i&&!opts?U(ident):function(){return V(ident,returnType,argTypes,arguments,opts)}}It=$e,Et=75,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[wt+(xt<<2)>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 85:if(_qdb("0x34e")!==_qdb("0x506")){At=lt+40|0,It=$e,Et=(0|xt)==(14|At>>6<<4)?83:81,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}v=b+8|0,j=v,_=0|w[v>>2];case 84:if(_qdb("0x516")===_qdb("0x516")){It=$e,Et=(0|dt)<(0|lt)?80:78,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}w[3]=e|v,j=b+8|0,_=b;case 83:if(_qdb("0x285")===_qdb("0x285")){It=$e,Et=75,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=256+(lt<<3)|0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}if(k[_qdb("0x486")])for(typeof k[_qdb("0x486")]==_qdb("0x45f")&&(k[_qdb("0x486")]=[k[_qdb("0x486")]]);k[_qdb("0x486")][_qdb("0x43c")];)ax(k[_qdb("0x486")][_qdb("0xac")]());al(am);case 81:if(_qdb("0x4fe")!==_qdb("0x4f0")){It=$e,Et=(0|xt)>(it+1|0)?79:77,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}v[e>>0]=t,e=e+1|0;case 80:if(_qdb("0x46c")===_qdb("0x46c")){At=0|w[S>>2],w[At>>2]=w[At>>2]|v[e+dt>>0]<<(((0|dt)%4|0)<<3),It=$e,Et=84,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt+1|0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=35796;case 79:if(_qdb("0x24")===_qdb("0x24")){It=$e,Et=75,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}document[_qdb("0x42e")]=title;case 78:if(_qdb("0x99")===_qdb("0x99")){It=$e,Et=74,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=0|P(),Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}return;case 77:if(_qdb("0x418")===_qdb("0x418")){It=$e,Et=75,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[wt+(xt<<2)>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}u=document[_qdb("0x272")][_qdb("0x2c6")];case 75:if(_qdb("0x335")===_qdb("0x5a5"))return V(ident,returnType,argTypes,arguments,opts);At=a+(ut<<3)|0,Jt=st>>1,$t=0|p(0|w[At>>2],0|w[At+4>>2],0|_(0|Jt,((0|Jt)<0)<<31>>31|0,1),0|E()),E(),Jt=(1&st)+$t|0,$t=(Jt+(-2&yt)&-2|1&yt)+(1&Jt)|0,At=(0|ut)%4|0,ei=6+(At<<2)+((0|A(At+-1|0,At))/2|0)|0,At=32-ei|0,ti=$t<<ei|(At?$t>>>At:$t),It=$e,Et=115,Pt=tt,Dt=$t,qt=ot,Ot=(ti+(-2&nt)&-2|1&nt)+(1&ti)|0,Rt=nt,Lt=rt,Mt=ti,Ct=dt,Ft=ut+1|0,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=ei,Gt=mt,Wt=yt,Kt=Jt,Xt=kt,Zt=wt;break;case 74:if(_qdb("0xb3")!==_qdb("0x2a")){It=$e,Et=(0|dt)<8?70:40,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}k[_qdb("0x582")][_qdb("0xd6")](_qdb("0x10e"),bm);case 73:if(_qdb("0x1ed")!==_qdb("0xe")){It=$e,Et=36,Pt=tt,Dt=it,qt=((-2&ct)+at&-2|1&ct)+(1&at)|0,Ot=((-2&ft)+nt&-2|1&ft)+(1&nt)|0,Rt=((-2&_t)+rt&-2|1&_t)+(1&rt)|0,Lt=((-2&ht)+ot&-2|1&ht)+(1&ot)|0,Mt=st,Ct=dt+16|0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}v|=0,R=v;case 71:if(_qdb("0x3c0")!==_qdb("0x3c0")){var pi=new XMLHttpRequest;return pi[_qdb("0x222")](_qdb("0x86"),url,![]),pi[_qdb("0x485")](null),pi[_qdb("0x2f8")]}c($e),It=$e,Et=67,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=0,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=0|d(33),Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 70:if(_qdb("0x18a")!==_qdb("0x1f6")){It=$e,Et=66,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=0,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}v[e>>0]=t,e=e+1|0;case 67:if(_qdb("0x3f")!==_qdb("0x3f"))return a1(str,a9,outPtr,maxBytesToWrite);It=$e,Et=(0|ut)<32?63:37,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 66:if(_qdb("0x57c")!==_qdb("0xfe")){It=$e,Et=(0|ut)<4?62:42,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}bytes[s]=decoded[_qdb("0x3a2")](s);case 63:if(_qdb("0x563")===_qdb("0x563")){It=$e,Et=61,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=(0|ut)/8|0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=27468;case 62:if(_qdb("0x4a7")!==_qdb("0x4a7"))return void(w[5]=S);Jt=dt+1|0,ei=ut+1|0,It=$e,Et=58,Pt=0,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=72871+(359*ei|0)+(0|A(29+(661*ei|0)|0,Jt))+(0|A(919+(797*vt|0)+(0|A(881*ei|0,ei))+(0|A((8353*ei|0)+(277*Jt|0)|0,Jt))|0,vt))|0,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 61:if(_qdb("0xc5")!==_qdb("0x598")){It=$e,Et=0==(0|dt)?59:57,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}k[_qdb("0x378")](aD);case 59:if(_qdb("0x104")===_qdb("0x104")){It=$e,Et=47,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=at,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}le=we+Y|0,w[8]=le,w[5]=ke,w[le+4>>2]=1|ke,w[we+ce>>2]=ke,w[we+4>>2]=3|Y;case 58:if(_qdb("0x52c")!==_qdb("0x2a1")){It=$e,Et=(0|tt)<16?54:52,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}w[g+12>>2]=f,w[h>>2]=g;case 57:if(_qdb("0x2c8")===_qdb("0x2c8")){It=$e,Et=1==(0|dt)?55:53,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=31318;case 55:if(_qdb("0x2bf")!==_qdb("0x3a4")){It=$e,Et=47,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=nt,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}De=0,$=143;case 54:if(_qdb("0x260")!==_qdb("0x1d1")){Jt=1519533197+(0|A(mt,-1946432927))|0,It=$e,Et=58,Pt=tt+1|0,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=Jt>>>16&1023,zt=vt,Gt=Jt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=33668;case 53:if(_qdb("0x329")!==_qdb("0x59b")){It=$e,Et=2==(0|dt)?51:49,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}return R=t,0|St;case-90:if(_qdb("0x39e")!==_qdb("0x22f")){It=$e,Et=156,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}h=0|w[o+8>>2],w[h+12>>2]=f,w[f+8>>2]=h,S=f;case 52:if(_qdb("0x36e")===_qdb("0x36e")){It=$e,Et=50,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=31&gt,Xt=kt,Zt=wt;break}Le=ge,Me=me;case 51:if(_qdb("0x586")!==_qdb("0x28c")){It=$e,Et=47,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=rt,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}w[3]=q|r,Q=I+8|0,p=I;case-92:if(_qdb("0x261")===_qdb("0x44"))return 528;It=$e,Et=(0|xt)>(it+1|0)?163:162,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 50:if(_qdb("0x11d")!==_qdb("0x5b3")){It=$e,Et=(0|xt)<10?48:46,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}s=h+8|0,P=s,S=0|w[s>>2];case-93:if(_qdb("0x589")===_qdb("0x589")){It=$e,Et=156,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}w[Re+16>>2]=r,w[r+24>>2]=Re;case 49:if(_qdb("0x391")!==_qdb("0x218")){It=$e,Et=47,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=ot,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}o=q+8|0,me=o,ye=0|w[o>>2];case-94:if(_qdb("0x5d1")!==_qdb("0x5b7")){It=$e,Et=156,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[wt+(xt<<2)>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=-12778;case 48:if(_qdb("0x337")===_qdb("0x337")){It=$e,Et=44,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt+32|0,Xt=kt,Zt=wt;break}k[_qdb("0x5f7")](func,callback[_qdb("0x5cf")]);case-95:if(_qdb("0x3a9")===_qdb("0x3a9")){Jt=lt+40|0,It=$e,Et=(0|xt)==(14|Jt>>6<<4)?160:159,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}ke=Ee+1048320|0,ce=ke>>>16&8,ke=Ee<<ce,Ee=ke+520192|0,le=Ee>>>16&4,Ee=ke<<le,ke=Ee+245760|0,xe=ke>>>16&2,ke=Ee<<xe,Ee=14-(le|ce|xe)+(ke>>>15)|0,ke=Ee+7|0,We=1&(ke?t>>>ke:t)|Ee<<1;case 47:if(_qdb("0x4bb")===_qdb("0x4bb")){Jt=ut<<2&28^4,It=$e,Et=45,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=15&(Jt?st>>Jt:st),Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}v[e>>0]=0|v[t>>0],v[e+1>>0]=0|v[t+1>>0],v[e+2>>0]=0|v[t+2>>0],v[e+3>>0]=0|v[t+3>>0],e=e+4|0,t=t+4|0;case-96:if(_qdb("0x166")!==_qdb("0x60d")){It=$e,Et=156,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=256+(lt<<3)|0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=9333;case 46:if(_qdb("0x556")!==_qdb("0x4ec")){It=$e,Et=44,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt+72|0,Xt=kt,Zt=wt;break}E+=-4086;case-97:if(_qdb("0xe8")===_qdb("0xe8")){It=$e,Et=(0|xt)>(it+1|0)?158:157,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}for(var bi=0;bi<str[_qdb("0x43c")];++bi)a8[i++>>0]=str[_qdb("0x3a2")](bi);dontAddNull||(a8[i>>0]=0);case 45:if(_qdb("0x13c")===_qdb("0x13c")){It=$e,Et=(0|st)<10?43:41,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}C=a,F=t;case-98:if(_qdb("0x157")===_qdb("0x157")){It=$e,Et=156,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}u0=(7&u0)<<18|u1<<12|u2<<6|63&u8Array[idx++];case 44:if(_qdb("0x5e6")===_qdb("0x5e6")){Jt=ut+pt|0,ei=Jt+(dt<<2)|0,ti=0|w[S+(ei>>2<<2)>>2],w[ti>>2]=w[ti>>2]|xt+16<<(((0|Jt)%4|0)<<3),It=$e,Et=66,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut+1|0,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}w[M+20>>2]=s,w[s+24>>2]=M;case-99:if(_qdb("0x334")!==_qdb("0xdd")){It=$e,Et=156,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[wt+(xt<<2)>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}ay(k[_qdb("0x2d9")][_qdb("0xac")]());case 43:if(_qdb("0x1cc")===_qdb("0x1cc")){It=$e,Et=39,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st+48|0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}k[_qdb("0xc9")]("");case-100:if(_qdb("0x339")!==_qdb("0x5")){Jt=a+(ut<<3)|0,ti=st>>1,ei=0|p(0|w[Jt>>2],0|w[Jt+4>>2],0|_(0|ti,((0|ti)<0)<<31>>31|0,1),0|E()),E(),ti=(1&st)+ei|0,ei=(ti+(-2&yt)&-2|1&yt)+(1&ti)|0,Jt=(0|ut)%4|0,$t=5+(Jt<<2)+((0|A(Jt+-1|0,Jt))/2|0)|0,Jt=32-$t|0,At=ei<<$t|(Jt?ei>>>Jt:ei),It=$e,Et=9,Pt=tt,Dt=ei,qt=ot,Ot=(At+(-2&nt)&-2|1&nt)+(1&At)|0,Rt=nt,Lt=rt,Mt=At,Ct=dt,Ft=ut+1|0,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=$t,Gt=mt,Wt=yt,Kt=ti,Xt=kt,Zt=wt;break}try{var gi=new XMLHttpRequest;return gi[_qdb("0x222")](_qdb("0x86"),url,![]),gi[_qdb("0x485")](null),gi[_qdb("0x2f8")]}catch(e){var vi=b1(url);if(vi)return aY(vi);throw e}case 42:if(_qdb("0x82")!==_qdb("0x34")){It=$e,Et=74,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt+1|0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}aU(requestedSize);case 41:if(_qdb("0x4cd")===_qdb("0x4cd")){It=$e,Et=39,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st+87|0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}throw new Error(_qdb("0x94"));case-102:if(_qdb("0x466")!==_qdb("0x430")){It=$e,Et=(0|ut)<48?152:115,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}w[S+20>>2]=h,w[h+24>>2]=S,b=o,A=o,g=s;case 40:if(_qdb("0x12d")!==_qdb("0x532")){ti=(dt<<2)+pt|0,$t=0|w[S+(ti>>2<<2)>>2],w[$t>>2]=w[$t>>2]|128<<(((0|pt)%4|0)<<3),It=$e,Et=36,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}It=$e,Et=et,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;case 39:if(_qdb("0x1f9")!==_qdb("0xd4")){v[bt+ut>>0]=st,It=$e,Et=67,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut+1|0,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}return ptr?Z(a9,ptr,maxBytesToRead):"";case-104:if(_qdb("0x5fd")===_qdb("0x5fd")){$t=rt^nt^ot,ti=lt+-1|0,It=$e,Et=151,Pt=tt,Dt=ti>>2,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=$t,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=($t+(-2&at)&-2|1&at)+(1&$t)|0,Kt=dt+((5+(3*ut|0)|0)%16|0)|0,Xt=kt,Zt=wt;break}return x=0,R=e,0|x;case-105:if(_qdb("0x17c")===_qdb("0x17c")){$t=lt+32|0,It=$e,Et=(0|xt)>($t>>2|0)?137:150,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}c=d,_=F;case 37:if(_qdb("0x288")===_qdb("0xb6")){var mi=k["_"+ident];return T(mi,_qdb("0x29a")+ident+_qdb("0xfb")),mi}v[bt+32>>0]=0,It=$e,Et=35,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case-106:if(_qdb("0x3c2")===_qdb("0x3c2")){It=$e,Et=(0|xt)>(0|it)?149:146,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=22655;case 36:if(_qdb("0x181")!==_qdb("0x161")){$t=lt+40|0,It=$e,Et=(0|dt)<(14|$t>>6<<4)?33:71,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}q<<=1,r=h;case-107:if(_qdb("0x425")===_qdb("0x425")){It=$e,Et=(0|pt)>0?148:147,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}b=e,A=e,g=v;case-108:if(_qdb("0x5e4")!==_qdb("0x478")){It=$e,Et=127,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S+(xt-it<<2)>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}return k[_qdb("0x23a")+sig][_qdb("0x3cd")](null,[ptr][_qdb("0x3c3")](args));case-109:if(_qdb("0xb")===_qdb("0xb")){It=$e,Et=127,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S+(xt+-1-it<<2)>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}be=ee,ge=A;case 33:if(_qdb("0x251")!==_qdb("0x2cd")){It=$e,Et=31,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=0,Nt=lt,Vt=at,Ut=nt,Bt=rt,Ht=ot,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}u="";case-110:if(_qdb("0xf7")!==_qdb("0x38f")){It=$e,Et=(0|xt)==(0|it)?145:142,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}var yi=toC[argTypes[s]];yi?(0===stack&&(stack=bh()),cArgs[s]=yi(args[s])):cArgs[s]=args[s];case-111:if(_qdb("0x3ac")===_qdb("0x3ac")){It=$e,Et=(0|pt)>0?144:142,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}for(var xi=0,ki=0;ki<str[_qdb("0x43c")];++ki){var wi=str[_qdb("0x3a2")](ki);wi>=55296&&wi<=57343&&(wi=65536+((1023&wi)<<10)|1023&str[_qdb("0x3a2")](++ki)),wi<=127?++xi:xi+=wi<=2047?2:wi<=65535?3:4}return xi;case 31:if(_qdb("0x27e")===_qdb("0x27e")){It=$e,Et=(0|ut)<16?29:9,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}v[_qdb("0x1bb")]=_qdb("0x384")===escape(O[_qdb("0x4f3")][_qdb("0x22b")][_qdb("0x5d5")]())?"a":"i";case-112:if(_qdb("0x1a1")!==_qdb("0x3d")){It=$e,Et=127,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}setTimeout(function(){k[_qdb("0xc9")]("")},1),doRun();case 29:if(_qdb("0x4db")===_qdb("0x4db")){$t=ot&~nt|rt&nt,ti=lt+-1|0,It=$e,Et=28,Pt=tt,Dt=ti>>2,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=$t,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=($t+(-2&at)&-2|1&at)+(1&$t)|0,Kt=dt+((0|ut)%16|0)|0,Xt=kt,Zt=wt;break}Ee<<=1,ke=ce;case-114:if(_qdb("0x142")!==_qdb("0x142"))return 0|R;It=$e,Et=(0|xt)>(it+1|0)?141:139,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 28:if(_qdb("0x4dd")===_qdb("0x4dd")){$t=lt+32|0,It=$e,Et=(0|xt)>($t>>2|0)?16:27,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=32905;case-115:if(_qdb("0x5a2")===_qdb("0x5a2")){It=$e,Et=127,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=-17666;case 27:if(_qdb("0x406")===_qdb("0x406")){It=$e,Et=(0|xt)>(0|it)?26:23,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}Ee=me,Pe=ve,$=136;case-116:if(_qdb("0x193")!==_qdb("0x193"))return void onload(xhr[_qdb("0x382")]);$t=a,w[$t>>2]=-680876936,w[$t+4>>2]=-1,$t=H,w[$t>>2]=-389564586,w[$t+4>>2]=-1,$t=j,w[$t>>2]=606105819,w[$t+4>>2]=0,$t=Q,w[$t>>2]=-1044525330,w[$t+4>>2]=-1,$t=Y,w[$t>>2]=-176418897,w[$t+4>>2]=-1,$t=z,w[$t>>2]=1200080426,w[$t+4>>2]=0,$t=G,w[$t>>2]=-1473231341,w[$t+4>>2]=-1,$t=W,w[$t>>2]=-45705983,w[$t+4>>2]=-1,$t=X,w[$t>>2]=1770035416,w[$t+4>>2]=0,$t=J,w[$t>>2]=-1958414417,w[$t+4>>2]=-1,$t=$,w[$t>>2]=-42063,w[$t+4>>2]=-1,$t=ee,w[$t>>2]=-1990404162,w[$t+4>>2]=-1,$t=te,w[$t>>2]=1804603682,w[$t+4>>2]=0,$t=ie,w[$t>>2]=-40341101,w[$t+4>>2]=-1,$t=ae,w[$t>>2]=-1502002290,w[$t+4>>2]=-1,$t=ne,w[$t>>2]=1236535329,w[$t+4>>2]=0,$t=re,w[$t>>2]=-165796510,w[$t+4>>2]=-1,$t=oe,w[$t>>2]=-1069501632,w[$t+4>>2]=-1,$t=se,w[$t>>2]=643717713,w[$t+4>>2]=0,$t=de,w[$t>>2]=-373897302,w[$t+4>>2]=-1,$t=ue,w[$t>>2]=-701558691,w[$t+4>>2]=-1,$t=le,w[$t>>2]=38016083,w[$t+4>>2]=0,$t=ce,w[$t>>2]=-660478335,w[$t+4>>2]=-1,$t=fe,w[$t>>2]=-405537848,w[$t+4>>2]=-1,$t=_e,w[$t>>2]=568446438,w[$t+4>>2]=0,$t=he,w[$t>>2]=-1019803690,w[$t+4>>2]=-1,$t=pe,w[$t>>2]=-187363961,w[$t+4>>2]=-1,$t=be,w[$t>>2]=1163531501,w[$t+4>>2]=0,$t=ge,w[$t>>2]=-1444681467,w[$t+4>>2]=-1,$t=ve,w[$t>>2]=-51403784,w[$t+4>>2]=-1,$t=me,w[$t>>2]=1735328473,w[$t+4>>2]=0,$t=ye,w[$t>>2]=-1926607734,w[$t+4>>2]=-1,$t=xe,w[$t>>2]=-378558,w[$t+4>>2]=-1,$t=ke,w[$t>>2]=-2022574463,w[$t+4>>2]=-1,$t=we,w[$t>>2]=1839030562,w[$t+4>>2]=0,$t=Se,w[$t>>2]=-35309556,w[$t+4>>2]=-1,$t=Te,w[$t>>2]=-1530992060,w[$t+4>>2]=-1,$t=Ae,w[$t>>2]=1272893353,w[$t+4>>2]=0,$t=Ie,w[$t>>2]=-155497632,w[$t+4>>2]=-1,$t=Ee,w[$t>>2]=-1094730640,w[$t+4>>2]=-1,$t=Pe,w[$t>>2]=681279174,w[$t+4>>2]=0,$t=De,w[$t>>2]=-358537222,w[$t+4>>2]=-1,$t=qe,w[$t>>2]=-722521979,w[$t+4>>2]=-1,$t=Oe,w[$t>>2]=76029189,w[$t+4>>2]=0,$t=Re,w[$t>>2]=-640364487,w[$t+4>>2]=-1,$t=Le,w[$t>>2]=-421815835,w[$t+4>>2]=-1,$t=Me,w[$t>>2]=530742520,w[$t+4>>2]=0,$t=Ce,w[$t>>2]=-995338651,w[$t+4>>2]=-1,$t=Fe,w[$t>>2]=-198630844,w[$t+4>>2]=-1,$t=Ne,w[$t>>2]=1126891415,w[$t+4>>2]=0,$t=Ve,w[$t>>2]=-1416354905,w[$t+4>>2]=-1,$t=Ue,w[$t>>2]=-57434055,w[$t+4>>2]=-1,$t=Be,w[$t>>2]=1700485571,w[$t+4>>2]=0,$t=He,w[$t>>2]=-1894986606,w[$t+4>>2]=-1,$t=je,w[$t>>2]=-1051523,w[$t+4>>2]=-1,$t=Qe,w[$t>>2]=-2054922799,w[$t+4>>2]=-1,$t=Ye,w[$t>>2]=1873313359,w[$t+4>>2]=0,$t=ze,w[$t>>2]=-30611744,w[$t+4>>2]=-1,$t=Ge,w[$t>>2]=-1560198380,w[$t+4>>2]=-1,$t=We,w[$t>>2]=1309151649,w[$t+4>>2]=0,$t=Ke,w[$t>>2]=-145523070,w[$t+4>>2]=-1,$t=Xe,w[$t>>2]=-1120210379,w[$t+4>>2]=-1,$t=Ze,w[$t>>2]=718787259,w[$t+4>>2]=0,$t=Je,w[$t>>2]=-343485551,w[$t+4>>2]=-1,It=$e,Et=136,Pt=tt,Dt=0,qt=1732584193,Ot=-271733879,Rt=-1732584194,Lt=271733878;Mt=1732584193,Ct=0,Ft=0,Nt=0,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=1,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 26:if(_qdb("0x13d")!==_qdb("0x3b1")){It=$e,Et=(0|pt)>0?25:24,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}output+=String[_qdb("0x50")](chr2);case-117:if(_qdb("0x517")===_qdb("0x517")){It=$e,Et=127,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[wt+(xt<<2)>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}he=r,pe=h;case 25:if(_qdb("0x445")!==_qdb("0x6")){It=$e,Et=11,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S+(xt-it<<2)>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}s=r&~(1<<f),w[3]=s,E=s;case 24:if(_qdb("0x1f2")===_qdb("0x1f2")){It=$e,Et=11,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S+(xt+-1-it<<2)>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}K=value;case-119:if(_qdb("0x356")===_qdb("0x356")){$t=lt+40|0,It=$e,Et=(0|xt)==(14|$t>>6<<4)?135:133,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}0===stack&&(stack=bh()),cArgs[s]=converter(args[s]);case 23:if(_qdb("0x547")===_qdb("0x547")){It=$e,Et=(0|xt)==(0|it)?22:19,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}w[M+16>>2]=s,w[s+24>>2]=M;case-120:if(_qdb("0x4cb")!==_qdb("0x345")){It=$e,Et=134,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt+1|0,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=dt,Zt=wt;break}E+=40069;case 22:if(_qdb("0x540")!==_qdb("0x605")){It=$e,Et=(0|pt)>0?21:19,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}this[_qdb("0x56b")]=_qdb("0x5eb"),this[_qdb("0x246")]=_qdb("0x52a")+status+")",this[_qdb("0xe4")]=status;case-121:if(_qdb("0x576")===_qdb("0x4cf")){var Si=b1(url);if(Si)return Si;throw B}It=$e,Et=127,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=256+(lt<<3)|0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 21:if(_qdb("0x249")===_qdb("0x249")){It=$e,Et=11,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}throw toThrow;case-122:if(_qdb("0x493")===_qdb("0x194")){for(var Ti=[],Ai=0;Ai<array[_qdb("0x43c")];Ai++){var Ii=array[Ai];Ii>255&&(aX&&T(![],_qdb("0x32")+Ii+" ("+String[_qdb("0x50")](Ii)+_qdb("0x146")+Ai+_qdb("0x408")),Ii&=255),Ti[_qdb("0x60f")](String[_qdb("0x50")](Ii))}return Ti[_qdb("0x115")]("")}It=$e,Et=0==(0|v[e+kt>>0])?128:130,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case-123:if(_qdb("0x3e")!==_qdb("0x243")){It=$e,Et=(0|xt)>(it+1|0)?131:129,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}Ce=ge,Fe=me;case 19:if(_qdb("0x292")===_qdb("0x312"))return type===_qdb("0x3fe");It=$e,Et=(0|xt)>(it+1|0)?18:17,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 18:if(_qdb("0x4fc")===_qdb("0x4fc")){It=$e,Et=11,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}if(200==xhr[_qdb("0xe4")]||0==xhr[_qdb("0xe4")]&&xhr[_qdb("0x382")])return void onload(xhr[_qdb("0x382")]);var Ei=b1(url);if(Ei)return void onload(Ei[_qdb("0x4a0")]);onerror();case-125:if(_qdb("0x3ec")===_qdb("0x3ec")){It=$e,Et=127,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}var Pi=ac[aj>>2],Di=Pi+size+15&-16;return Di>aT()&&aI(),ac[aj>>2]=Di,Pi;case 17:if(_qdb("0x394")===_qdb("0x394")){It=$e,Et=11,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[wt+(xt<<2)>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}if(obj[_qdb("0x528")](prop))return![];case-126:if(_qdb("0x611")===_qdb("0x611")){It=$e,Et=136,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt+1|0,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=-7597;case 16:if(_qdb("0x92")===_qdb("0x92")){$t=lt+40|0,It=$e,Et=(0|xt)==(14|$t>>6<<4)?15:14,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=62503;case-127:if(_qdb("0x121")!==_qdb("0x56f")){It=$e,Et=127,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[wt+(xt<<2)>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}var qi=y(aJ);a9[_qdb("0x17a")](qi,N);case 15:if(_qdb("0xd8")!==_qdb("0x41d")){It=$e,Et=11,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=256+(lt<<3)|0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}return x=0,R=e,0|x;case-128:if(_qdb("0x19e")===_qdb("0x19e")){It=$e,Et=126,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=lt>>2,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}l[m]=k[m];case 14:if(_qdb("0x303")!==_qdb("0x3a7")){It=$e,Et=(0|xt)>(it+1|0)?13:12,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=-17253;case 127:if(_qdb("0x14c")!==_qdb("0x14c"))return w[(0|H())>>2]=48,0|(n=-1);$t=a+(ut<<3)|0,ti=st>>1,At=0|p(0|w[$t>>2],0|w[$t+4>>2],0|_(0|ti,((0|ti)<0)<<31>>31|0,1),0|E()),E(),ti=(1&st)+At|0,It=$e,Et=125,Pt=tt,Dt=(ti+(-2&yt)&-2|1&yt)+(1&ti)|0,qt=ot,Ot=nt,Rt=nt,Lt=rt,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=ti,Xt=kt,Zt=wt;break;case 13:if(_qdb("0x380")!==_qdb("0x4e2")){It=$e,Et=11,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break}E+=33580;case 126:It=$e,Et=(0|lt)<6?124:122,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 12:It=$e,Et=11,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[wt+(xt<<2)>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 125:It=$e,Et=(0|(0|ut)%4)<2?123:121,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 11:ti=a+(ut<<3)|0,At=st>>1,$t=0|p(0|w[ti>>2],0|w[ti+4>>2],0|_(0|At,((0|At)<0)<<31>>31|0,1),0|E()),E(),At=(1&st)+$t|0,$t=(At+(-2&yt)&-2|1&yt)+(1&At)|0,ti=5*((0|ut)%4|0)|0,ei=ti+7|0,Jt=25-ti|0,ti=$t<<ei|(Jt?$t>>>Jt:$t),It=$e,Et=31,Pt=tt,Dt=$t,qt=ot,Ot=(ti+(-2&nt)&-2|1&nt)+(1&ti)|0,Rt=nt,Lt=rt,Mt=ti,Ct=dt,Ft=ut+1|0,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=ei,Gt=mt,Wt=yt,Kt=At,Xt=kt,Zt=wt;break;case 123:It=$e,Et=119,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=4,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 9:It=$e,Et=(0|ut)<32?7:154,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 122:It=$e,Et=120,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=pt+1|0,Kt=xt,Xt=kt,Zt=wt;break;case 121:It=$e,Et=119,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=2,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 7:At=ot&nt|rt&~ot,ei=lt+-1|0,It=$e,Et=6,Pt=tt,Dt=ei>>2,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=At,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=(At+(-2&at)&-2|1&at)+(1&At)|0,Kt=dt+((1+(5*ut|0)|0)%16|0)|0,Xt=kt,Zt=wt;break;case 120:It=$e,Et=(0|yt)<33?118:116,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 6:At=lt+32|0,It=$e,Et=(0|xt)>(At>>2|0)?161:5,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 119:At=(7*((0|ut)%4|0)|0)+vt|0,ei=32-At|0,ti=(ei?it>>>ei:it)|it<<At,It=$e,Et=154,Pt=tt,Dt=it,qt=at,Ot=(ti+(-2&rt)&-2|1&rt)+(1&ti)|0,Rt=rt,Lt=ot,Mt=ti,Ct=dt,Ft=ut+1|0,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=At,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 5:It=$e,Et=(0|xt)>(0|it)?4:1,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 118:It=$e,Et=116,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=33,Kt=xt,Xt=kt,Zt=wt;break;case 4:It=$e,Et=(0|pt)>0?3:2,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 3:It=$e,Et=156,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S+(xt-it<<2)>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 116:At=lt+32|0,It=$e,Et=(0|yt)>(8+(At>>2)|0)?112:114,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 2:It=$e,Et=156,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=0|w[w[S+(xt+-1-it<<2)>>2]>>2],Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 115:It=$e,Et=(0|ut)<64?111:73,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 1:It=$e,Et=(0|xt)==(0|it)?0:164,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;case 114:At=lt+32|0,It=$e,Et=112,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=8+(At>>2)|0,Kt=xt,Xt=kt,Zt=wt;break;case 0:It=$e,Et=(0|pt)>0?166:164,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt;break;default:It=$e,Et=et,Pt=tt,Dt=it,qt=at,Ot=nt,Rt=rt,Lt=ot,Mt=st,Ct=dt,Ft=ut,Nt=lt,Vt=ct,Ut=ft,Bt=_t,Ht=ht,jt=pt,Qt=bt,Yt=gt,zt=vt,Gt=mt,Wt=yt,Kt=xt,Xt=kt,Zt=wt}$e=It,et=Et,tt=Pt,it=Dt,at=qt,nt=Ot,rt=Rt,ot=Lt,st=Mt,dt=Ct,ut=Ft,lt=Nt,ct=Vt,ft=Ut,_t=Bt,ht=Ht,pt=jt,bt=Qt,gt=Yt,vt=zt,mt=Gt,yt=Wt,xt=Kt,kt=Xt,wt=Zt}return 140==(0|Tt)?(R=t,0|St):(St=bt,R=t,0|St)}function s(){return 8}function d(e){e|=0;var t=0,i=0,a=0,n=0,r=0,o=0,d=0,u=0,l=0,c=0,_=0,h=0,p=0,b=0,g=0,v=0,m=0,y=0,x=0,k=0,S=0,T=0,A=0,I=0,E=0,P=0,D=0,q=0,O=0,L=0,M=0,C=0,F=0,N=0,V=0,U=0,B=0,H=0,j=0,Q=0,Y=0,z=0,G=0,W=0,K=0,X=0,Z=0,J=0,$=0,ee=0,te=0,ie=0,ae=0,ne=0,re=0,oe=0,se=0,de=0,ue=0,le=0,ce=0,fe=0,_e=0,he=0,pe=0,be=0,ge=0,ve=0,me=0,ye=0,xe=0,ke=0,we=0,Se=0,Te=0,Ae=0,Ie=0,Ee=0,Pe=0,De=0,qe=0,Oe=0,Re=0,Le=0,Me=0,Ce=0,Fe=0;t=R,R=R+16|0,i=t;do{if(e>>>0<245){if(a=e>>>0<11?16:e+11&-8,n=a>>>3,r=0|w[3],3&(o=n?r>>>n:r)|0)return d=(1&o^1)+n|0,u=52+(d<<1<<2)|0,l=u+8|0,c=0|w[l>>2],_=c+8|0,h=0|w[_>>2],(0|h)==(0|u)?w[3]=r&~(1<<d):(w[h+12>>2]=u,w[l>>2]=h),h=d<<3,w[c+4>>2]=3|h,d=c+h+4|0,w[d>>2]=1|w[d>>2],p=_,R=t,0|p;if(_=0|w[5],a>>>0>_>>>0){if(0|o)return d=2<<n,h=o<<n&(d|0-d),d=(h&0-h)-1|0,h=d>>>12&16,n=h?d>>>h:d,d=n>>>5&8,o=d?n>>>d:n,n=o>>>2&4,c=n?o>>>n:o,o=c>>>1&2,l=o?c>>>o:c,c=l>>>1&1,u=(d|h|n|o|c)+(c?l>>>c:l)|0,l=52+(u<<1<<2)|0,c=l+8|0,o=0|w[c>>2],n=o+8|0,h=0|w[n>>2],(0|h)==(0|l)?(d=r&~(1<<u),w[3]=d,b=d):(w[h+12>>2]=l,w[c>>2]=h,b=r),h=u<<3,u=h-a|0,w[o+4>>2]=3|a,c=o+a|0,w[c+4>>2]=1|u,w[o+h>>2]=u,0|_&&(h=0|w[8],o=_>>>3,l=52+(o<<1<<2)|0,d=1<<o,b&d?(d=l+8|0,g=d,v=0|w[d>>2]):(w[3]=b|d,g=l+8|0,v=l),w[g>>2]=h,w[v+12>>2]=h,w[h+8>>2]=v,w[h+12>>2]=l),w[5]=u,w[8]=c,p=n,R=t,0|p;if(n=0|w[4]){for(c=(n&0-n)-1|0,u=c>>>12&16,l=u?c>>>u:c,c=l>>>5&8,h=c?l>>>c:l,l=h>>>2&4,d=l?h>>>l:h,h=d>>>1&2,o=h?d>>>h:d,d=o>>>1&1,m=0|w[316+((c|u|l|h|d)+(d?o>>>d:o)<<2)>>2],o=(-8&w[m+4>>2])-a|0,d=m,h=m;;){if(m=0|w[d+16>>2])y=m;else{if(!(l=0|w[d+20>>2]))break;y=l}m=(-8&w[y+4>>2])-a|0,l=m>>>0<o>>>0,o=l?m:o,d=y,h=l?y:h}if((d=h+a|0)>>>0>h>>>0){l=0|w[h+24>>2],m=0|w[h+12>>2];do{if((0|m)==(0|h)){if(u=h+20|0,c=0|w[u>>2])T=c,A=u;else{if(x=h+16|0,!(k=0|w[x>>2])){S=0;break}T=k,A=x}for(u=T,c=A;;){if(x=u+20|0,k=0|w[x>>2])P=k,D=x;else{if(I=u+16|0,!(E=0|w[I>>2]))break;P=E,D=I}u=P,c=D}w[c>>2]=0,S=u}else x=0|w[h+8>>2],w[x+12>>2]=m,w[m+8>>2]=x,S=m}while(0);do{if(0|l){if(m=0|w[h+28>>2],x=316+(m<<2)|0,(0|h)==(0|w[x>>2])){if(w[x>>2]=S,!S){w[4]=n&~(1<<m);break}}else if(m=l+16|0,w[((0|w[m>>2])==(0|h)?m:l+20|0)>>2]=S,!S)break;w[S+24>>2]=l,m=0|w[h+16>>2],0|m&&(w[S+16>>2]=m,w[m+24>>2]=S),m=0|w[h+20>>2],0|m&&(w[S+20>>2]=m,w[m+24>>2]=S)}}while(0);return o>>>0<16?(l=o+a|0,w[h+4>>2]=3|l,n=h+l+4|0,w[n>>2]=1|w[n>>2]):(w[h+4>>2]=3|a,w[d+4>>2]=1|o,w[d+o>>2]=o,0|_&&(n=0|w[8],l=_>>>3,m=52+(l<<1<<2)|0,x=1<<l,x&r?(x=m+8|0,q=x,O=0|w[x>>2]):(w[3]=x|r,q=m+8|0,O=m),w[q>>2]=n,w[O+12>>2]=n,w[n+8>>2]=O,w[n+12>>2]=m),w[5]=o,w[8]=d),p=h+8|0,R=t,0|p}L=a}else L=a}else L=a}else if(e>>>0<=4294967231)if(m=e+11|0,n=-8&m,x=0|w[4]){l=0-n|0,k=m>>>8,k?n>>>0>16777215?M=31:(m=k+1048320|0,I=m>>>16&8,m=k<<I,k=m+520192|0,E=k>>>16&4,k=m<<E,m=k+245760|0,C=m>>>16&2,m=k<<C,k=14-(E|I|C)+(m>>>15)|0,m=k+7|0,M=1&(m?n>>>m:n)|k<<1):M=0,k=0|w[316+(M<<2)>>2];e:do{if(k)for(m=l,C=0,I=n<<(31==(0|M)?0:25-(M>>>1)|0),E=k,B=0;;){if((H=(-8&w[E+4>>2])-n|0)>>>0<m>>>0){if(!H){j=0,Q=E,Y=E,U=65;break e}z=H,G=E}else z=m,G=B;if(H=0|w[E+20>>2],E=0|w[E+16+(I>>>31<<2)>>2],W=0==(0|H)|(0|H)==(0|E)?C:H,!E){F=z,N=W,V=G,U=61;break}m=z,C=W,I<<=1,B=G}else F=l,N=0,V=0,U=61}while(0);if(61==(0|U)){if(0==(0|N)&0==(0|V)){if(k=2<<M,!(l=(k|0-k)&x)){L=n;break}k=(l&0-l)-1|0,l=k>>>12&16,a=l?k>>>l:k,k=a>>>5&8,h=k?a>>>k:a,a=h>>>2&4,d=a?h>>>a:h,h=d>>>1&2,o=h?d>>>h:d,d=o>>>1&1,K=0|w[316+((k|l|a|h|d)+(d?o>>>d:o)<<2)>>2],X=0}else K=N,X=V;K?(j=F,Q=K,Y=X,U=65):(Z=F,J=X)}if(65==(0|U))for(o=j,d=Q,h=Y;;){if(a=(-8&w[d+4>>2])-n|0,l=a>>>0<o>>>0,k=l?a:o,a=l?d:h,l=0|w[d+16>>2],!($=l||0|w[d+20>>2])){Z=k,J=a;break}o=k,d=$,h=a}if((0!=(0|J)?Z>>>0<((0|w[5])-n|0)>>>0:0)?(h=J+n|0)>>>0>J>>>0:0){d=0|w[J+24>>2],o=0|w[J+12>>2];do{if((0|o)==(0|J)){if(a=J+20|0,k=0|w[a>>2])te=k,ie=a;else{if(l=J+16|0,!(r=0|w[l>>2])){ee=0;break}te=r,ie=l}for(a=te,k=ie;;){if(l=a+20|0,r=0|w[l>>2])ae=r,ne=l;else{if(_=a+16|0,!(B=0|w[_>>2]))break;ae=B,ne=_}a=ae,k=ne}w[k>>2]=0,ee=a}else l=0|w[J+8>>2],w[l+12>>2]=o,w[o+8>>2]=l,ee=o}while(0);do{if(d){if(o=0|w[J+28>>2],l=316+(o<<2)|0,(0|J)==(0|w[l>>2])){if(w[l>>2]=ee,!ee){l=x&~(1<<o),w[4]=l,re=l;break}}else if(l=d+16|0,w[((0|w[l>>2])==(0|J)?l:d+20|0)>>2]=ee,!ee){re=x;break}w[ee+24>>2]=d,l=0|w[J+16>>2],0|l&&(w[ee+16>>2]=l,w[l+24>>2]=ee),l=0|w[J+20>>2],l?(w[ee+20>>2]=l,w[l+24>>2]=ee,re=x):re=x}else re=x}while(0);e:do{if(Z>>>0<16)x=Z+n|0,w[J+4>>2]=3|x,d=J+x+4|0,w[d>>2]=1|w[d>>2];else{if(w[J+4>>2]=3|n,w[h+4>>2]=1|Z,w[h+Z>>2]=Z,d=Z>>>3,Z>>>0<256){x=52+(d<<1<<2)|0,l=0|w[3],o=1<<d,l&o?(o=x+8|0,oe=o,se=0|w[o>>2]):(w[3]=l|o,oe=x+8|0,se=x),w[oe>>2]=h,w[se+12>>2]=h,w[h+8>>2]=se,w[h+12>>2]=x;break}if(x=Z>>>8,x?Z>>>0>16777215?de=31:(o=x+1048320|0,l=o>>>16&8,o=x<<l,x=o+520192|0,d=x>>>16&4,x=o<<d,o=x+245760|0,r=o>>>16&2,o=x<<r,x=14-(d|l|r)+(o>>>15)|0,o=x+7|0,de=1&(o?Z>>>o:Z)|x<<1):de=0,x=316+(de<<2)|0,w[h+28>>2]=de,o=h+16|0,w[o+4>>2]=0,w[o>>2]=0,o=1<<de,!(re&o)){w[4]=re|o,w[x>>2]=h,w[h+24>>2]=x,w[h+12>>2]=h,w[h+8>>2]=h;break}o=0|w[x>>2];t:do{if((-8&w[o+4>>2]|0)!=(0|Z)){for(x=Z<<(31==(0|de)?0:25-(de>>>1)|0),r=o;;){if(le=r+16+(x>>>31<<2)|0,!(l=0|w[le>>2]))break;if((-8&w[l+4>>2]|0)==(0|Z)){ue=l;break t}x<<=1,r=l}w[le>>2]=h,w[h+24>>2]=r,w[h+12>>2]=h,w[h+8>>2]=h;break e}ue=o}while(0);o=ue+8|0,a=0|w[o>>2],w[a+12>>2]=h,w[o>>2]=h,w[h+8>>2]=a,w[h+12>>2]=ue,w[h+24>>2]=0}}while(0);return p=J+8|0,R=t,0|p}L=n}else L=n;else L=-1}while(0);if((J=0|w[5])>>>0>=L>>>0)return ue=J-L|0,le=0|w[8],ue>>>0>15?(Z=le+L|0,w[8]=Z,w[5]=ue,w[Z+4>>2]=1|ue,w[le+J>>2]=ue,w[le+4>>2]=3|L):(w[5]=0,w[8]=0,w[le+4>>2]=3|J,ue=le+J+4|0,w[ue>>2]=1|w[ue>>2]),p=le+8|0,R=t,0|p;if((le=0|w[6])>>>0>L>>>0)return ue=le-L|0,w[6]=ue,J=0|w[9],Z=J+L|0,w[9]=Z,w[Z+4>>2]=1|ue,w[J+4>>2]=3|L,p=J+8|0,R=t,0|p;if(0|w[121]?ce=0|w[123]:(w[123]=4096,w[122]=4096,w[124]=-1,w[125]=-1,w[126]=0,w[114]=0,w[121]=-16&i^1431655768,ce=4096),i=L+48|0,J=L+47|0,ue=ce+J|0,Z=0-ce|0,(ce=ue&Z)>>>0<=L>>>0)return p=0,R=t,0|p;if(de=0|w[113],0|de?(re=0|w[111],(se=re+ce|0)>>>0<=re>>>0|se>>>0>de>>>0):0)return p=0,R=t,0|p;e:do{if(4&w[114])ge=0,U=143;else{de=0|w[9];t:do{if(de){for(se=460;;){if(re=0|w[se>>2],re>>>0<=de>>>0?(re+(0|w[se+4>>2])|0)>>>0>de>>>0:0)break;if(!(re=0|w[se+8>>2])){U=128;break t}se=re}if((re=ue-le&Z)>>>0<2147483647)if((0|(oe=0|f(re)))==((0|w[se>>2])+(0|w[se+4>>2])|0)){if(-1!=(0|oe)){_e=oe,he=re,U=145;break e}fe=re}else pe=oe,be=re,U=136;else fe=0}else U=128}while(0);do{if(128==(0|U))if(de=0|f(0),-1!=(0|de)?(n=de,re=0|w[122],oe=re+-1|0,ee=(0==(oe&n|0)?0:(oe+n&0-re)-n|0)+ce|0,n=0|w[111],re=ee+n|0,ee>>>0>L>>>0&ee>>>0<2147483647):0){if(oe=0|w[113],0|oe?re>>>0<=n>>>0|re>>>0>oe>>>0:0){fe=0;break}if((0|(oe=0|f(ee)))==(0|de)){_e=de,he=ee,U=145;break e}pe=oe,be=ee,U=136}else fe=0}while(0);do{if(136==(0|U)){if(ee=0-be|0,!(i>>>0>be>>>0&be>>>0<2147483647&-1!=(0|pe))){if(-1==(0|pe)){fe=0;break}_e=pe,he=be,U=145;break e}if(oe=0|w[123],(de=J-be+oe&0-oe)>>>0>=2147483647){_e=pe,he=be,U=145;break e}if(-1==(0|f(de))){f(ee),fe=0;break}_e=pe,he=de+be|0,U=145;break e}}while(0);w[114]=4|w[114],ge=fe,U=143}}while(0);if(!(143==(0|U)?ce>>>0<2147483647:0)||(fe=0|f(ce),ce=0|f(0),be=ce-fe|0,pe=be>>>0>(L+40|0)>>>0,-1==(0|fe)|1^pe|fe>>>0<ce>>>0&-1!=(0|fe)&-1!=(0|ce)^1)||(_e=fe,he=pe?be:ge,U=145),145==(0|U)){ge=(0|w[111])+he|0,w[111]=ge,ge>>>0>(0|w[112])>>>0&&(w[112]=ge),ge=0|w[9];e:do{if(ge){for(be=460;;){if(ve=0|w[be>>2],me=0|w[be+4>>2],(0|_e)==(ve+me|0)){U=154;break}if(!(pe=0|w[be+8>>2]))break;be=pe}if((154==(0|U)?(pe=be+4|0,0==(8&w[be+12>>2]|0)):0)?_e>>>0>ge>>>0&ve>>>0<=ge>>>0:0){w[pe>>2]=me+he,pe=(0|w[6])+he|0,fe=ge+8|0,ce=0==(7&fe|0)?0:0-fe&7,fe=ge+ce|0,J=pe-ce|0,w[9]=fe,w[6]=J,w[fe+4>>2]=1|J,w[ge+pe+4>>2]=40,w[10]=w[125];break}for(_e>>>0<(0|w[7])>>>0&&(w[7]=_e),pe=_e+he|0,J=460;;){if((0|w[J>>2])==(0|pe)){U=162;break}if(!(fe=0|w[J+8>>2]))break;J=fe}if(162==(0|U)?0==(8&w[J+12>>2]|0):0){w[J>>2]=_e,be=J+4|0,w[be>>2]=(0|w[be>>2])+he,be=_e+8|0,fe=_e+(0==(7&be|0)?0:0-be&7)|0,be=pe+8|0,ce=pe+(0==(7&be|0)?0:0-be&7)|0,be=fe+L|0,i=ce-fe-L|0,w[fe+4>>2]=3|L;t:do{if((0|ge)==(0|ce))Z=(0|w[6])+i|0,w[6]=Z,w[9]=be,w[be+4>>2]=1|Z;else{if((0|w[8])==(0|ce)){Z=(0|w[5])+i|0,w[5]=Z,w[8]=be,w[be+4>>2]=1|Z,w[be+Z>>2]=Z;break}if(1==(3&(Z=0|w[ce+4>>2])|0)){le=-8&Z,ue=Z>>>3;i:do{if(Z>>>0<256){if(de=0|w[ce+8>>2],(0|(ee=0|w[ce+12>>2]))==(0|de)){w[3]=w[3]&~(1<<ue);break}w[de+12>>2]=ee,w[ee+8>>2]=de;break}de=0|w[ce+24>>2],ee=0|w[ce+12>>2];do{if((0|ee)==(0|ce)){if(oe=ce+16|0,re=oe+4|0,n=0|w[re>>2])xe=n,ke=re;else{if(!(ne=0|w[oe>>2])){ye=0;break}xe=ne,ke=oe}for(re=xe,n=ke;;){if(oe=re+20|0,ne=0|w[oe>>2])we=ne,Se=oe;else{if(ae=re+16|0,!(ie=0|w[ae>>2]))break;we=ie,Se=ae}re=we,n=Se}w[n>>2]=0,ye=re}else oe=0|w[ce+8>>2],w[oe+12>>2]=ee,w[ee+8>>2]=oe,ye=ee}while(0);if(!de)break;ee=0|w[ce+28>>2],r=316+(ee<<2)|0;do{if((0|w[r>>2])==(0|ce)){if(w[r>>2]=ye,0|ye)break;w[4]=w[4]&~(1<<ee);break i}if(oe=de+16|0,w[((0|w[oe>>2])==(0|ce)?oe:de+20|0)>>2]=ye,!ye)break i}while(0);if(w[ye+24>>2]=de,ee=ce+16|0,r=0|w[ee>>2],0|r&&(w[ye+16>>2]=r,w[r+24>>2]=ye),!(r=0|w[ee+4>>2]))break;w[ye+20>>2]=r,w[r+24>>2]=ye}while(0);Te=ce+le|0,Ae=le+i|0}else Te=ce,Ae=i;if(ue=Te+4|0,w[ue>>2]=-2&w[ue>>2],w[be+4>>2]=1|Ae,w[be+Ae>>2]=Ae,ue=Ae>>>3,Ae>>>0<256){Z=52+(ue<<1<<2)|0,se=0|w[3],r=1<<ue,se&r?(r=Z+8|0,Ie=r,Ee=0|w[r>>2]):(w[3]=se|r,Ie=Z+8|0,Ee=Z),w[Ie>>2]=be,w[Ee+12>>2]=be,w[be+8>>2]=Ee,w[be+12>>2]=Z;break}Z=Ae>>>8;do{if(Z){if(Ae>>>0>16777215){Pe=31;break}r=Z+1048320|0,se=r>>>16&8,r=Z<<se,ue=r+520192|0,ee=ue>>>16&4,ue=r<<ee,r=ue+245760|0,oe=r>>>16&2,r=ue<<oe,ue=14-(ee|se|oe)+(r>>>15)|0,r=ue+7|0,Pe=1&(r?Ae>>>r:Ae)|ue<<1}else Pe=0}while(0);if(Z=316+(Pe<<2)|0,w[be+28>>2]=Pe,le=be+16|0,w[le+4>>2]=0,w[le>>2]=0,le=0|w[4],ue=1<<Pe,!(le&ue)){w[4]=le|ue,w[Z>>2]=be,w[be+24>>2]=Z,w[be+12>>2]=be,w[be+8>>2]=be;break}ue=0|w[Z>>2];i:do{if((-8&w[ue+4>>2]|0)!=(0|Ae)){for(Z=Ae<<(31==(0|Pe)?0:25-(Pe>>>1)|0),le=ue;;){if(qe=le+16+(Z>>>31<<2)|0,!(r=0|w[qe>>2]))break;if((-8&w[r+4>>2]|0)==(0|Ae)){De=r;break i}Z<<=1,le=r}w[qe>>2]=be,w[be+24>>2]=le,w[be+12>>2]=be,w[be+8>>2]=be;break t}De=ue}while(0);ue=De+8|0,Z=0|w[ue>>2],w[Z+12>>2]=be,w[ue>>2]=be,w[be+8>>2]=Z,w[be+12>>2]=De,w[be+24>>2]=0}}while(0);return p=fe+8|0,R=t,0|p}for(be=460;;){if(i=0|w[be>>2],i>>>0<=ge>>>0?(Oe=i+(0|w[be+4>>2])|0)>>>0>ge>>>0:0)break;be=0|w[be+8>>2]}be=Oe+-47|0,fe=be+8|0,i=be+(0==(7&fe|0)?0:0-fe&7)|0,fe=ge+16|0,be=i>>>0<fe>>>0?ge:i,i=be+8|0,ce=he+-40|0,pe=_e+8|0,J=0==(7&pe|0)?0:0-pe&7,pe=_e+J|0,Z=ce-J|0,w[9]=pe,w[6]=Z,w[pe+4>>2]=1|Z,w[_e+ce+4>>2]=40,w[10]=w[125],ce=be+4|0,w[ce>>2]=27,w[i>>2]=w[115],w[i+4>>2]=w[116],w[i+8>>2]=w[117],w[i+12>>2]=w[118],w[115]=_e,w[116]=he,w[118]=0,w[117]=i,i=be+24|0;do{Z=i,i=i+4|0,w[i>>2]=7}while((Z+8|0)>>>0<Oe>>>0);if((0|be)!=(0|ge)){if(i=be-ge|0,w[ce>>2]=-2&w[ce>>2],w[ge+4>>2]=1|i,w[be>>2]=i,Z=i>>>3,i>>>0<256){pe=52+(Z<<1<<2)|0,J=0|w[3],ue=1<<Z,J&ue?(ue=pe+8|0,Re=ue,Le=0|w[ue>>2]):(w[3]=J|ue,Re=pe+8|0,Le=pe),w[Re>>2]=ge,w[Le+12>>2]=ge,w[ge+8>>2]=Le,w[ge+12>>2]=pe;break}if(pe=i>>>8,pe?i>>>0>16777215?Me=31:(ue=pe+1048320|0,J=ue>>>16&8,ue=pe<<J,pe=ue+520192|0,Z=pe>>>16&4,pe=ue<<Z,ue=pe+245760|0,de=ue>>>16&2,ue=pe<<de,pe=14-(Z|J|de)+(ue>>>15)|0,ue=pe+7|0,Me=1&(ue?i>>>ue:i)|pe<<1):Me=0,pe=316+(Me<<2)|0,w[ge+28>>2]=Me,w[ge+20>>2]=0,w[fe>>2]=0,ue=0|w[4],de=1<<Me,!(ue&de)){w[4]=ue|de,w[pe>>2]=ge,w[ge+24>>2]=pe,w[ge+12>>2]=ge,w[ge+8>>2]=ge;break}de=0|w[pe>>2];t:do{if((-8&w[de+4>>2]|0)!=(0|i)){for(pe=i<<(31==(0|Me)?0:25-(Me>>>1)|0),ue=de;;){if(Fe=ue+16+(pe>>>31<<2)|0,!(J=0|w[Fe>>2]))break;if((-8&w[J+4>>2]|0)==(0|i)){Ce=J;break t}pe<<=1,ue=J}w[Fe>>2]=ge,w[ge+24>>2]=ue,w[ge+12>>2]=ge,w[ge+8>>2]=ge;break e}Ce=de}while(0);i=Ce+8|0,de=0|w[i>>2],w[de+12>>2]=ge,w[i>>2]=ge,w[ge+8>>2]=de,w[ge+12>>2]=Ce,w[ge+24>>2]=0}}else de=0|w[7],0==(0|de)|_e>>>0<de>>>0&&(w[7]=_e),w[115]=_e,w[116]=he,w[118]=0,w[12]=w[121],w[11]=-1,w[16]=52,w[15]=52,w[18]=60,w[17]=60,w[20]=68,w[19]=68,w[22]=76,w[21]=76,w[24]=84,w[23]=84,w[26]=92,w[25]=92,w[28]=100,w[27]=100,w[30]=108,w[29]=108,w[32]=116,w[31]=116,w[34]=124,w[33]=124,w[36]=132,w[35]=132,w[38]=140,w[37]=140,w[40]=148,w[39]=148,w[42]=156,w[41]=156,w[44]=164,w[43]=164,w[46]=172,w[45]=172,w[48]=180,w[47]=180,w[50]=188,w[49]=188,w[52]=196,w[51]=196,w[54]=204,w[53]=204,w[56]=212,w[55]=212,w[58]=220,w[57]=220,w[60]=228,w[59]=228,w[62]=236,w[61]=236,w[64]=244,w[63]=244,w[66]=252,w[65]=252,w[68]=260,w[67]=260,w[70]=268,w[69]=268,w[72]=276,w[71]=276,w[74]=284,w[73]=284,w[76]=292,w[75]=292,w[78]=300,w[77]=300,de=he+-40|0,i=_e+8|0,fe=0==(7&i|0)?0:0-i&7,i=_e+fe|0,be=de-fe|0,w[9]=i,w[6]=be,w[i+4>>2]=1|be,w[_e+de+4>>2]=40,w[10]=w[125]}while(0);if((_e=0|w[6])>>>0>L>>>0)return he=_e-L|0,w[6]=he,_e=0|w[9],ge=_e+L|0,w[9]=ge,w[ge+4>>2]=1|he,w[_e+4>>2]=3|L,p=_e+8|0,R=t,0|p}return w[(0|s())>>2]=48,p=0,R=t,0|p}function c(e){e|=0;var t=0,i=0,a=0,n=0,r=0,o=0,s=0,d=0,u=0,l=0,c=0,f=0,_=0,h=0,p=0,b=0,g=0,v=0,m=0,y=0,x=0,k=0,S=0,T=0,A=0,I=0,E=0,P=0,D=0,q=0,O=0,R=0,L=0;if(e){t=e+-8|0,i=0|w[7],a=0|w[e+-4>>2],e=-8&a,n=t+e|0;do{if(1&a)l=t,c=t,f=e;else{if(r=0|w[t>>2],!(3&a))return;if(o=t+(0-r)|0,s=r+e|0,o>>>0<i>>>0)return;if((0|w[8])==(0|o)){if(d=n+4|0,3!=(3&(u=0|w[d>>2])|0)){l=o,c=o,f=s;break}return w[5]=s,w[d>>2]=-2&u,w[o+4>>2]=1|s,void(w[o+s>>2]=s)}if(u=r>>>3,r>>>0<256){if(r=0|w[o+8>>2],(0|(d=0|w[o+12>>2]))==(0|r)){w[3]=w[3]&~(1<<u),l=o,c=o,f=s;break}w[r+12>>2]=d,w[d+8>>2]=r,l=o,c=o,f=s;break}r=0|w[o+24>>2],d=0|w[o+12>>2];do{if((0|d)==(0|o)){if(u=o+16|0,_=u+4|0,h=0|w[_>>2])g=h,v=_;else{if(!(p=0|w[u>>2])){b=0;break}g=p,v=u}for(_=g,h=v;;){if(u=_+20|0,p=0|w[u>>2])x=p,k=u;else{if(m=_+16|0,!(y=0|w[m>>2]))break;x=y,k=m}_=x,h=k}w[h>>2]=0,b=_}else u=0|w[o+8>>2],w[u+12>>2]=d,w[d+8>>2]=u,b=d}while(0);if(r){if(d=0|w[o+28>>2],u=316+(d<<2)|0,(0|w[u>>2])==(0|o)){if(w[u>>2]=b,!b){w[4]=w[4]&~(1<<d),l=o,c=o,f=s;break}}else if(d=r+16|0,w[((0|w[d>>2])==(0|o)?d:r+20|0)>>2]=b,!b){l=o,c=o,f=s;break}w[b+24>>2]=r,d=o+16|0,u=0|w[d>>2],0|u&&(w[b+16>>2]=u,w[u+24>>2]=b),u=0|w[d+4>>2],u?(w[b+20>>2]=u,w[u+24>>2]=b,l=o,c=o,f=s):(l=o,c=o,f=s)}else l=o,c=o,f=s}}while(0);if(!(l>>>0>=n>>>0)&&(e=n+4|0,1&(t=0|w[e>>2]))){if(2&t)w[e>>2]=-2&t,w[c+4>>2]=1|f,w[l+f>>2]=f,P=f;else{if((0|w[9])==(0|n)){if(b=(0|w[6])+f|0,w[6]=b,w[9]=c,w[c+4>>2]=1|b,(0|c)!=(0|w[8]))return;return w[8]=0,void(w[5]=0)}if((0|w[8])==(0|n))return b=(0|w[5])+f|0,w[5]=b,w[8]=l,w[c+4>>2]=1|b,void(w[l+b>>2]=b);b=(-8&t)+f|0,k=t>>>3;do{if(t>>>0<256){if(x=0|w[n+8>>2],(0|(v=0|w[n+12>>2]))==(0|x)){w[3]=w[3]&~(1<<k);break}w[x+12>>2]=v,w[v+8>>2]=x;break}x=0|w[n+24>>2],v=0|w[n+12>>2];do{if((0|v)==(0|n)){if(g=n+16|0,i=g+4|0,a=0|w[i>>2])T=a,A=i;else{if(!(u=0|w[g>>2])){S=0;break}T=u,A=g}for(i=T,a=A;;){if(g=i+20|0,u=0|w[g>>2])I=u,E=g;else{if(d=i+16|0,!(p=0|w[d>>2]))break;I=p,E=d}i=I,a=E}w[a>>2]=0,S=i}else _=0|w[n+8>>2],w[_+12>>2]=v,w[v+8>>2]=_,S=v}while(0);if(0|x){if(v=0|w[n+28>>2],s=316+(v<<2)|0,(0|w[s>>2])==(0|n)){if(w[s>>2]=S,!S){w[4]=w[4]&~(1<<v);break}}else if(v=x+16|0,w[((0|w[v>>2])==(0|n)?v:x+20|0)>>2]=S,!S)break;w[S+24>>2]=x,v=n+16|0,s=0|w[v>>2],0|s&&(w[S+16>>2]=s,w[s+24>>2]=S),s=0|w[v+4>>2],0|s&&(w[S+20>>2]=s,w[s+24>>2]=S)}}while(0);if(w[c+4>>2]=1|b,w[l+b>>2]=b,(0|c)==(0|w[8]))return void(w[5]=b);P=b}if(f=P>>>3,P>>>0<256)return l=52+(f<<1<<2)|0,t=0|w[3],e=1<<f,t&e?(e=l+8|0,D=e,q=0|w[e>>2]):(w[3]=t|e,D=l+8|0,q=l),w[D>>2]=c,w[q+12>>2]=c,w[c+8>>2]=q,void(w[c+12>>2]=l);l=P>>>8,l?P>>>0>16777215?O=31:(q=l+1048320|0,D=q>>>16&8,q=l<<D,l=q+520192|0,e=l>>>16&4,l=q<<e,q=l+245760|0,t=q>>>16&2,q=l<<t,l=14-(e|D|t)+(q>>>15)|0,q=l+7|0,O=1&(q?P>>>q:P)|l<<1):O=0,l=316+(O<<2)|0,w[c+28>>2]=O,w[c+20>>2]=0,w[c+16>>2]=0,q=0|w[4],t=1<<O;e:do{if(q&t){D=0|w[l>>2];t:do{if((-8&w[D+4>>2]|0)!=(0|P)){for(e=P<<(31==(0|O)?0:25-(O>>>1)|0),f=D;;){if(L=f+16+(e>>>31<<2)|0,!(b=0|w[L>>2]))break;if((-8&w[b+4>>2]|0)==(0|P)){R=b;break t}e<<=1,f=b}w[L>>2]=c,w[c+24>>2]=f,w[c+12>>2]=c,w[c+8>>2]=c;break e}R=D}while(0);D=R+8|0,x=0|w[D>>2],w[x+12>>2]=c,w[D>>2]=c,w[c+8>>2]=x,w[c+12>>2]=R,w[c+24>>2]=0}else w[4]=q|t,w[l>>2]=c,w[c+24>>2]=l,w[c+12>>2]=c,w[c+8>>2]=c}while(0);if(c=(0|w[11])-1|0,w[11]=c,!(0|c)){for(c=468;;){if(!(R=0|w[c>>2]))break;c=R+8|0}w[11]=-1}}}}function f(e){e|=0;var t=0,i=0,a=0;return t=528,i=0|w[t>>2],a=i+(e+3&-4)|0,(a>>>0>(0|D())>>>0?0==(0|O(0|a)):0)?(w[(0|s())>>2]=48,0|-1):(w[t>>2]=a,0|i)}function _(e,t,i){return e|=0,t|=0,(0|(i|=0))<32?(I(t<<i|(e&(1<<i)-1<<32-i)>>>32-i|0),e<<i):(I(e<<i-32|0),0)}function h(){return 528}function p(e,t,i,a){e|=0,t|=0,i|=0,a|=0;var n=0;return n=e+i>>>0,0|(I(t+a+(n>>>0<e>>>0|0)>>>0|0),0|n)}function b(e,t,i){e|=0,t|=0,i|=0;var a=0,n=0,r=0;if((0|i)>=512)return q(0|e,0|t,0|i),0|e;if(a=0|e,n=e+i|0,(3&e)==(3&t)){for(;3&e;){if(!i)return 0|a;v[e>>0]=0|v[t>>0],e=e+1|0,t=t+1|0,i=i-1|0}for(r=-4&n|0,i=r-64|0;(0|e)<=(0|i);)w[e>>2]=w[t>>2],w[e+4>>2]=w[t+4>>2],w[e+8>>2]=w[t+8>>2],w[e+12>>2]=w[t+12>>2],w[e+16>>2]=w[t+16>>2],w[e+20>>2]=w[t+20>>2],w[e+24>>2]=w[t+24>>2],w[e+28>>2]=w[t+28>>2],w[e+32>>2]=w[t+32>>2],w[e+36>>2]=w[t+36>>2],w[e+40>>2]=w[t+40>>2],w[e+44>>2]=w[t+44>>2],w[e+48>>2]=w[t+48>>2],w[e+52>>2]=w[t+52>>2],w[e+56>>2]=w[t+56>>2],w[e+60>>2]=w[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|r);)w[e>>2]=w[t>>2],e=e+4|0,t=t+4|0}else for(r=n-4|0;(0|e)<(0|r);)v[e>>0]=0|v[t>>0],v[e+1>>0]=0|v[t+1>>0],v[e+2>>0]=0|v[t+2>>0],v[e+3>>0]=0|v[t+3>>0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|n);)v[e>>0]=0|v[t>>0],e=e+1|0,t=t+1|0;return 0|a}function g(e,t,i){e|=0,t|=0,i|=0;var a=0,n=0,r=0,o=0;if(a=e+i|0,t&=255,(0|i)>=67){for(;3&e;)v[e>>0]=t,e=e+1|0;for(n=-4&a|0,r=t|t<<8|t<<16|t<<24,o=n-64|0;(0|e)<=(0|o);)w[e>>2]=r,w[e+4>>2]=r,w[e+8>>2]=r,w[e+12>>2]=r,w[e+16>>2]=r,w[e+20>>2]=r,w[e+24>>2]=r,w[e+28>>2]=r,w[e+32>>2]=r,w[e+36>>2]=r,w[e+40>>2]=r,w[e+44>>2]=r,w[e+48>>2]=r,w[e+52>>2]=r,w[e+56>>2]=r,w[e+60>>2]=r,e=e+64|0;for(;(0|e)<(0|n);)w[e>>2]=r,e=e+4|0}for(;(0|e)<(0|a);)v[e>>0]=t,e=e+1|0;return a-i|0}_qdb("0x5af");var v=new(e[_qdb("0x426")])(i),w=new(e[_qdb("0x30e")])(i),S=(new(e[_qdb("0x36c")])(i),t.h,0),A=e[_qdb("0x452")][_qdb("0x7")],I=(t.a,t.b),E=t.c,P=t.d,D=t.e,q=t.f,O=t.g,R=720,L=0,M={};return M[_qdb("0x12e")]=_,M[_qdb("0x5c2")]=o,M[_qdb("0xa5")]=h,M[_qdb("0x4c9")]=c,M[_qdb("0x2db")]=p,M[_qdb("0x370")]=d,M[_qdb("0x479")]=b,M[_qdb("0x561")]=g,M[_qdb("0x4b9")]=a,M[_qdb("0x21c")]=r,M[_qdb("0x498")]=n,M}(b3,b5,a7),b7=k[_qdb("0x12e")]=b6[_qdb("0x12e")],b8=k[_qdb("0x5c2")]=b6[_qdb("0x5c2")],b9=k[_qdb("0xa5")]=b6[_qdb("0xa5")],ba=k[_qdb("0x4c9")]=b6[_qdb("0x4c9")],bb=k[_qdb("0x2db")]=b6[_qdb("0x2db")],bc=k[_qdb("0x370")]=b6[_qdb("0x370")],bd=k[_qdb("0x479")]=b6[_qdb("0x479")],be=k[_qdb("0x561")]=b6[_qdb("0x561")],bf=k[_qdb("0x4b9")]=b6[_qdb("0x4b9")],bg=k[_qdb("0x21c")]=b6[_qdb("0x21c")],bh=k[_qdb("0x498")]=b6[_qdb("0x498")];if(k[_qdb("0x40b")]=b6,k[_qdb("0x3cc")]=W,aJ)if(aL(aJ)||(aJ=v(aJ)),s||t){var bi=y(aJ);a9[_qdb("0x17a")](bi,N)}else{aG(_qdb("0x317"));var bj=function(e){e[_qdb("0x3a3")]&&(e=new Uint8Array(e)),a9[_qdb("0x17a")](e,N),k[_qdb("0x582")]&&delete k[_qdb("0x582")][_qdb("0x382")],aH(_qdb("0x317"))},bk=function(){x(aJ,bj,function(){throw _qdb("0x2eb")+aJ})},bl=b1(aJ);if(bl)bj(bl[_qdb("0x4a0")]);else if(k[_qdb("0x582")]){var bm=function(){var e=k[_qdb("0x582")],t=e[_qdb("0x382")];if(200!==e[_qdb("0xe4")]&&0!==e[_qdb("0xe4")]){var i=b1(k[_qdb("0x1dc")]);if(!i)return console[_qdb("0x22a")](_qdb("0x58b")+e[_qdb("0xe4")]+_qdb("0x1d4")+aJ),void bk();t=i[_qdb("0x4a0")]}bj(t)};k[_qdb("0x582")][_qdb("0x382")]?setTimeout(bm,0):k[_qdb("0x582")][_qdb("0xd6")](_qdb("0x10e"),bm)}else bk()}var bn;if(aF=function e(){bn||bp(),bn||(aF=e)},k[_qdb("0x3f1")]=bp,k[_qdb("0x1c8")])for(typeof k[_qdb("0x1c8")]==_qdb("0x45f")&&(k[_qdb("0x1c8")]=[k[_qdb("0x1c8")]]);k[_qdb("0x1c8")][_qdb("0x43c")]>0;)k[_qdb("0x1c8")][_qdb("0x315")]()();P=!![],bp(),f=k[_qdb("0x3cc")](_qdb("0x54f"),_qdb("0x3fe"),[_qdb("0x295")])}}var _qda=["IDI3Jz0gMDM=","IDE0IDI4K1I=","Zmxvb3I=","IDAxIDA4Wk4gMjA=","b1VXd2Q=","Z1NsbHg=","SEVBUEY2NA==","JiAwMVwy","KkgnNw==","MzdPIDE4","RlE2IDIz","ek9sWEQ=","NyxZIDE3","anNHdlA=","LyAzMDlb","dkpXZEw=","JEw6SQ==","IDEwWEYgMTM=","dW5zaGlmdA==","KkNSTQ==","NCAwNlQgMDk=","RkR3VUk=","aGFzT3duUHJvcGVydHk=","MVYgMTkgMTE=","UHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCg=","UHN3Rms=","aklCeFM=","L0olNQ==","IDI4NSM2","ZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LA==","NStPNg==","UmtIWlM=","TEFzZkI=","IDE3T18gMDE=","ek9veFU=","XlIgMDgq","ISsgMTVY","V1cgMjAgMTM=","IDI3XEogMjM=","aG9zdG5hbWU=","NVxQIDIy","LzkgMDkt","WUJSZlk=","dUFjWEE=","QXZLdE8=","MisgMjNU","cUlFbnQ=","aTE2","c29yeHM=","IDI2LyAxMTs=","IDMxIDAyJyAyNw==","WFFHc1U=","R2Faemo=","dkFLdms=","RisjKA==","PiAyODBa","KS4gQnVpbGQgd2l0aCAtcyBBU1NFUlRJT05TPTEgZm9yIG1vcmUgaW5mby4=","QmNwZnI=","aTY0","KUggMTRO","SEVBUDg=","Y21kNXg=","WW5UZEw=","RCc2IDE5","IDI0YlcgMDU=","IDE1IDI2OT4=","IDMxIy1c","S3dmVU4=","WERXcmk=","dHVEdHk=","dW5kZWZpbmVk","dHJ1bmM=","IDI4XiAxNzM=","VSAwOSUq","RldwYmM=","NS4gMTIgMjI=","IDI2IDA2XiAzMQ==","IlQhIg==","JkdEPA==","X21lbXNldA==","cHJpbnQ=","Wm1makM=","IDE5IDIyWl4=","T09N","TnBXRmI=","bEdDbWo=","VHhzZmc=","WlJjIDA1","IDMwVkY7","bmFtZQ==","IDMxIDIxYSU=","QUkgMTFV","R0FsZFA=","alNEbkw=","VHhRQ3A=","P0s+IDI5","IDI4LSAyOEY=","Y2xpZW50SGVpZ2h0","PiAyODAt","IDI0IDA0Oiw=","b1Z6UHU=","IDIyIDEzIDAxTw==","T0YgMzIgMjA=","SU5JVElBTF9NRU1PUlk=","MTE6TQ==","KVUgMThc","T2d2bnE=","dEh1Q1I=","WlR5bUU=","IDE2TCAwOFo=","Y3NuZm4=","SEVBUFUzMg==","bWVtb3J5SW5pdGlhbGl6ZXJSZXF1ZXN0","XCYgMjc8","Y21kNXhkYXNo","Z25aTnU=","TWRDUWE=","LCg5YA==","TjZQIDE0","U1lrcWc=","eWJjZkw=","YSBwcm9ibGVtIHNlZW1zIHRvIGhhdmUgaGFwcGVuZWQgd2l0aCBNb2R1bGUubWVtb3J5SW5pdGlhbGl6ZXJSZXF1ZXN0LCBzdGF0dXM6IA==","a2JweFk=","IDAxNFAxIDA2","SyAwMyogMDY=","WCYgMDggMjI=","KmMgMDQq","TGNKWFQ=","IDE0IDE1WEw=","TGNIIDE4","IDE5IDEyXkI=","QSAxNTso","RyAyNzMgMjU=","ISAxOTMgMTc=","Vk5BWms=","RyZcXg==","XCAwMiAzMD8=","QXljY3c=","IDE1RiUgMjg=","Q0tvUWI=","QD0gMTdd","IDIzIDAyRyc=","ckxaR3I=","VmRGT3Y=","VmRHY1o=","IDIyIDE1LCAwNQ==","d2lkdGg=","TnZpZEE=","KiAyOSAxMjM=","UUpHTFA=","IDAxIDMyJEA3","dXRmLTE2bGU=","IzEgMzEp","Tm1OanM=","PCAyNCAyMiAzMA==","b3VVeGo=","IiAzMSAyNCAzMg==","dXNlIGFzbQ==","IDAxIDE1SyAxMT4=","KEggMTZP","QlBvVmU=","TlNvd0Y=","VVNWTA==","IDI4OEpd","WCAwNSYgMjg=","Vm9hTFM=","Y1dCR2M=","RS5BIDEx","UU5kbWk=","b2JqZWN0","aUJSdEw=","WmpYWm0=","RV1PIDIx","LjQgMDQgMjI=","ZktwbVY=","d2loZHc=","X2NtZDV4","IURPRw==","IDI5QEhK","IDAxIDE0LzpX","IDE5RTAgMDU=","RiAxNCAwOSE=","JkgpIDIy","a3N2ZHA=","IDE0MlBd","VmZnUmw=","LUQgMjcgMjA=","IDI2JSAyNiAwOQ==","TC4gMDI5","YXJn","SUxuQ2M=","WVVsYXA=","Y29weVdpdGhpbg==","S0JlT3Y=","J1sgMDJM","dG9TdHJpbmc=","b25BYm9ydA==","bG9jYWxob3N0","aTMy","IDI4RSAyNU4=","IDIzIDI3Rjg=","bE5aVWk=","Qk9YbHQ=","Nz8gMTJB","UG1OTWw=","TGZ1TEE=","SzJaKQ==","PyAwNV8gMTM=","IDIxIDAzPGM=","UVBTcFY=","UktxaFk=","Si1NXg==","T05wYXQ=","Q01PIDEz","LiAwOUpO","VTwgMjQ3","SlkgMDNV","RXhpdFN0YXR1cw==","JlMgMTcgMzA=","RiAxNVQ6","aEFJYWM=","RyZcTw==","bm9FeGl0UnVudGltZQ==","MyAzMS87","OEZXTQ==","dEJPU2g=","elB3R3k=","KyAwN1cy","IDAxIDEzOFIj","ZHluQ2FsbF92aQ==","MiAyMFg8","IDE2PSAwMSAxMQ==","XyAxNUhN","Lj0vWg==","dXRmOA==","dXRoUWs=","a3ZyVUQ=","LiAwMi9i","PjtMIQ==","IDMwLyAxMjQ=","IDI5IDA5IDAzJQ==","MSAwOCgx","ckFWZnI=","Z1hGQno=","IDMwIDIzMSI=","IDE1IDEyIDE4IDE0","cHJlbG9hZGVkSW1hZ2Vz","UEhjNg==","O0IgMjlR","IDI3VyAyNEU=","aGVpZ2h0","SkdpS1Q=","NS4gMTEw","cHVzaA==","Q0ROIDI4","TkN2Tmk=","WyAxMCAxMyAyOA==","bG9jYXRlRmlsZQ==","Y2VpbA==","QSAyMC0gMTM=","YWdQUmQ=","WFljVmo=","QkxYQA==","IDI1IDIzIDA5Kg==","WGZDZ24=","IDE5YCAxNyAyMg==","QFQqVA==","QSAxNCAyNTI=","IDAxIDAxIDI4XiAwNQ==","IyAwMFYgMjA=","WUhITHo=","QDwpSg==","IDIxXCAxMSM=","IDExIDE2IDE5KA==","d3htVXY=","alJ5RUo=","aW11bA==","QUQgMDkgMTk=","IDEzP0c9","ckhYWUY=","Q0NHQ2U=","IDAxIDAxMCAwMiAzMA==","Kl8gMDdf","WE9RbHg=","cmVwbGFjZQ==","IDAxIDI4IDE4LyAyNQ==","IDAxIDE0IDAwPT0=","IDMxUiAxMlk=","IDE5QiAwMCE=","WmNRR00=","ITkjIDA2","IDAxIzUgMTcz","IDE0IDE5PCAyOA==","MTlKVA==","SEVBUFU4","VVNFWGs=","OyAxNyAwNkQ=","IDMyIDAwXzw=","cHZTTGk=","VWpBWUE=","IiAwNiAyMCAwNg==","IDIzIDA1MEM=","IDIwIDIyWT8=","IDIxJjUgMDU=","WSAxOFcgMTA=","UXNaVnM=","UUNFSFM=","dFBlUHM=","N2MrVQ==","MFk4WA==","b25lcnJvcg==","V3Z3REY=","dFVzdnU=","IS04IDMx","UEhjOA==","aGNLRmw=","RGdBY3E=","b3VsZko=","WkpwQm4=","Q2hhcmFjdGVyIGNvZGUg","IDI1IDE3IDMwQQ==","c0txeGc=","KDQjIQ==","c3Vic3Ry","ZXlBZ24=","L10pIDE3","c2xpY2U=","Il87Wg==","IDE3T18gMTk=","NyAxMCAyOGA=","dGdBR0k=","V1Z6RVA=","bWJHUkw=","RHBaaWc=","STMiIDI5","TSAwMiAwNSAyMA==","aEplT0E=","dkJScWg=","WWRMUU0=","cHJvdG90eXBl","SEVBUFUxNg==","KTxEIDI0","KjRPNQ==","SmIgMzIgMzE=","VXVCTXk=","IDE3Jz0gMTE=","OSAxMiFc","UERTUko=","MDcgMDMgMDY=","ZnJvbUNoYXJDb2Rl","NlYgMTU2","a1F2SE4=","Qk1OVXg=","IDMxIyAxNE8=","IDE5OFwgMjg=","dEZ6cGM=","Iz9MIDA5","RUNZYlg=","c2NyZWVu","PCIgMTRB","OiAwOSAxMyAzMQ==","ISogMzAgMjE=","YFwgMjBB","QU9IWQ==","UG1HbGQ=","VCAxN1tB","RUcxYw==","NyAxOEYp","IDAxIDIzIDAwXFk=","WXh6SGU=","R1l0SWs=","Uk9XZG0=","JiogMTUgMTE=","LmE0MQ==","OyAyNSlN","IDEwTyggMTk=","IDAxIDMwN0cgMTc=","K0lTIDE3","MisgMDAm","blJUR2o=","aWVPb1c=","aHpqQWg=","QWh3ZlM=","d0NqZUo=","MUNXIg==","IDI0QSQgMDI=","TkpFTmI=","MlMgMDFC","VVNFU2M=","N2MgMjRW","Pi0gMDcgMDQ=","YU5STlg=","JCAyNSM+","MCAyMVIgMDM=","IDI2P0ggMzI=","SSAyOD0gMjU=","IDI2IDA3NCAyNg==","ISAxMVhB","IDE4JC8gMzA=","WHNPVlA=","N05MIDA1","dWNuWHE=","dFpKbUs=","R0VU","IDAxIDIyYi1Q","U0Z6SGw=","N05LYA==","IDMyIDIwQyAyMw==","IDE5QiAwMFs=","MCAzMV8gMTE=","dlpncUU=","RXNBcHA=","IDAxJCAyMzBX","Wml2d0c=","OF4gMDkr","RVpFZWc=","IDIzQSAyOSAxOQ==","Q29udmVydGluZyBiYXNlNjQgc3RyaW5nIHRvIGJ5dGVzIGZhaWxlZC4=","NU1jVQ==","TWRieVY=","Smd5eXA=","JSAwMiAyMiAyMQ==","QktsRkg=","WCAwNSdL","PCAyOVdE","T090dGI=","LVQ+Ig==","TU5mQ28=","JVFeOQ==","amZ0Rmo=","IDIwIDE0V1g=","c2txTno=","cGZ1T2k=","WD5JXA==","X2Vtc2NyaXB0ZW5fZ2V0X3NicmtfcHRy","IDIyIDA4IDMwIDIw","QEAuMw==","IV8gMjQ/","MFogMjcgMTg=","IDMxJCIgMDI=","V05kWms=","c2hpZnQ=","WEtuYWs=","WllxRnc=","TllrclI=","XCdfIDIy","bWlu","Qm1GRHo=","Z2FLRHU=","IDIwMS06","QXNzZXJ0aW9uIGZhaWxlZDog","Sm13dmg=","eVJjb2Q=","WEkgMDEgMjI=","VmIgMTUgMjM=","bGhNdEk=","XCAxODNb","aW5kZXhPZg==","d2dLRGk=","S0dZSmM=","IDAxIig4Mw==","IDE3U00+","KCAzMiAyNS4=","RE1oSnQ=","amVhZno=","IDAxIDI5QVVY","bUhqSEY=","IDE0IDE5PEs=","ak1uYXc=","RE50cnE=","c2V0U3RhdHVz","SiAyOVE3","PVAjVA==","PTYgMjQgMDM=","IDIwIDE0V0s=","YVpkTEM=","TXpiSGk=","bGZxTmc=","UXpyeHo=","IDI3IDE2IDE2IDIw","IDI4IDMwXyM=","WEhQZVY=","IDAxQTw6IDAz","YWRkRXZlbnRMaXN0ZW5lcg==","VEpjcko=","RnlEUXo=","REFWWHE=","KEggMTcgMjI=","QmJOamc=","YWpXQmg=","T0J2YWE=","alZFYkE=","IDI0TDIgMjk=","PmJbMw==","TUQ3Uw==","MCAyMVEi","UmRRcGY=","c3RhdHVz","IDEwWEVc","REg4Qw==","MiAxOD5P","SU95V2M=","ZnpDRU4=","K01YIDIx","IDEwUyAyMkM=","YW1tSEc=","KSAwMiAyNSAwNQ==","dnhrUlU=","IDE0IDIzXyAyMg==","IDI5IDA0OGA=","QUF5akU=","YTIgMDQgMjI=","YUwrRg==","d2FzbUJpbmFyeQ==","SXpMZU8=","NDQgMDZi","Z3JTS2w=","KVteKg==","TENCbVY=","c3RvVHg=","LCBtYWtlIHN1cmUgaXQgaXMgZXhwb3J0ZWQ=","RjU5XA==","T21YY2U=","b05NRkI=","a2RJQ0Q=","Y3NQaFU=","SCAwMC8gMDg=","T3lmd3A=","PCUmIDI4","T3NtdXQ=","OyAyMSAyMl4=","IDA3OS0gMDg=","ZnRkdXQ=","IDMxSUdS","IDE3Ji1j","LCAyNCAzMDA=","NjcgMjAl","UEROT0g=","c0ZFTnI=","bG9hZA==","IDE0IDE5PCk=","IDA3MUggMzE=","UHd4blE=","PCAyNyAyNy0=","IDI4IDAyUjQ=","UmRGZm4=","am9pbg==","KEsgMDFh","Q21JZ0Q=","UEJYVlo=","VCAzMVhO","QkIoIDA5","JiAzMEsgMzI=","KCtSQg==","T2xwWlU=","M0csJg==","J1lGIQ==","L1EgMDIs","ZHBVU1I=","VD8gMjcgMDA=","c1lZakc=","RHVtWnM=","IDI0SyE1","UElDU1U=","R2BfIDE2","ZmNjcXc=","IDAxMTsgMjZE","XTJCIDMw","R3BtSkg=","SFxDTQ==","WnVYSWs=","X2JpdHNoaWZ0NjRTaGw=","NzQ3Og==","MTY1IDE3","Q0Z5alg=","cXpPSmI=","TDMgMzBi","OiAzMlIj","IDIzIDMxIDExPw==","IDI2Mkko","ODYlLA==","IDI4IDAzIDA2IDI1","IDI0IDE2MUI=","dHJuZUM=","aWhOamg=","cGxYYlY=","Y3FicXo=","IDIwIlogMTk=","IDIxOCUgMTI=","VVdtTGM=","TFRnaHI=","Y3lQTmI=","OGA+Sw==","Izs5Rg==","IDAxIDAzIDAxIDI2IDI3","KSAgYXQgb2Zmc2V0IA==","WyMtVQ==","c3ViYXJyYXk=","IDI0Mig/","KlphIDI3","RV1PYw==","S1NlSnA=","IDIzIDExSCAxMA==","aEdkelY=","IDE2NV5h","YXJyYXlidWZmZXI=","eWJ2V1I=","UHBESEI=","IDI0IDA5IDA5IDA5","LyAxMCAyNCAwNg==","IDI3MUVe","MyAxNyAyNCQ=","R0N4dnc=","QmVLcmE=","KiAyMDEgMDk=","WCAyNyAxNkA=","SmZmbUE=","RiUyIDI4","IDIzIDE0NSAyOA==","L1ZQIDI2","ISAxMVgy","RHNvVGo=","VkVYU04=","TXJxTWc=","IjUgMTIgMTg=","bXFtZlQ=","clVwS1E=","TE93bXk=","YmVuT3I=","IDAxIDA4IDA3RyQ=","QkhxWXY=","JD4oIDAz","IiVNLQ==","VCRAMQ==","IyAwOGFI","VyAyNzdS","IDI3IDA0XlU=","J2EmXQ==","d2ljbUw=","IDExMjlY","aXpneGY=","UCAxOFFB","IDE0V0kn","IDAxIDAxMEgr","PCAyOTpY","IDE4JC8gMDg=","dVNQZks=","c2V0","R0AjXA==","amp6S1I=","ZG9jdHlwZQ==","IDE3IDIzIDAyWw==","LTclMA==","ZUNTVVQ=","UnVoZFM=","akxGa2s=","M1FCSA==","TVtCIDE5","IStcSQ==","QSAwNyAwNzk=","ZXRIbWo=","cXVpdA==","O1ZeTw==","clVnS3g=","IDI4IDA1KGM=","ODk2IDEw","IDAxIDMxIDE3LVg=","I18vIw==","LSAxNkEgMTA=","dGZBQ3U=","I0AgMzIgMjc=","IDMyMTggMDY=","cWpSdGs=","b0RZcVA=","JiwgMjcy","IDA5XWI5","NFEiIDEx","IDMwJCgn","b3Fub2Q=","cktqblo=","IDEzNSk8","dHdJRVg=","IDAxIDE3WSAyMV4=","d1dDWlE=","IDAxIDA1JU4gMzE=","RlFRUGI=","b0tmYVQ=","SEVBUDE2","dmhsRWE=","L0kgMzEx","PCAwME1A","KzM/IDMy","KiAwNkti","d1dzaUM=","IDI3LSg/","dXVjSVI=","IDI2W1UgMDY=","LyAyMEgn","VjZSLQ==","QFxSXg==","QSAwNyAwOCAyNw==","VkQgMTU0","Y2xpZW50V2lkdGg=","IDAxIDA0XF9P","IDI3XVggMjU=","IDA5MSAyNyAyMw==","IDIwIllF","Z2tDU1U=","Q2xEYkg=","SyogMTIgMzI=","dE95Ylc=","NDggMTlX","cWR5","WktpUGg=","IDIxIDA5IDIyIDIw","VUMgMTgq","aFN5Ym4=","LCAyM2A0","Li90aGlzLnByb2dyYW0=","IDI1OF0gMDI=","TnlxelU=","cHJvY2Vzczs=","IDI0WlxX","IDI0YlZR","IDI5IDMyIDI2Xg==","cHJlSW5pdA==","TFg0NQ==","IDMxJkI6","cFRLek8=","Z2ZMeWo=","YXJyYXk=","cmVzcG9uc2VUeXBl","LFIhIDE4","IDI1IDAwQCAxNQ==","ZHR1ZUM=","VHFkWUQ=","IDMwJWMgMjI=","LCByZXRyeWluZyA=","IDAxIDI2XFtT","LCAwMiAxNEk=","YWhaUnY=","PiAxNU8gMTQ=","RCkgMjI1","L1AgMTIt","SEVBUEYzMg==","bWVtb3J5SW5pdGlhbGl6ZXJSZXF1ZXN0VVJM","RCNHRw==","OSAxNlggMjk=","QEVVOw==","WVlQQVU=","c1RheXM=","IDAxIDExVCQp","YlZvUFA=","SFxEIDI4","Ll4hLw==","IDIwWTJR","cmJxbEg=","IDI2MkkgMDk=","IVs4Lw==","YDQ4IDEz","IDAxIDI2VUhE","IDI5VVoq","b3h4ZlU=","IDMwIDEyIDEyYQ==","KSAyMUIgMTI=","IDEyJigq","c0VqbUY=","ZXV1RHI=","RFd5Z0g=","OyAxNyAwOCAwNg==","IDAxIDA3IDE1XDE=","ak5zc08=","Jic1Ow==","V25NcHo=","RGtISmg=","Y0VyTlA=","Y2FsbGVkUnVu","XyAxNiIgMDg=","TSAwOSIgMjk=","IDE5QiAwMFY=","eGVFUkc=","aWxvdmVpcWl5aQ==","YXJndW1lbnRz","IDE2IDA0MSAyMw==","IDI2J0Uu","cnZuQnI=","I04gMTYl","QmlSZ1o=","IDEwPU1D","IDE0IDI4LCAwMQ==","SF9RIDIw","YmluZA==","IDI1IDAwPzo=","c2d0WFE=","IDIwRCAzMCAyNw==","IDI3IDI2Siw=","OT0iNg==","SVUgMDkgMDg=","JSMmMg==","YmxvYjo=","UVhtUWs=","KGFCQQ==","IDIyRlsgMDg=","KiAxN0VC","IDIxLjld","eEtQd1o=","YnhDRm0=","IDE1IDI1IDA2IDA1","RzBiIDAw","c3RhY2tSZXN0b3Jl","IiAzMi5L","IDE1RCAyNDc=","L2AgMTIl","anVMT04=","VXlocU4=","b3Blbg==","MiAzMFsl","VXRUVXg=","JElKPw==","PysyIDE4","IDAxJClTJA==","TVIgMDdT","IDAxIDE4JVFb","d2Fybg==","amF2YUVuYWJsZWQ=","IDAxJmJJYg==","bVBSQ0M=","Q0duSVY=","RldQWnM=","LCg6IDA2","Y0NbKA==","IVMlIDA2","MzogMjVJ","IDE3MSoh","IDMxIDAzIDAzIDA3","dGxVcVk=","ZmZhWWg=","IDMwNCAxNyAyMg==","aktPREE=","ZHluQ2FsbF8=","IDIzVzot","QUt4RFA=","KCAwMSZT","IDI2RyAwNUs=","dlFNa08=","Znd2Q08=","eEVKd1g=","IDI1IDA5WiAwOA==","VkxUZFA=","YlpXc2c=","aHJlZg==","bWVzc2FnZQ==","IDI3MUVV","IDIyIDI2VSw=","YnFIaVc=","XVtWYA==","IDE0USAzMiI=","YlFORWM=","VCAzMCdj","d2luZG93Ow==","Z2J2SWQ=","TkxJWlo=","R3hMYXc=","NSAyNSAwNlI=","bnpnY24=","UnV5dm4=","Y21kNXhsaXZl","IDI5WFBC","JyAzMSAwNDY=","IDI5L1ggMjY=","IkAgMDQw","RnR6bW8=","UmVJS2M=","a1Z4V0E=","ISAxMFJD","IUggMTcgMjQ=","IDE2NV47","d0RPdk4=","d1N4QXM=","bWNRU0k=","S3ZvRVM=","IDA5NyAxNFI=","RFhSJA==","a0hCT0M=","RyAwODUgMDU=","VlJPQko=","VW16bVQ=","VEpiWGk=","UCAxOFIt","WyIgMDFG","RWJxcVY=","eWZTSVg=","QSAxNCAyNiAxMA==","S1ZzaWs=","IDMyPDZc","Y3VycmVudFNjcmlwdA==","IDI4NjEq","IDIwJCAwOEk=","SiAxOEwgMTA=","Y0VKTWc=","bEhCRFU=","ITkkIDI5","PWEgMjIp","cUR4RFU=","KyAyOCpJ","aW52YWxpZCB0eXBlIGZvciBzZXRWYWx1ZTog","IDI5IyAzMD0=","eWpsZG0=","R3p3R0Q=","R1dRZ2Y=","LCAwNilK","IDE1IDEyIDE3XA==","JFEgMDko","IDAxIWNhKw==","WmVTbng=","Jyw/IDA5","KCAyMVwgMDU=","ckNzWXg=","TGZrY3E=","PTQgMTgn","SCAxNisgMzA=","UkNyWUM=","IDAxIDA2IDI4R0Y=","aml0c3k=","c2lOVWE=","IDE1MSAyOS8=","IDMwSk4gMDI=","U3ZTU2w=","Ym9keQ==","U0pUR2c=","c3RyaW5n","K1BDQg==","IDIzYyIgMDc=","IDIxIDIwIDIxIDE2","SUpLcVo=","Q2Fubm90IGNhbGwgdW5rbm93biBmdW5jdGlvbiA=","JTknWA==","c3RhY2s=","IDAxIDAwJyAyNDI=","aW9FeUg=","c0JFaEo=","SWlhVm0=","Q2ZKanA=","IDIzW1QgMDI=","QiAwOSsw","ZHVGaGY=","ckVzbng=","RmZ4TVI=","Y2JzSGM=","IDI2QFA1","PCAwMjRC","anVwSlM=","UGl6Rm4=","RFxLIDEz","NiAzMj0gMTM=","NyAwND4r","IDIwIDIxVmE=","IyAyMz0gMDA=","LjUgMzBT","LFc9TA==","LENbSA==","IDA5RCAxMSAwNA==","TTdbOg==","QlRuQUo=","QCAwNSAzMFc=","IDI5IDA1Szk=","RiAzMlpX","IDI2IDE4V2I=","IDEyTUov","IDE0USAzMks=","JyksWA==","SCAwMC8gMjM=","SFVCcUg=","Ym9vbGVhbg==","IDE0MlE3","PkU1IDEw","V0Znekg=","WmtESnI=","cWRfdg==","c3Jj","KmI8YQ==","S2VLR2M=","U0JSSWY=","eE5aRUk=","JD4pIDE5","VCogMDdS","a2JBYk0=","IDEyKWEgMjI=","JiAzMEsgMDM=","eXVSQmM=","OyIgMDcgMTg=","IDE2IDAwIyAxNg==","MiAyMFggMjg=","RHN0bkE=","NCRMPA==","NlcrIDAw","Z3pvVFU=","IlM7OA==","cG9zdFJ1bg==","KS07PA==","X2k2NEFkZA==","OkQoNg==","IDMxLT8gMTc=","UVd0aGs=","MS43MA==","IS05IDMw","IDE3LSYp","IDI5V048","IDIwU1Rh","NU4gMDAgMzI=","amdMZU4=","Y2hhckF0","T0dlZXc=","M0swPg==","RCAxNlNW","NyAxMyggMjI=","Y291bGQgbm90IGxvYWQgbWVtb3J5IGluaXRpYWxpemVyIA==","LT1fJA==","dG9Mb3dlckNhc2U=","QmIgMjdb","V0xualk=","cmhwRlc=","IUpTNw==","LiAxOEhO","aHRtbA==","UGJRbFY=","LCB0eXBlIA==","TE1kck4=","IDAxIDA4IDE0LjA=","cmVzcG9uc2VUZXh0","cmVxdWlyZTs=","MlcgMjMgMjM=","OT0iUw==","ZW5YWmE=","ZmxMZEU=","TEx4dkY=","IDEwIDA5LEg=","UnFwZ0I=","bG9jYXRpb24=","PGEgMTYl","cExVZ0U=","THFLVUg=","TFg1SQ==","V0Fsdk8=","VHFIYlg=","MDxcIg==","YWJvcnQo","d05hV2M=","KCAzMCRe","WHpmc3U=","Si5AIDIw","SW50MzJBcnJheQ==","Pik2OQ==","VmRlRk0=","bFdGTFQ=","bE5nb2g=","dGt6bVY=","IDAxIDA2KSAwNjc=","cG9w","LENAYA==","bWVtb3J5IGluaXRpYWxpemVy","KGEgMDFO","IDIwIDEyIDExIDEy","LCAyM2EgMDI=","Sm1TV2g=","NicgMjhI","JTBLIDMw","ZUtwVEE=","IDA4QFkgMjE=","YndhUU4=","OEI/IDA2","IyAwNyAwNSQ=","IDAxIDE0Pi5h","IyAwOGEgMjY=","UmFFbHk=","IDI1MiAwMWI=","OSAyNiAwNS8=","TCAwMVUw","RVZDTmE=","IDMxIDAyJyM=","QmFRd3A=","SjgkIDE5","MyljMQ==","IDE3VSAyNCE=","KkUgMDVA","IDI4USAwM0Y=","IDE4YSAwM1E=","IDMyIDIyJjE=","K1YgMjI+","UnJzQ2g=","b0dOamg=","Z2V0TmF0aXZlVHlwZVNpemUgaW52YWxpZCBiaXRzIA==","c1Z6eEg=","MTggMDZI","ZktpYWs=","cHJlbG9hZGVkQXVkaW9z","IDMyKj8x","IDMyQVkt","JF01SA==","IDIyTWNf","a2hBVGo=","MlMgMDE/","LCAyMSAwMmM=","WndnT24=","RVwgMDQgMDA=","NCliSQ==","bUlsVko=","IDE5LShL","TkVIIDEx","cFdLUHo=","VU56QlY=","SkpOckY=","IDIxOjlZ","LTdiNw==","NCcgMDAgMjk=","RmNOdWs=","NkYgMjk0","IDA4Xldd","IDAxIDIxIDIyNys=","bGduR0M=","IDE1KyAwNEI=","OSAwM15H","MFklRg==","ZGVXT3c=","ZklGVkg=","QkxYPA==","JTUgMTcgMDk=","REwgMTE6","JVRGWg==","YkpydFU=","MCAxMyAxMyAwMw==","IDI3QSAzMEM=","IDI4IDMwX08=","U3laVXI=","bHFTWUE=","JSAxMykgMjE=","VlQgMDRJ","UmNiZFA=","IDI1NT1S","IDI5LCAwNFQ=","cXNkeGc=","Q1N1SGM=","Z2V0VGltZQ==","a2FCekY=","IDI5NVQw","VWludDhBcnJheQ==","IDMwIDIzIDEyIDI2","dWlwZkw=","U29wbEU=","X21hbGxvYw==","LCAxMSAxNiE=","OSAwN2Fa","QyAwOCAxMlM=","O0s4IDE4","c3Z6Wlk=","QSAwNyAwN1I=","IiAxN1Ql","bW9uaXRvclJ1bkRlcGVuZGVuY2llcw==","SCAzMlogMDg=","IDIyVykgMTc=","bG9n","RHRHblM=","R09Cd2U=","Q0VXTXg=","P0chQA==","RW5oS0k=","SnN3Z2Y=","cmVzcG9uc2U=","LiAyMyxD","ZnVuY3Rpb24lMjBqYXZhRW5hYmxlZCUyOCUyOSUyMCU3QiUyMCU1Qm5hdGl2ZSUyMGNvZGUlNUQlMjAlN0Q=","a29BWlg=","IDI0TiAwMyc=","bGNHc1o=","IDAxIDMyIDI5SSY=","KS07LA==","ZkZLR2M=","a3pvbVE=","Q2pLdnA=","T2JMTng=","IDAxIDEyQ1Us","Y3JYTEk=","OyAwMiAyOFk=","TndRcVM=","QSAyMydU","IDE5IDA3UCAzMA==","bWNkWFg=","IDE2IDA0MFw=","QW5WZ3k=","REJOT1Q=","UU9MYmI=","IDE0IDMxLUg=","bGFzdEluZGV4T2Y=","O0tYWA==","IDAxIDAyIDA0XCAyMA==","LEEgMDRQ","UGpEcmo=","LCg6IDMy","TiAyNkNY","IDEzWyFa","Y2hhckNvZGVBdA==","Ynl0ZUxlbmd0aA==","d01uZFA=","SGNaTWY=","IDI3ITIgMDc=","a2d0eng=","aWFFRGQ=","eWtmbU4=","cGZpcE8=","QD1VIDI5","WFRPVFQ=","IDI5IDE3Yi4=","aWVtdVI=","ODk1Xw==","IDAxIDIwIDAxIDA3MA==","cEpqamo=","aVNvU0c=","IDI0TDIgMjI=","OiAwMiNG","b25SdW50aW1lSW5pdGlhbGl6ZWQ=","IDE5Jj9b","PVxUSw==","JkogMDY5","IDI5WVlc","IDE3IDE2IDMyIDMx","U3VKUkU=","UnVubmluZy4uLg==","VXpDT08=","Rmp6Smw=","U1NOWnA=","b1duWmE=","NEkgMDdf","ekVYcG0=","Y29uY2F0","R1h3c1o=","IDAxKUhXIDAw","IDAxIDI4PzggMDY=","IDE5YCAxNlg=","dmpFWUU=","IDI3QzlC","MSAxMCAyOEY=","RzJNIDMx","Y3dyYXA=","YXBwbHk=","IDMxIDAzIDAyUg==","WXJwZkQ=","JzBgSA==","KzAgMTIgMjg=","IDMwQiYh","QSAxNTsgMjQ=","SzsxIDA1","SCAwM0BH","Rklza1A=","V1RwSmw=","PyQgMjZK","IDE3X1ZS","K08sVg==","Iy8gMjcv","VWNnTko=","KyAwN1Zg","Q1ojIDMw","aEJNeVQ=","IDIyI0Yn","IDAxIDExTSwgMTc=","TTogMDIq","I0oyIDEx","MCAyOTYgMjA=","VlZEUw==","RTYgMzAgMDg=","VzJDXA==","dWJSZWQ=","IDI3KTZA","QSxhIDAx","IU5OLQ==","ZUVESUs=","JD4pIDA0","ZXRLc3g=","IDAxIDI0SyAxOUQ=","PCAwOVlY","cnVu","IDI1VCAxNlM=","a2toUEM=","dEJITm0=","QicgMDEgMTM=","JUxSQQ==","c2hvd24=","Q0ViYQ==","QDdRRQ==","Si4/IDEz","IDI3IDIxSTo=","Q21RV1g=","MFklSQ==","bnVtYmVy","KlsgMjRd","WmlMWnU=","QDdSIDA1","IDIxXCAxMC4=","TCAzMSAyNTk=","cGpuWW8=","QmlKekY=","TVF1bVg=","R2prT0c=","IG5vdCBpbiAweDAwLTB4RkYu","SCAwMCAyM1A=","ISAzMUZF","YXNt","IDIyIDI2VSAyNA==","JSAxMCAzMiAxNg==","IDE5PSNY","ISAyNyAzMSAwNw==","IDIxW0BN","QyQgMDY/","REZEQA==","IDE2IDA5IDI1Jg==","YlJDVXI=","TkFdXg==","O0VQIDI3","ZHluQ2FsbF92","YUlYS1o=","RCkgMThc","MTlKSQ==","SnpNTXE=","IDIxMC5L","b1FEaFM=","RW5HV3Q=","UCAwMCAyNVE=","RV1PUg==","VEJGTEg=","IDEzWyIgMTI=","VGM0Sw==","IDE5IDA1IDIyIDI3","TENka00=","SW50OEFycmF5","Ny0gMjAgMTY=","NU1jYA==","IDI3OyJg","QUNkVEM=","Q2V6Uk4=","NSAyNywgMTQ=","RUdgIDIy","dGl0bGU=","R3dHU3Q=","b2JQTVU=","ZGVjb2Rl","SyAwOCAxOCAyMw==","amlGdFg=","KG5vIHN0YWNrIHRyYWNlIGF2YWlsYWJsZSk=","ZG9jdW1lbnQ=","KiAyMD9S","JSgkIDIx","IDE2IDExJj8=","REpFVWQ=","ZGN0VXc=","IDE0IDAxUyAxNw==","bGVuZ3Ro","RFV3eUY=","IDMyIDA1OSAyNw==","QUt0WnA=","MEMgMDEo","TCAyNEYgMTU=","IDMyMDYgMjU=","QnpudXA=","b3RrR28=","Ukh3VEk=","eGZzR2Y=","IDI4O15J","Rk96cG0=","ZmxvYXQ=","IDIwIDExIDAyWQ==","Z0pCSWg=","YWJz","JSpaTQ==","MTY1Ig==","VFN2SkY=","UyAxNEVC","JEMsIDMy","TWF0aA==","IDMyPGAgMjU=","PSAyNENh","VHJoclQ=","cWRz","IDIyIDMwIDE3UQ==","IDE3VSAyNE0=","Sm9lQXQ=","XTcgMDU0","Uz9aYw==","LiAxNjc5","SHBMdEQ=","LWMgMTdJ","ZnVuY3Rpb24=","QW9kWHc=","TXFXaUc=","Mk1EIDE1","UEpBTWI=","US1ITg==","ZXZlcnk=","emlsUmk=","QmFJam0=","NlVNSw==","L0InIDI1","IDIxIDI4IDE5Yg==","b25sb2Fk","UXdPR08=","QDYgMTE1","TkJMTHY=","MTlLIw==","ZmpBbmo=","SCAwMCAyM0Y=","IDEyVV4gMTQ=","dXNlckFnZW50","PSAwMDcgMDI=","IDMxIDE1O04=","VUh4Z2k=","dVpKQVI=","Zk5OZWM=","X21lbWNweQ==","IDMwYj4gMDg=","Qzk4Lw==","ZG9tYWlu","NiU0YA==","UEVNU3M=","VHVnc3E=","WkNYUmc=","ZG91Ymxl","U01hQXc=","IDEzIDE4XEU=","U01sRFo=","c2VuZA==","cHJlUnVu","MiAwM1wh","c3RhcnRzV2l0aA==","MCAxOSAzMiAxNw==","IDEzQ14gMDk=","M0hNIDA1","IDI3KCAyMFI=","IDMwIDIzMVE=","cmZQVG8=","NyAyN1sgMjk=","IDAxIDA1PD1H","dGhpc1Byb2dyYW0=","IDI5YCAzMS4=","QnlDaFk=","Y2FsbA==","aVBPb3E=","OEhhQA==","IDMyKlA9","c3RhY2tTYXZl","aEVVR3k=","aWFESmc=","YjU9UA==","d3JNdlI=","QCwxIDI4","WFZHLA==","IDI0JCAxMTI=","YnVmZmVy","W29iamVjdCBwcm9jZXNzXQ==","cXFQSG0=","IDMxIDMxV2M=","IDAxIDAxIDI2IDIwIDE3","IDI2JlEgMjI=","KSAxMiAwOGA=","RHJvVXc=","MisgMjJZ","Ky5EIDIz","cHJpbnRFcnI=","KFUgMTNf","N2MgMDJe","IDE3SCwgMTE=","O11WIDE1","eU5kYVM=","IDE2YSMv","QiAzMiAxMUM=","Ik4iIDI3","XCAxMyAxOFE=","ekJaT2M=","TF0pQw==","d0FRbWs=","QVVrYkU=","QSljIDIy","c3RhY2tBbGxvYw==","IDIxJjQ8","dkN1QUI=","VUcgMjE2","IDI1SSMgMDI=","VnpHY0I=","JCAxNjggMTY=","IDIwVSYgMDI=","IDMyIDIyJVA=","aGlzdG9yeQ==","JEsgMjMgMjI=","IDA5Vzol","Kl0vYw==","OCAxNTNF","JUsgMzBG","IDMyPDY4","X2ZyZWU=","IDI0Ylch","Y3pTTXE=","Ij0gMDdV","eElRcXU=","JiAxMiQgMTg=","Um1Zako=","bml1Qm4=","IyAwODot","ME8zLA==","IDI3IDI2SiAwMg==","OyAxNyAwNT8=","SlxjKw==","dkRUWXI=","JSAyNTJF","aFp2anI=","bVNVUEs=","RWhaZVg=","WEN1UHI=","WWFCWmQ=","eVh5Rkg=","MCAxMyAwOVE=","T3dMUk8=","LSAxNTxY","IDA2S1Yj","SFZzRmc=","OSAwNkZY","Uk5JckY=","SEVBUDMy","OEZYIDE3","L05bTQ==","P0s+Vw==","Wk1iY1c=","Z25Qcm8=","RiAzMlpH","aHRYWlU=","NFIgMjBI","LSAwMVwz","RCAwMzw+","VHVzcFY=","QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0=","Q1tdIDAx","bmF2aWdhdG9y","IVc7VA==","IDI0TiAwNCAwMA==","IDEyVV4gMDA=","TG1yU04=","RXp2bWs=","ZnVuYw==","cHJvY2Vzcw==","IDAxIDA2IDAyIDE1Lw==","UHhEaXU=","IDE5LSg8","alNrTnc=","SkVibUc=","RFJGWHg=","RTYgMjle","QkxYWw==","cHVLVW4=","IDAxIDMwWiAxODI=","IDIzVzpQ","bmtqc2c=","WU5NQlI=","c1lyanY=","Y2x6MzI=","SHZWbFo=","SGpsWVU=","KzpQMQ==","IDMyX0k1","RUpOV04=","IDAxIDEyOV03","QiAwOUkgMDg=","TW14Q0c="];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_qda,269);var _qdb=function(e,t){e-=0;var i=_qda[e];void 0===_qdb.zJmtVh&&(!function(){var e=function(){var e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(t){e=window}return e}();e.atob||(e.atob=function(e){for(var t,i,a=String(e).replace(/=+$/,""),n="",r=0,o=0;i=a.charAt(o++);~i&&(t=r%4?64*t+i:i,r++%4)?n+=String.fromCharCode(255&t>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return n})}(),_qdb.DDxtVa=function(e){for(var t=atob(e),i=[],a=0,n=t.length;a<n;a++)i+="%"+("00"+t.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(i)},_qdb.Ekspgf={},_qdb.zJmtVh=!![]);var a=_qdb.Ekspgf[e];return void 0===a?(i=_qdb.DDxtVa(i),_qdb.Ekspgf[e]=i):i=a,i};_qdc()},function(e,t,i){var a;void 0!==(a=function(e,t,a){function n(){var e=new Date;return e.getFullYear()+""+(e.getMonth()+1)+e.getDate()}function r(){var e=c.read(v),t=n(),i=0;return e&&(e=e.split("|"),t=e[0],i=parseFloat(e[1])),{day:t,totalTime:i}}function o(e){var t=r(),i=n();t.day===i?t.totalTime+=e:t.totalTime=e,c.write(v,i+"|"+t.totalTime)}var s,d,u=i(0),l=i(2),c=i(14),f=i(1),_=i(28),h=i(30),p=i(5),b=i(8),g=i(13).CORE_TYPES,v="QiyiPlayerTimePlayedInDay",m=new f("AdApi"),y=!1,x=0,k=u("adBussiness",{construct:function(e,t){var i=this;e.on(g.NTF_AD_NotifyManager,function(e){i.fire(e)})},extend:l,methods:{}}),w=u("adapi",{construct:function(e,t,i){var a,n=this;n._isVip=!1,n._disableVideoOP=!1,n._user=p,n.bussiness=new k(t,i),n._container=e,s=t,d=i;var r=function(e,t){var i={type:e,gas:n.getCurrentGas()};t&&(i.data=t,t.gas&&(i.gas=t.gas)),n.fire(i)};s.on(g.NTF_StatusChanged,function(e){switch(e.data.state){case g.Status_AdLoadstart:r("loadstart",e.data);break;case g.Status_Ready:r("ready",e.data);break;case g.Status_Play:r("play",e.data);break;case g.Status_AdPlaying:case g.Status_Playing:r("playing",e.data);break;case g.Status_AdPaused:case g.Status_Paused:r("pause",e.data);break;case g.Status_AdWaiting:case g.Status_Waiting:r("waiting",e.data);break;case g.Status_AdError:case g.Status_PlayError:r("error",e.data);break;case g.Status_AdStalled:r("stalled",e.data);break;case g.Status_AdPlayEnded:case g.Status_End_Play:r("ended",e.data)}}),s.on(g.NTF_Before_Seeking,function(e){var t=e.data;y=t.isAd,x=t.currentTime});var u=0;s.on(g.NTF_AD_TimeUpdate,function(e){clearTimeout(u),u=setTimeout(function(){r("timeupdate",e.data)},0)}),s.on(g.NTF_AD_Seeking,function(e){var t=e.data;t.isAD=s.isAd(),t.beforeIsAD=y,t.beforeSeek=x,r("seeked",t)}),s.on(g.NTF_Seeking,function(e){var t=e.data;t.isAD=s.isAd(),t.beforeIsAD=y,t.beforeSeek=x,r("seeked",t)}),s.on(g.NTF_AD_Seeked,function(e){var t=e.data;t.isAD=s.isAd(),t.beforeIsAD=y,t.beforeSeek=x,t.actionType="controls",r("afterSeeked",t)}),s.on(g.NTF_Seeked,function(e){var t=e.data;t.isAD=s.isAd(),t.beforeIsAD=y,t.beforeSeek=x,t.actionType="controls",r("afterSeeked",t)}),s.on(g.NTF_TimeUpdate,function(e){r("timeupdate",e.data);var i=t.getCurrenttime(),n=i-a;a&&n>0&&n<1&&o(n),a=i}),_.on("change",function(e){r("exit"===e.data?"exitfullscreen":"fullscreen")}),p.on("infoset",function(){p.isVip(function(e){n._isVip=e})})},extend:l,methods:{load:function(e){var t=this;e.file&&!isNaN(e.offset)&&e.offset>=0?t.bussiness.fire({type:"_playdata_",data:e}):m.warn("load error data parameter: "+f.stringify(e))},getEngineType:function(){var e=s.getEngineType().toLowerCase();return"qvs"===e&&(e="data"),e},getCurrentGas:function(){return s.getCurrentGas()},abort:function(){s.abortAres()},isVIP:function(){return this._isVip},getUserInfo:function(){var e=!1;return this._user.isVip(function(t){e=t}),{isVIP:e,passportCookie:this._user.passportCookie(),passportId:this._user.getUid(),isLogin:this._user.isLogin(),uaaUserId:b.getFluid()||b.getJsuid()}},adcontainer:function(){return this._container},video:function(){return s.video()},isPaused:function(){return s.isPaused()},play:function(e){this._disableVideoOP||s.play(e)},pause:function(e){this._disableVideoOP||s.pause(e)},addEventListener:function(e,t){this.on(e,t)},removeEventListener:function(e,t){this.un(e,t)},src:function(e){if(s){if(1!==arguments.length)return s.getSrc()||"";m.error("mw is not support set src!")}else m.error("core is null")},volume:function(e){if(s){if(!e)return s.getVolume();s.setVolume(e)}else m.error("core is null")},muted:function(e){if(s){if("boolean"!=typeof e)return s.getMuted();s.setMuted(e)}else m.error("core is null")},height:function(){return d?d.videoWrapper.height():0},width:function(){return d?d.videoWrapper.width():0},currentTime:function(){return s.getCurrenttime()},duration:function(){return s.getDuration()},buffered:function(){return s.getBufferTime()},sendUserActionPingback:function(e){d.sendUserActionPingback(e)},fullscreentoggle:function(){_.toggle()},isFullScreen:function(){return _.isFullScreen()},webfullscreentoggle:function(){h.toggle()},isWebFullScreen:function(){return h.isWebFullScreen()},videoPlayedDurationInDay:function(){return r().totalTime}}});a.exports=w}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(2),o=i(0),s=i(33),d=(i(5),i(1)),u=i(4),l=i(3),c=i(9),f=i(6),_=i(10),h=i(7),p=i(46),b=(i(84),i(16)),g=i(23),v=i(48),m=i(49),y=i(66),x=(i(14),i(34)),k=i(85),w=i(86),S=i(92),T=i(96),A=i(26),I=i(100),E=i(42),P=i(35),D=i(62),q=i(101),O=i(102),R=i(22),L=i(58),M=i(59),C=i(71),F=i(103),N=i(40),V=i(39),U={},B=new d("core");a.exports=o("core",{construct:function(e,t,a){var r=this;g.psdkistm=+new Date;var o="",s=f.get("QP0016"),d=c.query("__playerengine__"),_=y.flag()&&y.canaryUserPercent(t.tvid),m=!(u.os.ios||u.os.android),k=t.feedMode&&!0===t.feedMode;if(d?o=d:_&&m&&!k?(o="qvs",V.closeBit(1,37),V.openBit(4,3)):s&&(o=s),"qvs"===s&&f.remove("QP0016",{path:"/",domain:".iqiyi.com"}),"qvs"===o){var A=c.query("__qvs_manifest__");A?"f4v"===A?(V.closeBit(1,37),V.closeBit(4,3)):V.openBit(1,37):h.isTWLocale()&&(V.closeBit(1,37),V.closeBit(4,3))}r._plyct=t.plyct||+new Date,r.canFireVideoEvts=!0,r.autoplay="boolean"!=typeof t.autoplay||t.autoplay,r.h5vars=t,r.holders=l(E,a,!0),r._firstPlay=!0,r._ADfirstPlay=!0,r._vdsSwitch=!1,r._isSkipAD=!0,r._videolist=N.getVideoList(),r._movieinfo=null,r._skipHT=0,r._skipTT=0,r._aresloaded=!1,r._playingDuration=0,r._playingSpend=0,r._preplaying_spend=0,r._timeMark=0,r._loadTimePoint=0,r._switchVideoType=0,r._isNew=!0===t.isNew,r._isSource=t.isSource||"0",r.picInPic=!1,r.isPaoPaoFeed=t.isPaoPaoFeed,r.isSmallWindowMode=t.isSmallWindowMode||!1,r._preMovieInfo={tvid:t.tvid,vid:t.vid},r.__canGetVideoInfo=!1,D.setVars(t),R.init(r),L.init(r),M.init(r),setTimeout(function(){h.isTWLocale()&&F.init(r)},0);var P=window.location.href;if(-1!==P.indexOf("vfm")){-1===P.indexOf("=")&&(P=decodeURIComponent(P));var O=c.query(P,"vfm");""!==O&&f.set("QP005",O)}switch(b.pgct=t.pgct||new Date,b.usedTime_selfLoaded=new Date-b.pgct,b.browserType=t.browserType,b.pageTmpltType=t.pageTmpltType,g.psdklstm=t.pgct||+new Date,g.psdkletm=+new Date,r.autoplay?b.sTime_showVideo=b.usedTime_selfLoaded:b.needRecord=!1,R.setPbInfo({vfm:t.vfm,vfrm:t.vfrm,vvfrom:t.videoIsFromQidan}),r.eventlog.vrspreready=!1,r._recorder=new q(r),x.remove(x.PLAYER_TEMP_VD_KEY),""===o&&(o=!p||!u.browser.CHROME&&!u.browser.FIREFOX||u.os.ios||u.os.android?p&&(V.hasBit(4,3)||V.hasBit(1,37)||V.hasBit(1,42))&&!u.os.ios&&!u.os.android?"qvs":"http":"data",u.os.android&&u.browser.CHROME&&u.browser.version>=67&&parseInt(u.os.version)>4&&h.isTWLocale()&&(o="data"),t.feedMode&&!0===t.feedMode&&(o="data",x.write(x.PLAYER_TEMP_VD_KEY,96))),o){case"qvs":r._engine=new T(e,r.h5vars);break;case"data":r._engine=new S(e,r.h5vars);break;case"http":r._engine=new w(e,r.h5vars);break;default:r._engine=new w(e,r.h5vars)}"qvs"==o&&y.canaryAutoVd()&&!h.isTWLocale()&&(r._engine.setAutoVdEnabled(!0),r._engine.setAutoVdUsing(!0)),B.log("core player createEngine,params: engine = "+r.getEngineType().toLowerCase()),r._engine._aresmw||"data"!==o&&"qvs"!==o||setTimeout(function(){r.setAresMW(v.get())},0),r._emitter=new I(r),r._engine.assemble(),("1"==t.isMute||t.masflag)&&r.setMuted(!0),n=i(h.isTraditionalChinese()?60:61)},extend:r,props:{eventlog:{},currStatus:"",errorcode:null},methods:{load:function(e){var t=this;if(!t._movieinfo||t._movieinfo.tvid!=e.tvid||t._movieinfo.vid!==e.vid){parseInt(e.tvid,10)<9e7&&B.error("Core Player load movie info error,params: msg = "+e.tvid+"is not invalid qipu id"),t._loadTimePoint=(new Date).getTime(),t._preMovieInfo=t._movieinfo,t._movieinfo=new O,t._movieinfo.tvid=e.tvid,t._movieinfo.vid=e.vid,t._movieinfo.imageLoader=e.imageLoader||"",t.adWholeCorner=!1,t.h5vars.share_sTime||t.h5vars.share_eTime||(t._st=!0),t._st||(t._movieinfo.share_start_time=t.h5vars.share_sTime&&parseInt(t.h5vars.share_sTime,10)<0?0:parseInt(t.h5vars.share_sTime),t._movieinfo.share_end_time=t.h5vars.share_eTime?parseInt(t.h5vars.share_eTime):void 0,t.h5vars.share_eTime&&!t.h5vars.share_sTime&&(t._movieinfo.share_end_time=parseInt(t.h5vars.share_eTime),t._movieinfo.share_start_time=0),t._st=!0),e.cid&&(t._movieinfo.adPlayerID=e.cid);var i=t._getVideoIndexInList(e.tvid),a=t._videolist;a.length>0&&a[i]&&a[i].moduleName?t._movieinfo.moduleName=a[i].moduleName:t._movieinfo.moduleName="",t._movieinfo.ares=!_.isBool(e.ares)||e.ares,B.info("load movieInfo,info,params: tvid = "+t._movieinfo.tvid+",vid = "+t._movieinfo.vid+", adPlayer = "+e.ares),t._firstPlay=!0,t._ADfirstPlay=!0,t.setStartPlayTime(0),U.__sendTmtsRPB||(U.__sendTmtsRPB=!0),t._engine.updateMovieInfo(t._movieinfo)}},checkPreload:function(){var e,t,i,a,n,r,o=this,s=o.getEngineType(),d=!0;"DATA"===s?(e=o.getMovieInfo(),t=o.getCurrenttime(),i=o.getDuration(),d=d&&!o.isAd(),d=d&&o.hasNextVideo(),d=d&&o._engine.pbDone(),d=d&&e.previewTime===1/0,(d=d&&i-t>=5)&&(a=o._getVideoIndexInList(e.tvid),-1===a&&(a=o._getVideoIndexInList(e.oldTvid)),n=o._videolist[a+1].tvid,r=o._videolist[a+1].vid,o._engine.preload(n,r))):"QVS"===s&&(e=o.getMovieInfo(),t=o.getCurrenttime(),i=o.getDuration(),d=d&&!o.isAd(),d=d&&o.hasNextVideo(),d=d&&o._engine.endOfDown(),d=d&&e.previewTime===1/0,(d=d&&i-t>=5)&&(a=o._getVideoIndexInList(e.tvid),-1===a&&(a=o._getVideoIndexInList(e.oldTvid)),n=o._videolist[a+1].tvid,r=o._videolist[a+1].vid,o._engine.preload(n,r)))},refresh:function(){var e,t,i,a=this;a._movieinfo&&(e=a._movieinfo.tvid,t=a._movieinfo.vid,i=a._movieinfo.adPlayerID,a._movieinfo=null,a._engine.clearData(),a._engine.reset(),B.log("Core Player refresh"),a.fire({type:A.NTF_VideoRefresh}),m.destroy(),a.load({tvid:e,vid:t,cid:i,autoplay:!0,ares:!0}))},setAres:function(e){this._engine.setAresSDK(e)},getAres:function(){return this._engine.getAresSDK()},setAresMW:function(e){this._engine.setAresMW(e)},getCurrentGas:function(){return this._engine.getCurrentGas()},abortAres:function(){this._engine.abortAres()},abortAllAres:function(e){this._engine._abortAllAres(e)},abortAllAresAndSeek:function(e,t){this._engine._abortAllAres(e),this._engine.seek(t)},getEngineType:function(){var e="";return this._engine instanceof w?e="HTTP":this._engine instanceof S?e="DATA":this._engine instanceof T&&(e="QVS"),e},_getdata:function(){var e=this,t={},i=e.getMovieInfo();return t.tvid=i.tvid,t.vid=i.vid,t.albumId=i.albumId||"",t.cid=i.cid||"",t.duration=i.duration||"",t.privateVideo="0",t.origin="",t.playerVersion=e.holders.playerVersion,t},video:function(){return this._engine.video()},play:function(e){this._engine.play(e)},pause:function(e){this._engine.pause(e)},isPaused:function(){return this._engine.isPaused()},replay:function(){this._engine.replay()},seek:function(e,t,i){var a=this,n=a._engine.getDuration();B.log("Engine:seek("+e+"), duration ("+n+"),isManualAction="+t),a.fire({type:A.NTF_Before_Seeking,data:{currentTime:a.getCurrenttime(),isAd:a.isAd()}}),a._engine.seek(e,t,i)},isSeeking:function(){return this._engine.isSeeking()},switchAutoChangeVd:function(e){var t=this;t.autoChangeVdinfo=e?{tvid:t.getMovieInfo().tvid}:{}},isAutoChangeVd:function(){var e=this;return e.getMovieInfo()&&e.autoChangeVdinfo&&e.getMovieInfo().tvid===e.autoChangeVdinfo.tvid},switchDefinition:function(e,t){var i=this;if((e!==i._engine.getCurrentVD()||i.autoVdUsing())&&(e!==i.autoVdValue()||!i.autoVdUsing()&&i.autoVdEnabled())){if(e===i.autoVdValue())return i._engine.switchVD(e,t),B.log("definition changed: "+e),i.fire({type:A.NTF_DefinitionSwitching,data:{vd:e,isManualAction:t}}),void i.fire({type:A.NTF_DefinitionSwitched,data:{curVD:e,success:!0,isManualAction:!0}});i._vdsSwitch=!0,i.fire({type:A.NTF_DefinitionSwitching,data:{vd:e,isManualAction:t}}),i.switchAutoChangeVd(!t),i._engine.switchVD(e,t)}},isSwitchingDefinition:function(){return this._vdsSwitch},switchAudioDefinition:function(e){var t=this;if("QVS"===t.getEngineType()){if(t._movieinfo.currentLid===e)return;t.fire({type:A.NTF_AudioSwitching,data:e}),t._engine.switchAudioTrack(e)}},getAudioTracks:function(){return this._engine.getAudioTracks()},setAudioTracks:function(e){},getBufferTime:function(){return this._engine.getBufferTime()},getCurrenttime:function(){return this._engine.getCurrenttime()},getPlayingDuration:function(){return this._playingDuration},getSkipHeaderTime:function(){return this._skipHT},getSkipTailTime:function(){return this._skipTT},isSkipPrelude:function(e,t){var i=P.isSkipPrelude();if("boolean"!=typeof e)return i;i!=e&&(P.isSkipPrelude(e),!0!==t&&this._engine.skipPrelude(e))},setStartPlayTime:function(e,t){this._engine.setStartPlayTime(e,t)},getStartPlayTime:function(){return this._engine.getStartPlayTime()},getEndPlayTime:function(){return this._engine.getEndPlayTime()},getDuration:function(){return this._engine.getDuration()},getVolume:function(){return this._engine.getVolume()},setVolume:function(e){this._engine.setVolume(e),this.video().muted=!1},setMuted:function(e){var t=this._engine.getVolume();this._tempvolume=t>0?t:this._tempvolume||.6,e?this._engine.setVolume(0):(this._engine.setVolume(this._tempvolume),this.video().muted=!1)},getVideoMuted:function(){return this.video().muted},getMuted:function(){return 0===this._engine.getVolume()},getVipTypes:function(){return this.getMovieInfo().vipTypes},getPlayInfo:function(e){var t=this;t._getpcall=t._getpcall||[],t._getpcall.push(e);var i=function(){var e={},i=t.getMovieInfo();e.tvid=i.tvid,e.vid=i.vid,e.cid=i.cid,e.albumId=i.albumId,e.duration=t._engine.getDuration(),e.playerVersion=t.holders.playerVersion,e.rate=t._engine.getCurrentVD(),e.vidl=t._engine.getVidl(),e.previewImageUrl=i.previewImageUrl,e.audl=i.audl;var a=t._getpcall.slice(0);t._getpcall=[];for(var n=0;n<a.length;n++)a[n]&&function(t){setTimeout(function(){t(e)},0)}(a[n]);a=null};t._movieinfo?i():t.on(A.NTF_VRSReady,i)},getCurrentVD:function(){return this._engine.getCurrentVD()},getRealArea:function(){return this._engine.getRealArea()},getMovieInfo:function(){return this._movieinfo||{}},_canGetVideoInfo:function(e){var t=this;t.__canGetVideoInfo=e,e&&t.getVideoInfo(function(e){e&&e.sid&&(t._movieinfo.sid=e.sid,t._movieinfo.albumId=e.sid)})},getVideoInfo:function(e){var t=this;if(!t.__canGetVideoInfo){var i=t.getMovieInfo();return void setTimeout(function(){e({tvid:i.tvid,vid:i.vid,albumId:i.albumId,cid:i.cid,vi:{vid:i.vid,videoQipuId:i.tvid}})},0)}var a=t._movieinfo||t._preMovieInfo;R.setCurrentVD(t._engine.getCurrentVD()),L.setCurrentVD(t._engine.getCurrentVD()),s.get({tvid:a.tvid,vid:a.vid,locale:h.isTraditionalChinese()?"zh_tw":""},function(t){e(t)})},getdefaultvds:function(){return[{vd:96,value:n.definition_name_limit},{vd:1,value:n.definition_name_standard},{vd:2,value:n.definition_name_high},{vd:3,value:n.definition_name_superhigh},{vd:4,value:n.definition_name_720p},{vd:5,value:n.definition_name_1080p},{vd:10,value:n.definition_name_4k},{vd:27,value:n.definition_name_1080P50},{vd:-1,value:n.definition_name_auto}]},getTypeByValue:function(e){for(var t,i=this.getdefaultvds(),a=0;a<i.length;a++)i[a].vd===e?t=i[a].value:i[a].value===e&&(t=i[a].vd);return t},autoVdValue:function(){return this._engine.autoVdValue},getSrc:function(){return this._engine.getSrc()},getCurrStatus:function(){return this.currStatus},isNew:function(){return this._isNew},isAd:function(){return this._engine.isAd()},getInfoFromVideoList:function(e,t){return N.getViFromVl(e,t)},_getVideoIndexInList:function(e){return N.getVideoIndexByTvid(e)},addVideoList:function(e){var t=this,i=e.list||[],a=N.addVideoList(i);t._videolist=N.getVideoList();var n=a.logList;a.listChanged&&(B.log("addVideoList: ["+n.join()+"]"),n.splice(0,n.length),t.fire({type:A.NTF_VideoListChanged,data:a.list}),t.checkPreload()),t.fire({type:A.NTF_ADDVideoList,data:e})},addPlayListView:function(e){var t=this;e.request=!0,t.fire({type:A.NTF_ADDVideoList,data:e})},removeVideoList:function(e){var t=this,i=e.list;N.removeVideoList(i),t._videolist=N.getVideoList(),t.fire({type:A.NTF_VideoListChanged,data:t._videolist}),t.fire({type:A.NTF_REMOVEVideoList,data:t._videolist})},_switchVideoAction:function(e){var t=this,i=!0===e.autoSwitch&&!!t._engine.hasPreload(e.tvid,e.vid);if(e.tvid=k(e.tvid),parseInt(e.tvid)===parseInt(t.getMovieInfo().tvid))return void B.info("switch video,params: data = "+d.stringify(e)+"    switch fail : Tvid is same");R.sendEndPlayPingback(i?1:2),L.sendEndPlayPingback(i?1:2);var a=t.getMovieInfo();e.tvid!==a.tvid&&(i||(t._engine.pause(),t._engine.clearData(),C.removeAll(),C.add(A.Status_Idle)),t._preplaying_spend=t._playingSpend,t._playingSpend=0,"DATA"===t.getEngineType()&&t._engine.hasSwitchPage()&&e.pageUrl&&(window.location.href=e.pageUrl),m.destroy(),function(){e.autoSwitch=i;var t="\nswitch video:"+d.stringify(e),a="\n"+new Array(t.length).join("-");B.log(a+t+a)}(),t.load({tvid:e.tvid,vid:e.vid,imageLoader:e.imageLoader}))},switchVideo:function(e){function t(){var e=i._switchActions.length;if(e>0){var t=i._switchActions[e-1];i._switchActions.splice(0,e),i._switchVideoAction(t)}}var i=this,a=i.getEngineType();if(e)switch(a){case"HTTP":i._switchVideoAction(e);break;case"DATA":i._switchActions=i._switchActions||[],i._switchActions.push(e),0===i._loadTimePoint||(new Date).getTime()-i._loadTimePoint>1e3?t():i._fixSwitchTimmer||(i._fixSwitchTimmer=setTimeout(function(){t(),i._fixSwitchTimmer=null},1e3));break;case"QVS":i._switchVideoAction(e)}},switchNextVideo:function(e){var t=this,i=t._getVideoIndexInList(t.getMovieInfo().tvid),a=t._videolist;if(t._switchVideoType=e,-1===i&&(i=t._getVideoIndexInList(t.getMovieInfo().oldTvid)),-1===i&&a.length>0||i>-1&&a[i+1]){var n=a[i+1].pageUrl?a[i+1].pageUrl:null;t.switchVideo({autoSwitch:0===e,tvid:a[i+1].tvid,vid:a[i+1].vid,imageLoader:a[i+1].imageLoader,pageUrl:n})}},switchPreVideo:function(){var e=this,t=e._getVideoIndexInList(e.getMovieInfo().tvid),i=e._videolist;-1===t&&(t=e._getVideoIndexInList(e.getMovieInfo().oldTvid)),t>-1&&i[t-1]&&e.switchVideo({tvid:i[t-1].tvid,vid:i[t-1].vid,imageLoader:i[t-1].imageLoader})},getVideoListLength:function(){return(this._videolist||[]).length},hasNextVideo:function(){var e=this,t=e.getMovieInfo(),i=e._getVideoIndexInList(t.tvid),a=e._videolist;return-1===i&&(i=e._getVideoIndexInList(t.oldTvid)),!!(-1===i&&a.length>0||i>-1&&a[i+1])},getNextVideo:function(){var e=this,t=e._getVideoIndexInList(e.getMovieInfo().tvid),i=e._videolist,a="",n="";if(-1===t&&(t=e._getVideoIndexInList(e.getMovieInfo().oldTvid)),-1===t&&i.length>0||t>-1&&i[t+1]){var r=i[t+1];a=r.imageUrl,n=r.title,B.log("nextVideoInfo: "+JSON.stringify(r))}return{imageUrl:a,title:n}},checkADSkipped:function(){return!!this._isSkipAD},getPoster:function(){var e=this,t="";return e.getVideoInfo(function(e){t=e.vpic}),t},pbVisualizer:function(){var e=this;"DATA"===e.getEngineType()&&e._engine.pbVisualizer()},pbLog:function(){var e=this;"DATA"===e.getEngineType()&&e._engine.pbLog()},pbVersion:function(){try{return this._engine.pbVersion()}catch(e){return""}},isTryWatch:function(){return this._engine.isTryWatch()},getPreviewType:function(){return parseInt(this.getMovieInfo().previewType||-1,10)},getPreviewTime:function(){return this._engine.getPreviewTime()},getPreviewTipType:function(){return parseInt(this.getMovieInfo().authTipType||-1,10)},getSwitchVideoType:function(){return this._switchVideoType},recharge:function(e,t){this._engine.recharge(e,t)},jsNotifyAdManager:function(e){var t=this,i=function(){t.fire({type:A.NTF_AD_NotifyManager,data:e})};t._aresloaded?i():t.on(A.Status_AdLoaded,function(){i()})},hasStatus:function(e){return C.has(e)},setPbisdm:function(e){R.setPbisdm(e)},destroy:function(){var e=this;e._engine&&(e._engine.clearData(),e._engine.reset(),e._engine.destroy()),L.destroy(),R.destroy()},setHolder:function(e,t){this.holders[e]=t},blockVideoEvents:function(){this.canFireVideoEvts=!1},resumeVideoEvents:function(){this.canFireVideoEvts=!0},userGesturePlayed:function(){this._engine.userGesturePlayed()},getPlaybackRate:function(){return this._engine.getPlaybackRate()},setPlaybackRate:function(e){this._engine.setPlaybackRate(e)},getPageTmpltType:function(){return b.pageTmpltType},getCurrentDefinitionAd:function(){var e=this;return"DATA"===e.getEngineType()?e._engine.getDefinitionAd(e._movieinfo.videoQipuId):""},setInPicture:function(e){this.picInPic=e},getPicInPic:function(){return this.picInPic},getCurrManifestType:function(){var e=this;return"QVS"===e.getEngineType()?e._engine.getCurrManifestType():null},getManifestTypes:function(){var e=this;return"QVS"===e.getEngineType()?e._engine.getManifestTypes():{}},getCurrLoaderMode:function(){var e,t=this,i=t.getEngineType();switch(i){case"QVS":e=t._engine.getCurrLoaderMode();break;case"HTTP":e="HTTPCDN";break;case"DATA":e="OLDP2P"}return e},getDataBufferInfo:function(){var e=this;return"QVS"===e.getEngineType()?e._engine.getDataBufferInfo():null},setSmallWindowMode:function(e){var t=this;t.isSmallWindowMode=1===e},getDownloadSpeed:function(){var e=this;return"QVS"===e.getEngineType()?e._engine.getDownloadSpeed():null},autoVdEnabled:function(){return this._engine.autoVdEnabled()},autoVdUsing:function(){return this._engine.autoVdUsing()},autoVdAlgot:function(){return this._engine.autoVdAlgot()},getVBR:function(){return this._engine.getVBR()},setPlayPingbackInfo:function(e){R&&R.setPlayPingbackInfo(e),L&&L.setPlayPingbackInfo(e)}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){i.exports=function(){return!!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)}()}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){function a(e){var t=parseInt(e,10);return t<9e7&&(t=100*(t+9e5)),t}i.exports=a}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(1),o=i(17),s=i(10),d=i(5),u=i(15),l=i(6),c=i(4),f=i(33),_=i(7),h=i(14),p=i(34),b=i(24),g=i(9),v=i(3),m=i(50),y=i(90),x=i(91),k=i(20),w=i(19),S=i(27),T=i(40),A=new r("httpEngine"),I=null,E=!1;a.exports=n("httpEngine",{extend:m,construct:function(e,t){var i=this;Object.defineProperty(e,"playbackRate",{set:function(e){},get:function(){}}),i._video=e,i._sdkloaded=!1,y.init(i),i.tryCount=2},methods:{assemble:function(){this.fire({type:k.Status_Assembled,data:{}})},_loadAdSdk:function(){var e=this,t=e._param.h5AdPadSrc;"undefined"==typeof aresPad?t&&""!==t?u.seriesLoadScripts(t,function(t){t&&"undefined"!=typeof aresPad?(e.fire({type:"aresloaded"}),e._sdkloaded=!0,A.log("ares version: "+aresPad.version)):A.error("H5 http ad sdk load error!")}):A.error("params ares src is null. "):e._sdkloaded=!0},getAresSDK:function(){return this._aresdk},_initAres:function(e){var t,i,a=this,n=e||a._movieinfo,r=(T.getViFromVl(n.tvid,n.vid),navigator.userAgent.match(/miuivideo\//i)||c.os.android&&parseInt(c.os.version)>4&&navigator.userAgent.match(/MiuiBrowser/i));i=c.browser.iPad?"ipad":c.browser.iPhone?"iphone":c.os.androidTablet?"gpad":c.os.androidMobile?"gphone":"ipad";var s=c.browser.iPad||c.browser.iPhone||c.os.android&&parseFloat(c.os.version)>4||r?"m3u8":"mp4";a._pMode=s,t=c.browser.iPad?_.isTWLocale()?"qc_105136_100639":"qc_100001_100103":c.browser.iPhone?_.isTWLocale()?"qc_105136_100638":"qc_100001_100102":c.os.androidMobile?_.isTWLocale()?"qc_105136_100640":"qc_100001_100186":_.isTWLocale()?"qc_105136_101044":"qc_100001_101043",a._param.cid&&"qc_105045_100459"==a._param.cid&&(t=a._param.cid),f.get({tvid:n.tvid,vid:n.vid},function(e){d.isVip(function(r){var u=n.tvid+"",f={playerId:t,tvId:u,vId:n.vid,userId:l.get("QC006"),passportId:d.getUid(),resIndex:n.vd,albumId:e.albumId||"",deviceType:i,videoEventId:o.generate(u),location:location.href,channelId:e.cid||"",duration:n.duration||"",locale:a._param.local,formatType:s,isVip:r,passportCookie:d.passportCookie(),couponCode:a._param.cpnc||"",couponVer:a._param.cpnv||"",ptid:c.getPtid(_.isTWLocale())};window.CupidPadAdSdk&&(a._aresdk=new CupidPadAdSdk(a._video,f),a.fire({type:k.NTF_ARES_Load}))})})},_initAdEvents:function(){function e(e){t._movieinfo.ares&&t._initAres(e)}var t=this;t.on(k.NTF_MovieInfoChange,function(e){var i,a=e.data.preMovieInfo,n=e.data.curMovieInfo;if(a)try{i=o.getEventId(a.tvid),A.debug("stop ares-> "+a.tvid,"videoEventId->"+i),t.getAresSDK().stop({videoEventId:i})}catch(e){}else n&&(i=o.getEventId(n.tvid),A.debug("destroy ares by refresh player-> "+n.tvid,"videoEventId->"+i),t.getAresSDK().destroy({videoEventId:i}))}),t.on(k.NTF_VRSPreloaded,function(i){t._preMovieinfo=i.data,e(i.data)}),t.on(k.NTF_ARES_End,function(e){t._abortAllAres(),t.isPaused()&&t.play()})},_initares:function(){var e=this;e._loadAdSdk(),e._sdkloaded?e._initAres():e.on("aresloaded",function(){e._initAres()})},loadMovie:function(e,t){var i=this;i._vdSwitch?(i._adDuration=0,i._preIdAll="",i._loadVMSData(e,t)):(i._resetVideo(),i._initAresStage(e,t))},_initAresStage:function(e,t){var i=this;i._initares(),i._aresInit||(i._aresInit=!0,i._initAdEvents()),i.on(k.NTF_ARES_Load,function(){var a=i.getAresSDK();a&&(a.off("noad"),a.on("noad",function(a){i._ads=[],i._preIdAll="",i.adEnded=!0,i._isAd=!1,i._adDuration=0,i._loadVMSData(e,t)}),a.off("ready"),a.on("ready",function(a){i.adEnded=!1;var n=a.data,r=[];if(n&&n.duration&&n.ads){n.ads.forEach(function(e){e.tvid?r.push(e.tvid+"_"+e.vid+"_"):r.push(e.vid+"_")}),i._preIdAll=r.join("-"),i._adDuration=n.duration}n&&!n.duration&&n.ads&&(i._ads=n.ads),i._isAd=!0,i._loadVMSData(e,t)}),a.off("roll-ended"),a.on("roll-ended",function(){i.adEnded=!0,A.debug("ad notice roll-ended"),"m3u8"===i._pMode?(i._video.currentTime=i._adDuration,A.debug("skip ares ->"+i._adDuration)):i.fire({type:k.NTF_ARES_End})}))})},_loadVMSData:function(e,t){var i=this;i._noticeDataStart(),i._loadVMS(e,t,function(){i._vdSwitch?i.setSrc(i._movieinfo.url,0,i._vdSwitchVideoPaused):(i._noticeDataReady(),i._noticeDataDone())},function(){i._noticeDataDone()})},setSrc:function(e,t,i){var a=this,n=a._pMode||"";if("mp4"===n){a._isAd=1===parseInt(t,10);var r=a._isAd?0:a.getStartPlayTime();a._isAd||(A.log("continue play time: "+r),a.enableSeek()),a.setDecodeSrc(e,r)}if("m3u8"===n){var o=a._isAd?0:a.getStartPlayTime()+a._adDuration;A.log("continue play time: "+o),a.setDecodeSrc(e,o)}i?a.pause():a.play()},_resetVideo:function(){var e=this;e.pause(),e.setDecodeSrc("",0)},isAd:function(){return this._isAd},_switchVD:function(e){var t=this;E=!0,I=e.bid,t.loadMovie(t.getEngineMovieInfo().tvid,e.vid)},_loadVMS:function(e,t,i,a){var n=this,r=n._preIdAll||"";n._movieinfo.tvid=e,n._movieinfo.vid=t,n._movieinfo.oldTvid=e;var o,u;E?(o=I,u=n._movieinfo.url,E=!1):(p.read(p.PLAYER_TEMP_VD_KEY)?(o=p.read(p.PLAYER_TEMP_VD_KEY),n.fire({type:k.NTF_LoadTempVd,data:{userVd:h.read(h.PLAYER_VD_KEY)||2,tempVd:o}})):o=h.read(h.PLAYER_VD_KEY)||2,o=b.getNewVd(o));var l=navigator.userAgent.match(/miuivideo\//i)||c.os.android&&parseInt(c.os.version)>4&&navigator.userAgent.match(/MiuiBrowser/i),m=c.browser.iPad||c.browser.iPhone||c.os.android&&parseFloat(c.os.version)>4||l?"m3u8":"mp4",y=function(e){if(null==e.data||!e.data.hasOwnProperty("st"))return A.error("movieinfo error,params:type = data.data null or st is lose"),w(),!1;var t=parseInt(e.data.st,10);if(!(100<t&&t<200)){switch(t){case 304:case 401:case 405:case 406:case 501:case 502:case 601:case 602:case 701:w(t);break;default:w("DEFAULT_ST")}return A.error("movieinfo error,params: st = "+t),!1}return!0},w=function(e){if(e){var t={DEFAULT_ST:1,MISSPARAM:1,A02500:1,A02510:1,A02511:1,A02512:1,A00003:1,A00010:1,A00114:1,A00115:1,A00301:1,A00302:1,A02801:1,A00001:2,A00101:2,A00004:6,A00005:6,A02501:6,A02502:6,A02503:6,A02592:6,A00113:7,A02591:7,Q00201:11,Q00202:11,Q00203:11,A02593:11,PLATFORM_MISMATCH:12,A00110:12,A00111:13,A00116:14,A00117:14,A00002:21,A00011:21,A00013:21,A02601:21,A02602:21,Q00501:22,A02603:22,P00001:101,P00002:102,304:10,401:10,405:10,406:10,501:12,502:13,601:14,602:14,701:14};n.brokedown(t[e],"ENGINE_HTTP_"+e,"6000")}a&&a()};e&&t?(A.log("load movieInfo from vrs,params: tvid = "+e+", vid = "+t),x.request({params:{cupid:n._movieinfo.adPlayerID,tvid:e,vid:t,ppt:n.isPPT(),ost:n.ost(),preIdAll:r,tryCount:n.tryCount-1,vd:o,switchvd:!1,prio:JSON.stringify({ff:m,code:-1}),src:c.getPtid(_.isTWLocale())}},function(e){try{if(!y(e))return;var t=!1;A.log("load movieInfo from vrs ok"),n._movieinfo.tvid=e.data.tvid?e.data.tvid:n._movieinfo.tvid,n._movieinfo.albumId=e.data.aid||n._movieinfo.albumId||"",n._movieinfo.duration=0,n._movieinfo.cid=e.data.cid,n._movieinfo.clientIp="",n._movieinfo.ugc=f.isUGC(n._movieinfo.tvid),n._movieinfo.isVIP=e.data.content.bossStatus>0,n._movieinfo.adVids=e.data.adVids||[],n._movieinfo.vipTypes=e.data.content.vipTypes;var a=!1;if(n._movieinfo.vipTypes&&n._movieinfo.vipTypes.length>0)for(var r=0;r<n._movieinfo.vipTypes.length;r++)1==n._movieinfo.vipTypes[r]&&(a=!0);n._movieinfo.prelude={headTime:-1,tailTime:-1},n._movieinfo.qiyiProduced=1===e.data.content.isProduced,n._movieinfo.exclusive=1===e.data.content.exclusive,n._movieinfo.logoOpen=!0,n._movieinfo.lowerLogoOpen=!0,n._movieinfo.topLogoOpen=!0,e.data.p.lgh&&(n._movieinfo.lowerLogoOpen=-1==e.data.p.lgh.indexOf(2)&&-1==e.data.p.lgh.indexOf("2"),n._movieinfo.topLogoOpen=-1==e.data.p.lgh.indexOf(1)&&-1==e.data.p.lgh.indexOf("1"));var l=e.data.p.wmarkPos||0;if(n._movieinfo.logoOpen=-1!=l,e.data.boss_ts){var c=e.data.boss_ts,_=c.code;switch(_){case"A00000":n._movieinfo.isTryWatch=1===parseInt(c.data.prv,10),n._movieinfo.previewType=c.previewType,n._movieinfo.isTryWatch&&"1"==c.previewType?n._movieinfo.previewTime=60*parseInt(c.previewTime,10)*1e3:n._movieinfo.isTryWatch&&"3"==c.previewType?n._movieinfo.previewTime=1e3*parseInt(c.previewTime,10):n._movieinfo.previewTime=1/0,n._movieinfo.authTipType=c.data.tip_type;break;case"Q00311":case"Q00312":return n.brokedown(22),w(_);default:var h={};h.vipMode="httpMode",d.checkVip(function(){if(d.isBanned())return n.brokedown(22),w();n._noticeRecharge(_),t=!0},h)}}if(t)return w();if(a&&(n._movieinfo.authTipType=10),e.data.program&&e.data.program.video){for(var p,x,k=e.data.program.video,S=0,T=k.length;S<T;S++){p=k[S],p.scrsz&&(x=p.scrsz.split("x"));var P={vid:p.vid,vd:b.getOldVd(p.bid),bid:p.bid,realArea:{width:x?x[0]:0,height:x?x[1]:0}};p.url&&(n._movieinfo.url=s.protocolRevise(p.url),n._movieinfo.duration=p.duration,o=P.vd),"mp4"===m&&p.mp4Url&&(n._movieinfo.url=s.protocolRevise(p.mp4Url),n._movieinfo.duration=p.duration,o=P.vd),n._movieinfo.vidl.push(P)}n._movieinfo.vidl.sort(function(e,t){return e.vd>t.vd}),n._movieinfo.vidl.unshift(n._movieinfo.vidl.pop())}if(E&&I!=o&&(n._movieinfo.url=u,o=n._movieinfo.vd,n.__switchToVd=o),!n._movieinfo.url)return A.log("movieInfo definition Error! url is undefined!"),w(e.code);var D=n._vd;if(n._vd=o=n._findBestPlayVd(o||null),n._movieinfo.vd=o||"",A.log("movieInfo definition,params: current = "+n._movieinfo.vd+", user = "+D+", ad from vrs = "+e.data.vd),n._movieinfo.isVIP&&n._movieinfo.url){var q={},O=n._movieinfo.url;q=g.query2Json(O);var R=g.filename(O);v(q,{filename:R,tvid:n._movieinfo.tvid,aid:n._movieinfo.albumId})}}catch(t){return n._movieinfo=null,A.log("load movieInfo from vrs, movieinfo error,params: info = json error"),w(e.code)}var L=e.data.p.pano;if(L&&(2==L.type||3==L.type||4==L.type))return w("PLATFORM_MISMATCH");i&&(A.log("movieInfo baseinfo,params: tvid = "+n._movieinfo.tvid+", vid = "+n._movieinfo.vid+", isTryWatch(试看) = "+n._movieinfo.isTryWatch+", member(会员片源) = "+n._movieinfo.isVIP+", albumId = "+n._movieinfo.albumId+", channelID = "+n._movieinfo.cid+", qipuId = "+n._movieinfo.videoQipuId+", headTime(片头) = "+n._movieinfo.prelude.headTime+", tailTime(片尾) = "+n._movieinfo.prelude.tailTime+", duration(时长) = "+n._movieinfo.duration+", isTennisContent(网球会员内容) = "+n._getIsTennisContent()+", logoOpen(水印总开关) = "+n._movieinfo.logoOpen+", topLogoOpen(右上角) = "+n._movieinfo.topLogoOpen+", lowerLogoOpen(右下角) = "+n._movieinfo.lowerLogoOpen+", exclusive(独播) = "+n._movieinfo.exclusive+", qiyiProduced(自制) = "+n._movieinfo.qiyiProduced+", nextTvid = "+n._movieinfo.nextTvid+", nextVid = "+n._movieinfo.nextVid),i())},function(e){var t={A00001:2,A00302:30,A00301:30,U00001:22,P00001:101,P00002:102},i=e.code,a=e.data||{},n=a.st||"",r=t[i];A.info("load movieInfo from vrs, movieinfo error,params: vmsCode = "+r+", realCode = "+i+", st = "+n),i&&w(i),101!=n&&w(n),A.log("load movieInfo from vrs, movieinfo error,params: code = "+i)})):(A.log("load movieInfo from vrs, movieinfo error,params: info = miss tvid or vid"),w("MISSPARAM"))},_getCurrentGas:function(){return this._gas||{}},_abortAllAres:function(e){var t=this;if(A.info("ad play complete and play video"),t._movieinfo){t.getSrc()!==t._movieinfo.url&&function(){t.setSrc(t._movieinfo.url,0,!1)}()}},_clearData:function(){S.clearAll()},_checkStop:function(){var e=this,t=e._movieinfo;return e._checkAuthTime(t&&t.isVIP&&t.previewTime<1/0?t.previewTime+1:1e3*e.getCurrenttime())},_checkSeek:function(e){var t=this,i=t._getDecodeDuration();return t._checkAuthTime(1e3*e)&&(e<=i||i<=0)},getDuration:function(){var e=this,t=e._getDecodeDuration();return e._movieinfo&&e._movieinfo.duration&&0!==e._movieinfo.duration?t=e._movieinfo.duration:"m3u8"===e._pMode&&(t-=e._adDuration),t},getCurrenttime:function(){var e=this,t=e.getDuration(),i=e._video.currentTime||0;return"m3u8"===e._pMode&&(i-=e._adDuration),i=i<t||isNaN(t)?i:t},seek:function(e,t){var i,a=this,n=a._getDecodeDuration();if(i=e+a._adDuration,i>=n&&(i=n-.5),i==a._adDuration&&0!==i&&(i=a._adDuration+1),!a._checkSeek||!1!==a._checkSeek(i)){a.hasSeeking=!0;var r=a._video.seekable;1===r.length&&r.end(0)>=i?(t&&(a._currentManualAction=w.NTF_Seeking),isNaN(i)&&(i=0),i>=0&&i<=n&&(a._video.currentTime=i),a.isPaused()&&a.play()):setTimeout(function(){a.seek(i)},10)}}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a,a;!function(t){e.exports=t()}(function(){return function e(t,i,n){function r(s,d){if(!i[s]){if(!t[s]){var u="function"==typeof a&&a;if(!d&&u)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return r(t[s][1][e]||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof a&&a,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t,i,a=Array.prototype.slice.call(arguments,1);a.length;){var n=a.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)t=n,i=r,Object.prototype.hasOwnProperty.call(t,i)&&(e[r]=n[r])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,i,a,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+a),n);else for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){var t,i,a,n,r,o;for(t=a=0,i=e.length;t<i;t++)a+=e[t].length;for(o=new Uint8Array(a),t=n=0,i=e.length;t<i;t++)r=e[t],o.set(r,n),n+=r.length;return o}},r={arraySet:function(e,t,i,a,n){for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(a)},{}],2:[function(e,t,i){function a(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}var n=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new n.Buf8(256),d=0;d<256;d++)s[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;s[254]=s[254]=1,i.string2buf=function(e){var t,i,a,r,o,s=e.length,d=0;for(r=0;r<s;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),d+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(d),r=o=0;o<d;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),i<128?t[o++]=i:(i<2048?t[o++]=192|i>>>6:(i<65536?t[o++]=224|i>>>12:(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63),t[o++]=128|i>>>6&63),t[o++]=128|63&i);return t},i.buf2binstring=function(e){return a(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,a=t.length;i<a;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,o,d=t||e.length,u=new Array(2*d);for(i=n=0;i<d;)if((r=e[i++])<128)u[n++]=r;else if(4<(o=s[r]))u[n++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&i<d;)r=r<<6|63&e[i++],o--;1<o?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return a(u,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+s[e[i]]>t?i:t}},{"./common":1}],3:[function(e,t,i){t.exports=function(e,t,i,a){for(var n=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;r=r+(n=n+t[a++]|0)|0,--o;);n%=65521,r%=65521}return n|r<<16|0}},{}],4:[function(e,t,i){var a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,n){var r=a,o=n+i;e^=-1;for(var s=n;s<o;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}},{}],5:[function(e,t,i){function a(e,t){return e.msg=S[t],t}function n(e){return(e<<1)-(4<e?9:0)}function r(e){for(var t=e.length;0<=--t;)e[t]=0}function o(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(y.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function s(e,t){x._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,o(e.strm)}function d(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t){var i,a,n=e.max_chain_length,r=e.strstart,o=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-B?e.strstart-(e.w_size-B):0,u=e.window,l=e.w_mask,c=e.prev,f=e.strstart+U,_=u[r+o-1],h=u[r+o];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(i=t)+o]===h&&u[i+o-1]===_&&u[i]===u[r]&&u[++i]===u[r+1]){r+=2,i++;do{}while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<f);if(a=U-(f-r),r=f-U,o<a){if(e.match_start=t,s<=(o=a))break;_=u[r+o-1],h=u[r+o]}}}while((t=c[t&l])>d&&0!=--n);return o<=e.lookahead?o:e.lookahead}function c(e){var t,i,a,n,r,o,s,d,u,l,c=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=c+(c-B)){for(y.arraySet(e.window,e.window,c,c,0),e.match_start-=c,e.strstart-=c,e.block_start-=c,t=i=e.hash_size;a=e.head[--t],e.head[t]=c<=a?a-c:0,--i;);for(t=i=c;a=e.prev[--t],e.prev[t]=c<=a?a-c:0,--i;);n+=c}if(0===e.strm.avail_in)break;if(o=e.strm,s=e.window,d=e.strstart+e.lookahead,u=n,l=void 0,l=o.avail_in,u<l&&(l=u),i=0===l?0:(o.avail_in-=l,y.arraySet(s,o.input,o.next_in,l,d),1===o.state.wrap?o.adler=k(o.adler,s,l,d):2===o.state.wrap&&(o.adler=w(o.adler,s,l,d)),o.next_in+=l,o.total_in+=l,l),e.lookahead+=i,e.lookahead+e.insert>=V)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+V-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<V)););}while(e.lookahead<B&&0!==e.strm.avail_in)}function f(e,t){for(var i,a;;){if(e.lookahead<B){if(c(e),e.lookahead<B&&t===T)return Q;if(0===e.lookahead)break}if(i=0,e.lookahead>=V&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+V-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-B&&(e.match_length=l(e,i)),e.match_length>=V)if(a=x._tr_tally(e,e.strstart-e.match_start,e.match_length-V),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=V){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+V-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else a=x._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(s(e,!1),0===e.strm.avail_out))return Q}return e.insert=e.strstart<V-1?e.strstart:V-1,t===A?(s(e,!0),0===e.strm.avail_out?z:G):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Q:Y}function _(e,t){for(var i,a,n;;){if(e.lookahead<B){if(c(e),e.lookahead<B&&t===T)return Q;if(0===e.lookahead)break}if(i=0,e.lookahead>=V&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+V-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=V-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-B&&(e.match_length=l(e,i),e.match_length<=5&&(1===e.strategy||e.match_length===V&&4096<e.strstart-e.match_start)&&(e.match_length=V-1)),e.prev_length>=V&&e.match_length<=e.prev_length){for(n=e.strstart+e.lookahead-V,a=x._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-V),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+V-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=V-1,e.strstart++,a&&(s(e,!1),0===e.strm.avail_out))return Q}else if(e.match_available){if((a=x._tr_tally(e,0,e.window[e.strstart-1]))&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=x._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<V-1?e.strstart:V-1,t===A?(s(e,!0),0===e.strm.avail_out?z:G):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Q:Y}function h(e,t,i,a,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=a,this.func=n}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(2*F),this.dyn_dtree=new y.Buf16(2*(2*M+1)),this.bl_tree=new y.Buf16(2*(2*C+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(N+1),this.heap=new y.Buf16(2*L+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*L+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=q,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?H:j,e.adler=2===t.wrap?0:1,t.last_flush=T,x._tr_init(t),I):a(e,E)}function g(e){var t,i=b(e);return i===I&&((t=e.state).window_size=2*t.w_size,r(t.head),t.max_lazy_match=m[t.level].max_lazy,t.good_match=m[t.level].good_length,t.nice_match=m[t.level].nice_length,t.max_chain_length=m[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=V-1,t.match_available=0,t.ins_h=0),i}function v(e,t,i,n,r,o){if(!e)return E;var s=1;if(t===P&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),r<1||R<r||i!==O||n<8||15<n||t<0||9<t||o<0||D<o)return a(e,E);8===n&&(n=9);var d=new p;return(e.state=d).strm=e,d.wrap=s,d.gzhead=null,d.w_bits=n,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=r+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+V-1)/V),d.window=new y.Buf8(2*d.w_size),d.head=new y.Buf16(d.hash_size),d.prev=new y.Buf16(d.w_size),d.lit_bufsize=1<<r+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new y.Buf8(d.pending_buf_size),d.d_buf=1*d.lit_bufsize,d.l_buf=3*d.lit_bufsize,d.level=t,d.strategy=o,d.method=i,g(e)}var m,y=e("../utils/common"),x=e("./trees"),k=e("./adler32"),w=e("./crc32"),S=e("./messages"),T=0,A=4,I=0,E=-2,P=-1,D=4,q=2,O=8,R=9,L=286,M=30,C=19,F=2*L+1,N=15,V=3,U=258,B=U+V+1,H=42,j=113,Q=1,Y=2,z=3,G=4;m=[new h(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(c(e),0===e.lookahead&&t===T)return Q;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var a=e.block_start+i;if((0===e.strstart||e.strstart>=a)&&(e.lookahead=e.strstart-a,e.strstart=a,s(e,!1),0===e.strm.avail_out))return Q;if(e.strstart-e.block_start>=e.w_size-B&&(s(e,!1),0===e.strm.avail_out))return Q}return e.insert=0,t===A?(s(e,!0),0===e.strm.avail_out?z:G):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),Q)}),new h(4,4,8,4,f),new h(4,5,16,8,f),new h(4,6,32,32,f),new h(4,4,16,16,_),new h(8,16,32,32,_),new h(8,16,128,128,_),new h(8,32,128,256,_),new h(32,128,258,1024,_),new h(32,258,258,4096,_)],i.deflateInit=function(e,t){return v(e,t,O,15,8,0)},i.deflateInit2=v,i.deflateReset=g,i.deflateResetKeep=b,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?E:(e.state.gzhead=t,I):E},i.deflate=function(e,t){var i,l,f,_;if(!e||!e.state||5<t||t<0)return e?a(e,E):E;if(l=e.state,!e.output||!e.input&&0!==e.avail_in||666===l.status&&t!==A)return a(e,0===e.avail_out?-5:E);if(l.strm=e,i=l.last_flush,l.last_flush=t,l.status===H)if(2===l.wrap)e.adler=0,d(l,31),d(l,139),d(l,8),l.gzhead?(d(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),d(l,255&l.gzhead.time),d(l,l.gzhead.time>>8&255),d(l,l.gzhead.time>>16&255),d(l,l.gzhead.time>>24&255),d(l,9===l.level?2:2<=l.strategy||l.level<2?4:0),d(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(d(l,255&l.gzhead.extra.length),d(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=w(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(d(l,0),d(l,0),d(l,0),d(l,0),d(l,0),d(l,9===l.level?2:2<=l.strategy||l.level<2?4:0),d(l,3),l.status=j);else{var h=O+(l.w_bits-8<<4)<<8;h|=(2<=l.strategy||l.level<2?0:l.level<6?1:6===l.level?2:3)<<6,0!==l.strstart&&(h|=32),h+=31-h%31,l.status=j,u(l,h),0!==l.strstart&&(u(l,e.adler>>>16),u(l,65535&e.adler)),e.adler=1}if(69===l.status)if(l.gzhead.extra){for(f=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>f&&(e.adler=w(e.adler,l.pending_buf,l.pending-f,f)),o(e),f=l.pending,l.pending!==l.pending_buf_size));)d(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>f&&(e.adler=w(e.adler,l.pending_buf,l.pending-f,f)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(73===l.status)if(l.gzhead.name){f=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>f&&(e.adler=w(e.adler,l.pending_buf,l.pending-f,f)),o(e),f=l.pending,l.pending===l.pending_buf_size)){_=1;break}d(l,_=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0)}while(0!==_);l.gzhead.hcrc&&l.pending>f&&(e.adler=w(e.adler,l.pending_buf,l.pending-f,f)),0===_&&(l.gzindex=0,l.status=91)}else l.status=91;if(91===l.status)if(l.gzhead.comment){f=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>f&&(e.adler=w(e.adler,l.pending_buf,l.pending-f,f)),o(e),f=l.pending,l.pending===l.pending_buf_size)){_=1;break}d(l,_=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0)}while(0!==_);l.gzhead.hcrc&&l.pending>f&&(e.adler=w(e.adler,l.pending_buf,l.pending-f,f)),0===_&&(l.status=103)}else l.status=103;if(103===l.status&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&o(e),l.pending+2<=l.pending_buf_size&&(d(l,255&e.adler),d(l,e.adler>>8&255),e.adler=0,l.status=j)):l.status=j),0!==l.pending){if(o(e),0===e.avail_out)return l.last_flush=-1,I}else if(0===e.avail_in&&n(t)<=n(i)&&t!==A)return a(e,-5);if(666===l.status&&0!==e.avail_in)return a(e,-5);if(0!==e.avail_in||0!==l.lookahead||t!==T&&666!==l.status){var p=2===l.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(c(e),0===e.lookahead)){if(t===T)return Q;break}if(e.match_length=0,i=x._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return Q}return e.insert=0,t===A?(s(e,!0),0===e.strm.avail_out?z:G):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Q:Y}(l,t):3===l.strategy?function(e,t){for(var i,a,n,r,o=e.window;;){if(e.lookahead<=U){if(c(e),e.lookahead<=U&&t===T)return Q;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=V&&0<e.strstart&&(a=o[n=e.strstart-1])===o[++n]&&a===o[++n]&&a===o[++n]){r=e.strstart+U;do{}while(a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&n<r);e.match_length=U-(r-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=V?(i=x._tr_tally(e,1,e.match_length-V),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=x._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(s(e,!1),0===e.strm.avail_out))return Q}return e.insert=0,t===A?(s(e,!0),0===e.strm.avail_out?z:G):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Q:Y}(l,t):m[l.level].func(l,t);if(p!==z&&p!==G||(l.status=666),p===Q||p===z)return 0===e.avail_out&&(l.last_flush=-1),I;if(p===Y&&(1===t?x._tr_align(l):5!==t&&(x._tr_stored_block(l,0,0,!1),3===t&&(r(l.head),0===l.lookahead&&(l.strstart=0,l.block_start=0,l.insert=0))),o(e),0===e.avail_out))return l.last_flush=-1,I}return t!==A?I:l.wrap<=0?1:(2===l.wrap?(d(l,255&e.adler),d(l,e.adler>>8&255),d(l,e.adler>>16&255),d(l,e.adler>>24&255),d(l,255&e.total_in),d(l,e.total_in>>8&255),d(l,e.total_in>>16&255),d(l,e.total_in>>24&255)):(u(l,e.adler>>>16),u(l,65535&e.adler)),o(e),0<l.wrap&&(l.wrap=-l.wrap),0!==l.pending?I:1)},i.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==H&&69!==t&&73!==t&&91!==t&&103!==t&&t!==j&&666!==t?a(e,E):(e.state=null,t===j?a(e,-3):I):E},i.deflateSetDictionary=function(e,t){var i,a,n,o,s,d,u,l,f=t.length;if(!e||!e.state)return E;if(2===(o=(i=e.state).wrap)||1===o&&i.status!==H||i.lookahead)return E;for(1===o&&(e.adler=k(e.adler,t,f,0)),i.wrap=0,f>=i.w_size&&(0===o&&(r(i.head),i.strstart=0,i.block_start=0,i.insert=0),l=new y.Buf8(i.w_size),y.arraySet(l,t,f-i.w_size,i.w_size,0),t=l,f=i.w_size),s=e.avail_in,d=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,c(i);i.lookahead>=V;){for(a=i.strstart,n=i.lookahead-(V-1);i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+V-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++,--n;);i.strstart=a,i.lookahead=V-1,c(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=V-1,i.match_available=0,e.next_in=d,e.input=u,e.avail_in=s,i.wrap=o,I},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,i){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,i){function a(e){for(var t=e.length;0<=--t;)e[t]=0}function n(e,t,i,a,n){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=a,this.max_length=n,this.has_stree=e&&e.length}function r(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function o(e){return e<256?U[e]:U[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function d(e,t,i){e.bi_valid>P-i?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>P-e.bi_valid,e.bi_valid+=i-P):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function u(e,t,i){d(e,i[2*t],i[2*t+1])}function l(e,t){for(var i=0;i|=1&e,e>>>=1,i<<=1,0<--t;);return i>>>1}function c(e,t,i){var a,n,r=new Array(E+1),o=0;for(a=1;a<=E;a++)r[a]=o=o+i[a-1]<<1;for(n=0;n<=t;n++){var s=e[2*n+1];0!==s&&(e[2*n]=l(r[s]++,s))}}function f(e){var t;for(t=0;t<S;t++)e.dyn_ltree[2*t]=0;for(t=0;t<T;t++)e.dyn_dtree[2*t]=0;for(t=0;t<A;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*D]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function _(e){8<e.bi_valid?s(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function h(e,t,i,a){var n=2*t,r=2*i;return e[n]<e[r]||e[n]===e[r]&&a[t]<=a[i]}function p(e,t,i){for(var a=e.heap[i],n=i<<1;n<=e.heap_len&&(n<e.heap_len&&h(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!h(t,a,e.heap[n],e.depth));)e.heap[i]=e.heap[n],i=n,n<<=1;e.heap[i]=a}function b(e,t,i){var a,n,r,s,l=0;if(0!==e.last_lit)for(;a=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],n=e.pending_buf[e.l_buf+l],l++,0===a?u(e,n,t):(u(e,(r=B[n])+w+1,t),0!==(s=L[r])&&d(e,n-=H[r],s),u(e,r=o(--a),i),0!==(s=M[r])&&d(e,a-=z[r],s)),l<e.last_lit;);u(e,D,t)}function g(e,t){var i,a,n,r=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,d=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=I,i=0;i<d;i++)0!==r[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(n=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[n]=0,e.opt_len--,s&&(e.static_len-=o[2*n+1]);for(t.max_code=u,i=e.heap_len>>1;1<=i;i--)p(e,r,i);for(n=d;i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],p(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=a,r[2*n]=r[2*i]+r[2*a],e.depth[n]=(e.depth[i]>=e.depth[a]?e.depth[i]:e.depth[a])+1,r[2*i+1]=r[2*a+1]=n,e.heap[1]=n++,p(e,r,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,a,n,r,o,s,d=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,c=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,_=t.stat_desc.extra_base,h=t.stat_desc.max_length,p=0;for(r=0;r<=E;r++)e.bl_count[r]=0;for(d[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<I;i++)h<(r=d[2*d[2*(a=e.heap[i])+1]+1]+1)&&(r=h,p++),d[2*a+1]=r,u<a||(e.bl_count[r]++,o=0,_<=a&&(o=f[a-_]),s=d[2*a],e.opt_len+=s*(r+o),c&&(e.static_len+=s*(l[2*a+1]+o)));if(0!==p){do{for(r=h-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[h]--,p-=2}while(0<p);for(r=h;0!==r;r--)for(a=e.bl_count[r];0!==a;)u<(n=e.heap[--i])||(d[2*n+1]!==r&&(e.opt_len+=(r-d[2*n+1])*d[2*n],d[2*n+1]=r),a--)}}(e,t),c(r,u,e.bl_count)}function v(e,t,i){var a,n,r=-1,o=t[1],s=0,d=7,u=4;for(0===o&&(d=138,u=3),t[2*(i+1)+1]=65535,a=0;a<=i;a++)n=o,o=t[2*(a+1)+1],++s<d&&n===o||(s<u?e.bl_tree[2*n]+=s:0!==n?(n!==r&&e.bl_tree[2*n]++,e.bl_tree[2*q]++):s<=10?e.bl_tree[2*O]++:e.bl_tree[2*R]++,r=n,(s=0)===o?(d=138,u=3):n===o?(d=6,u=3):(d=7,u=4))}function m(e,t,i){var a,n,r=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),a=0;a<=i;a++)if(n=o,o=t[2*(a+1)+1],!(++s<l&&n===o)){if(s<c)for(;u(e,n,e.bl_tree),0!=--s;);else 0!==n?(n!==r&&(u(e,n,e.bl_tree),s--),u(e,q,e.bl_tree),d(e,s-3,2)):s<=10?(u(e,O,e.bl_tree),d(e,s-3,3)):(u(e,R,e.bl_tree),d(e,s-11,7));r=n,(s=0)===o?(l=138,c=3):n===o?(l=6,c=3):(l=7,c=4)}}function y(e,t,i,a){var n,r,o,u;d(e,(k<<1)+(a?1:0),3),r=t,o=i,u=!0,_(n=e),u&&(s(n,o),s(n,~o)),x.arraySet(n.pending_buf,n.window,r,o,n.pending),n.pending+=o}var x=e("../utils/common"),k=0,w=256,S=w+1+29,T=30,A=19,I=2*S+1,E=15,P=16,D=256,q=16,O=17,R=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(S+2));a(N);var V=new Array(2*T);a(V);var U=new Array(512);a(U);var B=new Array(256);a(B);var H=new Array(29);a(H);var j,Q,Y,z=new Array(T);a(z);var G=!1;i._tr_init=function(e){G||(function(){var e,t,i,a,r,o=new Array(E+1);for(a=i=0;a<28;a++)for(H[a]=i,e=0;e<1<<L[a];e++)B[i++]=a;for(B[i-1]=a,a=r=0;a<16;a++)for(z[a]=r,e=0;e<1<<M[a];e++)U[r++]=a;for(r>>=7;a<T;a++)for(z[a]=r<<7,e=0;e<1<<M[a]-7;e++)U[256+r++]=a;for(t=0;t<=E;t++)o[t]=0;for(e=0;e<=143;)N[2*e+1]=8,e++,o[8]++;for(;e<=255;)N[2*e+1]=9,e++,o[9]++;for(;e<=279;)N[2*e+1]=7,e++,o[7]++;for(;e<=287;)N[2*e+1]=8,e++,o[8]++;for(c(N,S+1,o),e=0;e<T;e++)V[2*e+1]=5,V[2*e]=l(e,5);j=new n(N,L,w+1,S,E),Q=new n(V,M,0,T,E),Y=new n(new Array(0),C,0,A,7)}(),G=!0),e.l_desc=new r(e.dyn_ltree,j),e.d_desc=new r(e.dyn_dtree,Q),e.bl_desc=new r(e.bl_tree,Y),e.bi_buf=0,e.bi_valid=0,f(e)},i._tr_stored_block=y,i._tr_flush_block=function(e,t,i,a){var n,r,o=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<w;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),g(e,e.l_desc),g(e,e.d_desc),o=function(e){var t;for(v(e,e.dyn_ltree,e.l_desc.max_code),v(e,e.dyn_dtree,e.d_desc.max_code),g(e,e.bl_desc),t=A-1;3<=t&&0===e.bl_tree[2*F[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=n&&(n=r)):n=r=i+5,i+4<=n&&-1!==t?y(e,t,i,a):4===e.strategy||r===n?(d(e,2+(a?1:0),3),b(e,N,V)):(d(e,4+(a?1:0),3),function(e,t,i,a){var n;for(d(e,t-257,5),d(e,i-1,5),d(e,a-4,4),n=0;n<a;n++)d(e,e.bl_tree[2*F[n]+1],3);m(e,e.dyn_ltree,t-1),m(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),b(e,e.dyn_ltree,e.dyn_dtree)),f(e),a&&_(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(B[i]+w+1)]++,e.dyn_dtree[2*o(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){var t;d(e,2,3),u(e,D,N),16===(t=e).bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":1}],8:[function(e,t,i){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,i){function a(e){if(!(this instanceof a))return new a(e);this.options=o.assign({level:f,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==c)throw new Error(d[i]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=r.deflateSetDictionary(this.strm,n))!==c)throw new Error(d[i]);this._dict_set=!0}}function n(e,t){var i=new a(t);if(i.push(e,!0),i.err)throw i.msg||d[i.err];return i.result}var r=e("./zlib/deflate"),o=e("./utils/common"),s=e("./utils/strings"),d=e("./zlib/messages"),u=e("./zlib/zstream"),l=Object.prototype.toString,c=0,f=-1,_=0,h=8;a.prototype.push=function(e,t){var i,a,n=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?n.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(d),n.next_out=0,n.avail_out=d),1!==(i=r.deflate(n,a))&&i!==c)return this.onEnd(i),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==i);return 4===a?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==a||(this.onEnd(c),!(n.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=a,i.deflate=n,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")})},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(4),s=i(1),d=new s("video decoder"),u=i(19),l={};a.exports=r("decode",{construct:function(e){var t=this;t._video=e,t._curStatus="",t.hasSeeking=!1,t.seekableFlag=!0,t.__beforeSeekTime=0,t._userGesturePlayed=!1,t._currentManualAction=null,t._currentCodeActionList=[];var i=function(i){if(""!==e.src){var a=i.status;t.fire({type:u.NTF_StatusChanged,data:i}),t._curStatus=a,a===u.Status_Playing?t._playing=!0:t._playing=!1}},a=function(e){if(t._currentManualAction&&t._currentManualAction===e)return t._currentManualAction=null,u.Action_Type_Controls;if(-1!=t._currentCodeActionList.indexOf(e)){var i=t._currentCodeActionList.indexOf(e);return t._currentCodeActionList.splice(i,1),u.Action_Type_Code}return u.Action_Type_Native};t._canFireDecodeEvt=function(){return!0},t._setSrc=function(e){1===arguments.length&&(t.__beforeSeekTime=0,t._video.setAttribute("src",e),o.os.ios||t._video.load())},l.loadstart=function(){t.__beforeSeekTime=0,i({status:u.Status_Loadstart,actionType:u.Action_Type_Native})},e.addEventListener("loadstart",l.loadstart),l.error=function(e){t.__beforeSeekTime=0,i({status:u.Status_LoadFailed,actionType:u.Action_Type_Native})},e.addEventListener("error",l.error),l.stalled=function(e){i({status:u.Status_Stalled,actionType:u.Action_Type_Native})},e.addEventListener("stalled",l.stalled),l.loadedmetadata=function(){i({status:u.Status_LoadedMetaData,actionType:u.Action_Type_Native})},e.addEventListener("loadedmetadata",l.loadedmetadata),l.canplay=function(){i({status:u.Status_Canplay,actionType:u.Action_Type_Native})},e.addEventListener("canplay",l.canplay),l.pause=function(){t._canFireDecodeEvt()&&i({status:u.Status_Paused,actionType:a(u.Status_Paused)})},e.addEventListener("pause",l.pause),l.play=function(){t._canFireDecodeEvt()&&i({status:u.Status_Play,actionType:a(u.Status_Play)})},e.addEventListener("play",l.play),l.playing=function(){t._canFireDecodeEvt()&&(t.hasSeeking=!1,i({status:u.Status_Playing,actionType:u.Action_Type_Native}))},e.addEventListener("playing",l.playing),l.waiting=function(){t._canFireDecodeEvt()&&i({status:u.Status_Waiting,actionType:u.Action_Type_Native})},e.addEventListener("waiting",l.waiting),l.seeking=function(){if(t._canFireDecodeEvt()){o.os.ios||o.os.android||i({status:u.Status_Waiting,actionType:u.Action_Type_Code});var e={current:t.getCurrenttime(),duration:t.getDuration()};e.actionType=a(u.NTF_Seeking),t.fire({type:u.NTF_Seeking,data:e})}},e.addEventListener("seeking",l.seeking),l.seeked=function(){t._canFireDecodeEvt();var e={current:t.getCurrenttime(),duration:t.getDuration()};e.actionType=u.Action_Type_Code,t.fire({type:u.NTF_Seeked,data:e})},e.addEventListener("seeked",l.seeked),l.ended=function(){if(!1===t.seekableFlag&&Math.abs(t._getDecodeDuration()-t.__beforeSeekTime)>2)return t._seek(t.__beforeSeekTime);t._canFireDecodeEvt()&&(t._checkStop&&!t._checkStop()||i({status:u.Status_Stoped,actionType:u.Action_Type_Native}))},e.addEventListener("ended",l.ended),l.canplaythrough=function(){t.fire({type:u.NTF_CanPlayThrough,data:{actionType:u.Action_Type_Native}})},e.addEventListener("canplaythrough",l.canplaythrough),l.volumechange=function(){t.fire({type:u.NTF_VolumeChanged,data:t._video.volume,actionType:u.Action_Type_Native})},e.addEventListener("volumechange",l.volumechange),l.ratechange=function(){t.fire({type:u.NTF_RateChanged,data:t._video.playbackRate,actionType:u.Action_Type_Native})},e.addEventListener("ratechange",l.ratechange),l.durationchange=function(){t._canFireDecodeEvt()&&t.fire({type:u.NTF_DurationChanged,data:t.getDuration(),actionType:u.Action_Type_Native})},e.addEventListener("durationchange",l.durationchange);var n=(new Date).getTime(),r=0;l.timeupdate=function(){var o=t.getCurrenttime(),s=t.getDuration();if(!e.seeking&&Math.abs(o-t.__beforeSeekTime)<1.2)t.__beforeSeekTime=o;else if(!1===t.seekableFlag)return t._seek(t.__beforeSeekTime);if(!("number"==typeof e.readyState&&e.readyState<=1||t.isPaused())){var d=(new Date).getTime();d-n>500&&(clearTimeout(r),n=d,r=setTimeout(function(){t.fire({type:u.NTF_TimeUpdate,data:{current:o,duration:s,buffer:t.getBufferTime(),actionType:u.Action_Type_Native}})},0)),t._playing||(t.hasSeeking=!1,t._canFireDecodeEvt()&&i({status:u.Status_Playing,actionType:a(u.Status_Playing)}))}},e.addEventListener("timeupdate",l.timeupdate),l.progress=function(){t._canFireDecodeEvt()&&t.fire({type:u.NTF_Progress,data:{buffer:t.getBufferTime(),actionType:u.Action_Type_Native}})},e.addEventListener("progress",l.progress),i({status:u.Status_Idle}),t._statusChanged=i,t._checkActionType=a},extend:n,methods:{video:function(){return this._video},removeAllEventsListener:function(){var e=this;e._video.removeEventListener("loadstart",l.loadstart),e._video.removeEventListener("error",l.error),e._video.removeEventListener("stalled",l.stalled),e._video.removeEventListener("loadedmetadata",l.loadedmetadata),e._video.removeEventListener("canplay",l.canplay),e._video.removeEventListener("pause",l.pause),e._video.removeEventListener("play",l.play),e._video.removeEventListener("playing",l.playing),e._video.removeEventListener("waiting",l.waiting),e._video.removeEventListener("seeking",l.seeking),e._video.removeEventListener("ended",l.ended),e._video.removeEventListener("canplaythrough",l.canplaythrough),e._video.removeEventListener("volumechange",l.volumechange),e._video.removeEventListener("durationchange",l.durationchange),e._video.removeEventListener("timeupdate",l.timeupdate),e._video.removeEventListener("progress",l.progress)},play:function(e){function t(){var e=i._video.play();if(void 0!==e){var t=new Promise(function(t,i){e.then(function(){t()})["catch"](function(e){d.warn(e.message),i(e)})});return t["catch"](function(e){d.warn(e)}),t}}var i=this;if(e?i._currentManualAction=u.Status_Play:i._currentCodeActionList.push(u.Status_Play),!o.os.ios&&!o.os.android)return t();i._userGesturePlayed?t():i.fire({type:u.NTF_NeedUserGesture4Playback})},pause:function(e,t){var i=this._video.networkState;(t||0!==i&&3!==i)&&(e?this._currentManualAction=u.Status_Paused:this._currentCodeActionList.push(u.Status_Paused),this._video.pause())},isPaused:function(){return this._video.paused},replay:function(){this._video.play(this._video.src)},seek:function(){var e=this;e.seekableFlag&&e._seek.apply(e,arguments)},_seek:function(e,t){var i=this;if(!i._checkSeek||!1!==i._checkSeek(e)){i.hasSeeking=!0;var a=i._video.seekable;1===a.length&&a.end(0)>e?(t?i._currentManualAction=u.NTF_Seeking:this._currentCodeActionList.push(u.NTF_Seeking),e>=0&&e<=i.getDuration()&&(i._video.currentTime=e),i.isPaused()&&i.play()):setTimeout(function(){i._seek(e)},10)}},isSeeking:function(){return this.hasSeeking},enableSeek:function(){this.seekableFlag=!0},disableSeek:function(){this.seekableFlag=!1},setDecodeSrc:function(e,t){var i=this;i._setSrc(e),d.debug("decode src current time :"+t);try{i._video.duration=0,i._video.buffered.length=0,t>0?i._video.addEventListener("loadedmetadata",function e(){t<i.getDuration()&&i._seek(t),i._video.removeEventListener("loadedmetadata",e)},!1):i._video.currentTime=0}catch(e){}},getSrc:function(){return this._video.src},getAudioTracks:function(){return this._video.audioTracks},setAudioTracks:function(e){},getBufferTime:function(){var e=this,t=0;return e._video.buffered.length>0&&(t=e._video.buffered.end(e._video.buffered.length-1)),t},getBuffered:function(){return this._video.buffered},getCurrenttime:function(){var e=this,t=e.getDuration(),i=this._video.currentTime||0;return i<t?i:t},getDuration:function(){return this._getDecodeDuration()},_getDecodeDuration:function(){return this._video.duration||0},getVolume:function(){return this._video.volume},setVolume:function(e){e>1&&(e=1),this._video.volume=e},setautoplay:function(e){this._autoplay=e,this._video.autoplay=this._autoplay},getautoplay:function(){return this._autoplay},userGesturePlayed:function(){this._userGesturePlayed=!0},getPlaybackRate:function(){return this._video.playbackRate},setPlaybackRate:function(e){this._video.playbackRate=e}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(2),o=i(1),s=i(19),d=i(20),u=(new o("BaseEngineEmitters"),n("BaseEngineEmitters",{extend:r,methods:{init:function(e){var t=this;t.engine=e,t._initFeatureDuration()},_initFeatureDuration:function(){var e,t=this.engine,i=function(){e=void 0,t._currentFeaturePlayingDuration=0};t.on(s.NTF_TimeUpdate,function(){if(!t.isAd()){var i=t.getCurrenttime(),a=i-e;e&&a>0&&(t._currentFeaturePlayingDuration+=1e3*a),e=i}}),t.on(s.NTF_Seeking,function(t){e=void 0}),t.on(d.Status_Destroy,function(){i()}),t.on(d.NTF_MovieInfoChange,function(){i()})}}}));a.exports=new u}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(2),o=i(1),s=(i(12),i(17),i(19)),d=(i(27),i(20)),u=new o("HEngineEmitters"),l=n("HEngineEmitters",{extend:r,methods:{init:function(e){var t=this;t.engine=e,t._engineEvents(),t._vrsEvents()},_engineEvents:function(){var e,t=this.engine,i=0;t.on(s.NTF_StatusChanged,function(a){var n=a.data.status;switch(n){case s.Status_LoadedMetaData:t._vdSwitch&&setTimeout(function(){t._noticeVidChanged()},200);break;case s.Status_LoadFailed:case s.Status_Stoped:var r=t._ads,l=t.getCurrentGas();r&&r.length>0&&t.isAd()&&(n===s.Status_LoadFailed&&u.warn("drop ares gas:"+o.stringify(r)),setTimeout(function(){for(i=0;i<r.length;i++)if((e=r[i])===l){i===r.length-1?t.fire({type:d.NTF_ARES_End,data:{}}):(t._gas=r[i+1],t.setSrc(r[i+1].url,1,!1));break}},0))}}),t.on(s.NTF_TimeUpdate,function(e){t.isAd()||t.enableSeek()}),t.on(s.NTF_NeedUserGesture4Playback,function(){t.fire({type:d.NTF_NeedUserGesture4Playback})}),t.on(d.Status_Destroy,function(){t._resetVideo()});var a=t._video;a.addEventListener("timeupdate",function(){if("m3u8"===t._pMode){var e=a.currentTime;parseInt(e,10)===t._adDuration&&(t.fire({type:s.NTF_StatusChanged,data:{status:s.Status_Playing}}),t.adEnded=!0),e<t._adDuration?t._isAd=!0:t._isAd=!1}}),a.addEventListener("seeking",function(){if("m3u8"===t._pMode){if(!t.adEnded&&!t.__fixedSeekAction)return t.__fixedSeekAction=!0,void(a.currentTime=0);t.__fixedSeekAction=!1}t.hasSeeking=!0})},_vrsEvents:function(){var e=this,t=e.engine;t.on(d.NTF_VRSReady,function(e){var i=e.data,a=(i.tvid,t.getAresSDK());if("mp4"===t._pMode&&(t._ads.length>0?(t.setSrc(t._ads[0].url,1,!1),t._gas=t._ads[0]):t.setSrc(t._movieinfo.url,0,!1)),"m3u8"===t._pMode&&t._movieinfo){t.getSrc()!==t._movieinfo.url&&t.setSrc(t._movieinfo.url,1,!1)}if(a&&t._movieinfo&&t._movieinfo.adVids.length>0){var n=t._movieinfo.adVids;u.info("notify CupidSdk removeInvalidAds vid->"+n),a.notifyCupidSdk("removeInvalidAd",{vid:n||[]}),t._adDuration&&(t._adDuration=t._adDuration-15*n.length,u.info("removeInvalidAd adDuration->"+t._adDuration))}})}}});a.exports=new l}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(4),r=i(12),o=i(9),s=i(11),d=i(5),u=i(8),l=i(1),c=i(7),f=i(18),_=i(10),h=i(25),p=(i(67),i(35)),b=i(31),g=i(39),v=i(22),m=i(16),y=i(3),x=new l("mixer"),k=0;a.exports={request:function(e,t,i){var a,l=e.params,w=!!e.hostUseIP,S=null,T=e.params.tryCount||0,A=!1;return d.getVipTypes(function(e){var I=l.tvid,E=l.vid,P=l.vd,D=l.ppt,q=l.ost,O=f.cmd5xdash(),R=k>0?k:O.tm;k=0;var L=n.getPtid(c.isTWLocale());"02030031010000000000"===L&&(L="02020031010000000000");m.sTime_vms=new Date-m.pgct,v.sendVrsRequestPingback(),S=function(){var e={tvid:I,bid:P,vid:E,src:L,vt:0,rs:0,uid:d.getUid(),ori:"pcw",ps:l.switchvd?1:0,k_uid:u.getFluid()||u.getJsuid(),pt:0,d:0,s:"",lid:"",cf:"",ct:"",authKey:r(r("")+R+I),k_tag:1,ost:q,ppt:D,dfp:h.get(),locale:c.isTraditionalChinese()?"zh_tw":"zh_cn",prio:l.prio||JSON.stringify({ff:"f4v",code:2}),pck:d.passportCookie(),k_err_retries:T};return e=y(e,O),e.tm=R,(n.os.ios||n.os.android)&&(e.ori="h5"),l.src&&(e.src=l.src),l.preIdAll&&(e.preIdAll=l.preIdAll),l.lid&&(e.lid=l.lid,e.cf=2),-1!=e.prio.indexOf("m3u8")?e.k_ft1=g.getM3U8FT1():-1!=e.prio.indexOf("mp4")&&(e.k_ft1=g.getMP4FT1()),e.k_ft5=g.getFT5(),c.isTraditionalChinese()&&(e.locale="zh_tw"),p.isBoss()&&(e.vv="821d3c731e374feaa629dcdaab7c394b"),w&&(e.ecode="701"),e.bop=JSON.stringify({version:"10.0",dfp:h.get()}),e}();var M=function(n){if(A)return void x.log("start vms request is abandoned!!!");a=s.jsonp({url:n,params:S,memory:!0,timeout:5e3,beforeSend:function(t){var i=o.parse(t.url).host;e.forEach(function(e){t.url+="&ut="+e,_.isArray(S.ut)||(S.ut=[]),S.ut.push(parseInt(e,10))});var a="iloveiqiyi";try{var n=t.url.replace(new RegExp("^(http|https)://"+i,"ig"),"");w&&(n=n.replace("/3ea/420a8433732a6c99d1eae98fea69e55d","")),a=f.cmd5x(n)}catch(e){x.error("cmd5x: "+(e.message?e.message:e))}return t.url+="&vf="+a,x.log("load movieInfo from vrs, request,params: url = "+t.url),t},success:function(e){if(A)return void x.log("start vms request success callback is abandoned!!!");if(m.usedTime_vms=new Date-m.pgct-m.sTime_vms,v.sendVrsReadyPingback(m.usedTime_vms),e&&e.hasOwnProperty("code"))"A00000"===e.code?t(e):("A00020"===e.code&&e.tm&&(k=e.tm),i(e));else{var a={};a.code="P00002",i(a)}},failure:function(e){if(A)return void x.log("start vms request failure callback is abandoned!!!");x.error("dash fail raw json data->"+JSON.stringify(e));var t={};t.code="P00001",i(t)}})};w?s.ajax({url:b.vmsAccess,timeout:2e3,withCredentials:!1,success:function(e){if(e&&"string"==typeof e){var t=e.split(";"),i=Math.floor(Math.random()*t.length),a=t[i];M(b.vmsIPSuc.replace("{{IP}}",a))}else M(b.vmsIPFail)},failure:function(){M(b.vmsIPFail)}}):M(b.vmsUrl)}),{getReqParams:function(){return S},getXhrRequest:function(){return a},setReqAbandoned:function(){A=!0}}}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(6),o=i(15),s=i(1),d=i(17),u=i(3),l=i(10),c=(i(48),i(5)),f=i(7),_=i(14),h=i(34),p=i(4),b=i(24),g=i(19),v=i(32),m=i(51),y=i(35),x=i(20),k=i(50),w=i(52),S=i(53),T=i(93),A=i(54),I=i(95),E=i(27),P=i(16),D=i(42),q=i(40),O=i(57),R=i(55),L=new s("DataEngine");a.exports=n("DataEngine",{extend:k,construct:function(e,t){var i=this;i._paused=!0,i._param=t,i._pburl=t.h5P2PUrl,i._vrs={},i._sdkloaded=!1,i._isSkipAD=!0,i._autoplay="boolean"!=typeof t.autoplay||t.autoplay,i._sdkType="pc",p.browser.CHROME&&p.os.android&&(i._sdkType="mobile"),I.init(i),A.setEngine(i),S.__setVideo(e),w.setProxy(S),S.on("fragmentsChange",function(){w.setData(S.getFragments())}),T.init(i,e),i._canFireDecodeEvt=function(){return!1},i._setForcedPlayerType=function(e){"LoaderState_error_idc"===e&&(r.remove("player_forcedType"),r.set("player_forcedType","flash_VOD",{expires:2592e5}),location.reload())},i._pb_=S},methods:{assemble:function(){var e=this;e._loadP2PSdk(),e._param.feedMode||e._loadAdSdk()},_loadP2PSdk:function(){var e=this,t=!1;"mobile"===e._sdkType&&(t=!0);var i=function(){var i=window.QIYI_HTML5_P2P_PlayBack_0001;i?(L.info("P2P core load ready"),e._pb_.__setSDK(i,t),e.fire({type:x.Status_Assembled,data:i}),e.__isAssembled=!0):L.info("P2P core load error")};window.QIYI_HTML5_P2P_PlayBack_0001?i():(L.info("P2P core start load,params:url = "+e._pburl),P.sTime_P2PCore=new Date-P.pgct,o.seriesLoadScripts(e._pburl,function(e){P.usedTime_P2PCore=new Date-P.sTime_P2PCore-P.pgct,i()}))},loadMovie:function(e,t){var i=this,a=A.getPid(e,t);i._noticeDataStart();var n=function(e){e.isPreload=!!e.isPreload,u(i._movieinfo,e,!0),i._movieinfo.vd=e.vd,i._vd=e.vd,i._setFragments(i._movieinfo.vidl.filter(function(e){return e.vd===i._vd})[0]),i.__isAssembled?i._noticeDataReady():i.on(x.Status_Assembled,function(e){i._noticeDataReady()}),i._noticeDataDone()};if(h.read(h.PLAYER_TEMP_VD_KEY)&&i.fire({type:x.NTF_LoadTempVd,data:{userVd:_.read(_.PLAYER_VD_KEY)||2,tempVd:h.read(h.PLAYER_TEMP_VD_KEY)}}),A.hasPreload(a)){var r=A.getPreloadData(a);n(r)}else A.getPromise(a).then(function(e){e.isPreload=!1,n(e)},function(e){switch(u(i._movieinfo,e.movieinfo,!0),e.type){case 0:i.brokedown(e.code,e.originalCode,e.ec,e.vmsst);break;case 1:i._noticeRecharge(e.code);break;case 2:i.brokedown(22);break;default:L.error(e&&e.stack?e.stack:e)}i._noticeDataDone()});i._aresInit||i._param.feedMode||(i._aresInit=!0,i._initAdEvents())},preload:function(e,t){var i=this,a=A.getPid(e,t),n=w.getSegmentsByTvid(e);E.valid(e,!0),h.read(h.PLAYER_TEMP_VD_KEY)&&i.fire({type:x.NTF_LoadTempVd,data:{userVd:_.read(_.PLAYER_VD_KEY)||2,tempVd:h.read(h.PLAYER_TEMP_VD_KEY)}}),A.hasPreload(a)?0===n.length&&i._noticeReJointPreload():A.getPromise(a).then(function(e){e.isPreload=!0,e.ares=!0,i._preloadedMovieInfo=e,i._noticeDataPreloaded()},function(e){L.warn("preload movie which requires auth: "+s.stringify(e))})},hasPreload:function(e,t){var i=A.getPid(e,t);return E.finishPres(e)&&A.hasPreload(i)&&w.getSegmentsByTvid(e).length>0},_clearData:function(){S.resetProxy(),E.clearAll(),A.clearAll()},_checkSkipHeadTime:function(e){var t=this,i=t._movieinfo;if(i){var a=t._skipHeadTvid,n=y.isSkipPrelude(),r=n&&i.prelude.headTime>0?1e3*i.prelude.headTime:-1;a!=i.tvid&&(i.share_start_time||0===t.share_start_time?t.fire({type:m.Evt_StartShareTime,data:{time:e}}):n&&e===r?(t._skipHeadTvid=i.tvid,L.log("skip prelude, pos: "+r+"!"),t.fire({type:m.Evt_SkipHeader,data:{time:e}})):!0!==t.__checkSkiped&&void 0===a&&e>0&&(t._skipHeadTvid=i.tvid,L.log("apply record, pos: "+e+"!"),t.fire({type:m.Evt_StartFromHistory,data:{time:e}}))),t.__checkSkiped=!0}},_checkSkipTailTime:function(e){var t=this,i=t._movieinfo;if(i&&i.prelude){var a=!!t._skipTailTipped,n=y.isSkipPrelude(),r=n&&i.prelude.tailTime>0?1e3*i.prelude.tailTime:-1;t._skipTailTvid!=i.tvid&&(t._skipTailTvid=i.tvid,t._skipTailTipped=!1);var o=S.getPlayOrder(),s=w.getSegmentByOrder(o);n&&r>0&&e<=r&&(e+15e3>=r?a||w.isFeatureEndSegment(s)&&s.showEndTime===r&&(t._skipTailTipped=!0,L.log("skip tail, cur:"+e+", tail: "+r+"!"),t.fire({type:m.Evt_SkipTail,data:{time:r}})):t._skipTailTipped=!1),w.isFeatureEndSegment(s)&&e+15e3>=s.showEndTime&&t.fire({type:m.Enjoy_Evt_PlayEnd,data:{mv:i}})}},isAd:function(e){var t=!1,i="number"==typeof e&&e>=0?e:S.getPlayOrder(),a=w.getSegmentByOrder(i);return a&&!0===a.ad&&(t=!0),t},_abortAllAres:function(e){var t=this,i="ad play complete and removeFragment,params: rollType = "+e;switch(e){case"preroll":setTimeout(function(){if(t._movieinfo){var e=w.getAresPres(t._movieinfo.tvid);e.length>0&&(L.debug("setsrc remove pres!"),i+=", start = "+e[0].order+", length = "+e.length,L.info(i),S.removeFragment(e[0].order,e.length))}},0);break;case"midroll":setTimeout(function(){if(t._movieinfo){var e=w.getAresMids(t._movieinfo.tvid);e.length>0&&(L.debug("setsrc remove mids!"),i+=", start = "+e[0].order+", length = "+e.length,L.info(i),S.removeFragment(e[0].order,e.length))}},0)}},_getCurrentGas:function(){var e=S.getPlayOrder();return this._getGasByOrder(e)},_getGasByOrder:function(e){e=parseInt(e,10);var t={},i=w.getSegmentByOrder(e);return i&&(t=i.ad?i.gas:{videoEventId:d.getEventId(i.tvid)}),t},_setFragments:function(e){this._segments=e.segments,this._duration=e.duration},_checkSegmentsInPreview:function(e,t){var i=this;return e=e||i.getEngineMovieInfo().previewTime,t=t||i._segments,t.filter(function(t,i,a){var n=t.startTime<e;if(i>0){var r=a[i-1];n=n&&r.endTime<e}return n})},_constructPlaySegments:function(e,t){var i,a,n=this,r=[],o=n._segments,d=t||n._movieinfo,c=d.previewTime;if(t&&(o=d.vidl.filter(function(e){return e.vd===d.vd})[0].segments),l.isArray(o)&&o.length>0){r=o.map(function(e){return u({},e,!0)}).filter(function(e,t,i){var a=e.startTime<c-3e4;if(t>0){var n=i[t-1];a=a&&n.endTime<c}return a});var f=n._getStartEndTimes(e,t);if(i=f.start_play_time,a=f.end_play_time,!isNaN(i)&&i>=0&&i<r[r.length-1].endTime&&(a!==1/0&&i>=a&&(a=r[r.length-1].endTime),r=r.filter(function(e,t,n){var r=n[t+1],o=e.startTime<a;return r&&i>=r.startTime&&(o=!1),o=o&&i<e.endTime}),r.length>0)){var _=r[0],h=r[r.length-1];a=a===1/0?h.endTime:a,n._movieinfo&&n._movieinfo.tvid===d.tvid&&(n._startPlayTime=i/1e3,n._endPlayTime=a/1e3),_.showStartTime=i,h.showEndTime=a}}return 0===r.length&&L.error("construct play segments fail, pos: "+i+", vmi"+(t?s.stringify(t):"")),r},_getStartEndTimes:function(e,t){var i,a,n=this,r=t||n._movieinfo,o=y.isSkipPrelude(),s=r.isPreload?0:1e3*n._startPlayTime,d=o&&r.prelude.headTime>0?1e3*r.prelude.headTime:0,u=o&&r.prelude.tailTime>0?1e3*r.prelude.tailTime:1/0;return i=isNaN(e)||null===e?r.share_start_time||0===r.share_start_time?1e3*parseInt(r.share_start_time):d>=s&&d>0?d:s:e,a=r.share_end_time&&r.share_end_time>=r.share_start_time?1e3*parseInt(r.share_end_time):u,i>1e3*parseInt(r.share_end_time)&&(a=u),{start_play_time:i,end_play_time:a}},_getVRSSegmentByPlayTime:function(e){for(var t,i=this,a=i._segments,n=0;n<a.length;n++)if(a[n+1]){if(e<a[n+1].startTime){t=a[n];break}}else t=a[n];return t},_switchVD:function(e){var t=this,i=function(){t._setFragments(e);var i=1e3*t.getStartPlayTime(),a=t.getBuffered(),n=0;if(a.length>0){n=1e3*(a.end(a.length-1)-k.prototype.getCurrenttime.call(t)),n<0&&(L.debug("buffered in video: "+n+"s"),n=0)}S.sleeping()&&t.pbReload();var r=t._constructPlaySegments(i);S.freshFragments(r,!0,0,i),t._switchDelayTimer=setTimeout(function(){"waiting"===S.getState()?t.once(g.NTF_TimeUpdate,function(){t._noticeVidChanged()}):t._noticeVidChanged()},n)};if(e.segments.length>0)i();else{var a=function(){t._noticeVidChanged(!1)},n=b.getNewVd(e.vd);L.info("switchVD, load movieInfo from vrs,params: tvid = "+t._tvid+", vid = "+t._vid+", islogin = "+c.isLogin()+", vd = "+n+"|"+e.vd),R.request({params:{tvid:t._movieinfo.tvid,vid:e.vid,vd:n,tryCount:0,switchvd:!0},hostUseIP:!1},function(n){if(n.hasOwnProperty("data")&&n.data.hasOwnProperty("st")){var r=parseInt(n.data.st,10);if(100<r&&r<200){var o={vsInfo:n.data.program.video,isVIP:t._movieinfo.isVIP,tvid:t._movieinfo.tvid,cid:t._movieinfo.cid,sid:t._movieinfo.sid,albumId:t._movieinfo.albumId},s=O.analyzeVds(o,e.vd);if(s){for(var d=0;d<t._movieinfo.vidl.length;d++)t._movieinfo.vidl[d].vd==s.vd&&(t._movieinfo.vidl[d]=s);e=s,i()}else a()}else a()}else a()},function(e){a()})}},play:function(e){var t=this;e?t._currentManualAction=g.Status_Play:t._currentCodeActionList.push(g.Status_Play),S.resume()},pause:function(e){var t=this;e?t._currentManualAction=g.Status_Paused:t._currentCodeActionList.push(g.Status_Paused),S.pause()},seek:function(e,t){var i=this;if(e*=1e3,i.hasSeeking=!0,i._checkAuthTime(e)){var a=i._getVRSSegmentByPlayTime(e);if(a){var n=v.getIdentifier(a),r=w.getSegmentByIdentifier(n);w.inFeaturesShowSection(r,e)||(S.freshFragments(i._constructPlaySegments(e),!1),r=w.getSegmentByIdentifier(n)),t?i._currentManualAction=g.NTF_Seeking:i._currentCodeActionList.push(g.NTF_Seeking);var o=!w.isFeatureEndSegment(r);S.seek(w.getOrderById(n),e,{jump:o}),i.play()}i._statusChanged({status:g.Status_Waiting,actionType:g.Action_Type_Code});var s={current:i.getCurrenttime(),duration:i.getDuration()};s.actionType=i._checkActionType(g.NTF_Seeking),i.fire({type:g.NTF_Seeking,data:s})}},isSeeking:function(){return!!this.hasSeeking},getBufferTime:function(){var e=this,t=0,i=S.getPlayInfo(),a=S.getBuffer(),n=i.order,r=a.order;if(t=a.time/1e3,e.isAd())r>n&&(t=e.getDuration());else if(r>n){var o,s=w.getSegmentByOrder(n),d=[];s&&(d=w.getFeaturesBySegment(s),d.length>0&&(o=d[d.length-1],r>o.order&&(t=e.getDuration())))}return t},getCurrenttime:function(){var e=this,t=e.getDuration(),i=S.getPlayInfo().time/1e3;return i<t||isNaN(t)?i:0},getDuration:function(){var e=this,t=0;if(e.isAd()){var i=S.getPlayInfo();t=i.segment&&!0===i.segment.done?i.segment.realEndTime/1e3:Number.NaN}else e._duration&&(t=e._duration/1e3||0);return t},isPaused:function(){return this._paused},pbLog:function(){S.log()},pbVisualizer:function(){T.toggle()},pbVersion:function(){return S.version},pbSleep:function(){S.reset(null)},pbReload:function(){S.reset(this._video)},pbDone:function(){return S.isDone()},hasSwitchPage:function(){return S.switchPage()},_removeAres:function(e){var t=parseInt(e,10),i=w.getSegmentByOrder(t),a=w.getSegmentByOrder(t+1);i&&i.ad&&(a?(L.debug("abortAres removeFragment "+t+", "+s.stringify(i)),S.removeFragment(i.order,1)):(L.warn("remove ares & reset pb, length is 1."),S.resetProxy()))},_abortAres:function(){var e=S.getPlayOrder();this._removeAres(e)},setAresSDK:function(e){var t=this,i=e.init;t._sdkloaded=!0,L.log("ares version: "+(e.version?e.version:"")),t._aressdk=e,t.fire({type:x.NTF_ARES_Load}),i.hijack||(e.init=function(a){i.call(e,a),t.fire({type:x.NTF_ARES_Init}),L.debug("ares init: "+s.stringify(a))},e.init.hijack=!0)},getAresSDK:function(){return this._aressdk},setAresMW:function(e){var t=this;t._aresmw=e,t.fire({type:"ares_mwready"}),e.bussiness.on("_playdata_",function(e){var i=e.data,a=i.videoEventId,n=d.getEpisodeId(a),r=E.valid(n);L.debug("ares mw load"+(r?"":" invalid")+":"+s.stringify(i)),r&&setTimeout(function(){t.fire({type:x.NTF_ARES_Gas,data:i||{}})},0)})},_loadAdSdk:function(){var e,t,i=this;"pc"==i._sdkType?(e="mars",t=i._param.h5adsrc):(e="aresPad",t=i._param.h5AdPadSrc),this._loadAdStart(e,t)},_loadAdStart:function(e,t){var i=this,a=t;void 0===window[e]?a&&""!==a?o.seriesLoadScripts(a,function(t){t&&void 0!==window[e]?(i.setAresSDK(window[e]),i.fire({type:"aresloaded"})):L.error("h5 data ad sdk load error!")}):L.error("params ares src is null. "):i.setAresSDK(window[e])},_initAdEvents:function(){function e(e){t._movieinfo.ares&&t.initares(e)}var t=this;t.on(x.NTF_MovieInfoChange,function(e){var i=e.data.preMovieInfo,a=e.data.curMovieInfo;if(i)try{L.debug("stop ares: "+i.tvid),t._aresmw._disableVideoOP=!0,t.getAresSDK().stop({videoEventId:d.getEventId(i.tvid)})}catch(e){}else a&&(L.debug("stop ares by refreshPlayer: "+a.tvid),t.getAresSDK().destroy({videoEventId:d.getEventId(a.tvid)}))}),t.on(x.NTF_TVIDChanged,function(e){t._aresmw._disableVideoOP=!1}),t.on(x.NTF_VRSReady,function(i){t._movieinfo=i.data,t._movieinfo.isPreload||e()}),t.on(x.NTF_VRSPreloaded,function(i){t._preMovieinfo=i.data,e(i.data)}),t.on(x.NTF_ARES_End,function(e){t._aresdone(e.data)})},_aresdone:function(e){var t=this,i=e.rollType;L.debug("ares done! "+(i?"("+i+")":"")),t._abortAllAres(i),(t._isSkipAD&&t._autoplay||!t._isSkipAD||p.os.ios||p.os.android)&&t.isPaused()&&(L.debug("manual play"),t.play())},initares:function(e){var t=this;t._sdkloaded&&t._aresmw?t._initAres(e):(t._aresSDKLoadPromise||(t._aresSDKLoadPromise=new Promise(function(e){t._sdkloaded?e():t.on("aresloaded",function(){e()})})),t._aresMWLoadPromise||(t._aresMWLoadPromise=new Promise(function(e){t._aresmw?e():t.on("ares_mwready",function(){e()})})),Promise.all([t._aresSDKLoadPromise,t._aresMWLoadPromise]).then(function(){t._initAres(e)}))},_initAres:function(e){var t,i=this,a=e||i._movieinfo,n=q.getViFromVl(a.tvid,a.vid);t=n&&n.cid?n.cid:i._param.cid||"",i._param.isCid||!p.os.android&&!p.os.ios||(t=navigator.userAgent.indexOf("MicroMessenger")>-1?"qc_105092_300416":"qc_100001_100103");var r=i._param.isSupportViewpoint||!1,o=i._param.site||"iqiyiw";c.isVip(function(e){i._aresmw._isVip=e;var n=i._aresmw.video(),s=(a.videoQipuId||a.tvid)+"",u={autoLoad:!0,autoRender:!0,isMacH5:!0,isPreload:!!a.isPreload,adPlayerId:t,episodeId:s,videoEventId:d.generate(s),videoDefinition:a.vd,showVoiceIcon:!(p.os.android||p.os.ios),videoMidware:i._aresmw,isVIP:e,isSupportViewpoint:r,site:o,locale:i._param.local,passportId:c.getUid(),passportCookie:c.passportCookie(),clientVersion:D.playerVersion,videoContainer:n,couponCode:i._param.cpnc||"",couponVer:i._param.cpnv||"",ptid:p.getPtid(f.isTWLocale())};"mobile"==i._sdkType&&(u.formatType="f4v",p.os.androidTablet?(u.deviceType="gpad",u.adPlayerId=f.isTWLocale()?"qc_105136_101044":"qc_100001_101043"):(u.deviceType="gphone",u.adPlayerId=f.isTWLocale()?"qc_105136_100640":"qc_100001_100186")),setTimeout(function(){i.getAresSDK().init(u)},0)})},getDefinitionAd:function(e){var t;return E.valid(e)&&(t=E.getDefinitionAd(e)),t},_getVDInfo:function(e){var t=this,i=e||t._movieinfo;return i.vidl.filter(function(a){return a.vd===(e?i.vd:t._vd)})[0]},getVBR:function(){var e=this,t=e.getDuration(),i=0;if(e._movieinfo&&0!==t&&!e.isAd()){var a=e._getVDInfo().vsize;i=parseInt(a/t)}return i}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(1),o=i(10),s=i(2),d=i(21),u=i(14),l=i(94),c=i(52),f=i(53),_=new r("PBVisualizer"),h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,p=window.cancelAnimationFrame||window.mozCancelAnimationFrame,b="QiyiPlayerVisualizer",g=n("PBVisualizer",{extend:s,construct:function(){var e=this;e._initShowFlag=1===parseInt(u.read(b),10),e._showFlag=e._initShowFlag;try{e._canvas=document.createElement("canvas"),e._canvas.width=450,e._canvas.height=150,e._canvasCTX=e._canvas.getContext("2d"),e._graphics=new l.Graphics(e._canvas),e._hide()}catch(e){}},methods:{init:function(e,t){var i=this;i._video=t,i._video.parentNode.appendChild(i._canvas),i._layout(),i._initShowFlag&&i._show()},_layout:function(){d(this._canvas).css("pointerEvents","none").css("width","auto").css("height","auto").css("position","absolute").css("zIndex","100000").css("top","15px").css("left","15px")},_drawOutline:function(){var e=this;e._canvasCTX.fillStyle="rgba(26,26,26, 0.8)",e._canvasCTX.clearRect(0,0,450,150),e._canvasCTX.fillRect(0,0,450,150),e._canvasCTX.fontSize="18px"},_drawCloseTip:function(){var e=this,t=this._graphics;e._canvasCTX.fillStyle="rgba(225, 225, 225, 1)",t.wrapText("[CTRL+ALT+F7 开启/关闭]",320,15,430,20)},_drawFace:function(e,t,i,a){var n=this._graphics,r=2*i,o=n.create(e,t,r,r);o.setColor("#000000"),o.fillCircle(0,0,i);o.setColor(a),o.fillCircle(1,1,i-1);var s=r/25,d=i-4*s,u=i+4*s-2*s,l=r/3;o.setStrokeColor("#000000"),o.drawCircle(d,l,s),o.drawCircle(u,l,s);var c=r/2,f=i-c/2,_=2*r/3;o.setStrokeColor("#000000"),o.drawLine(f,_,f+c,_)},_drawSynopsis:function(e){var t=this,i=t._graphics,a=f.isDone(),n=f.getPlayOrder(),r=0,o=e.map(function(e){var t=e.order,i=n===t?"▶":"",a="F";return e.ad&&(a="A"+e.rollType[0].toUpperCase(),r++),i+a+"-"+e.vid.slice(0,5)}),s=o.length>0?e[0].rate:"null",d="rate: "+s+", ",u=d;t._drawFace(10,4,10,a?"#699f00":"red"),t._canvasCTX.fillStyle="rgba(225, 225, 225, 1)",i.wrapText(u,35,15,430,20)},_drawProcess:function(e,t,i){var a=this,n=a._graphics,r=45,s=10,d=0,u=0,l=0,c=0,f=0,_=[],h=[],p=[];if(e.forEach(function(e,t,i){var a=e.tvid;0!==t&&i[t-1].tvid===a||(p=[],h.push(p)),p.push(e),0===t&&(u=e.startTime,l=e.showStartTime),t!==i.length-1&&_.push(e.endTime)}),h.map(function(e){var t=0,i=0,a=e[e.length-1],n=e[0];return n.startTime>-1&&a.startTime>-1?(i=a.endTime-n.startTime,t=a.showEndTime-n.showStartTime):i=e.reduce(function(e,t){return e.realEndTime+t.realEndTime},0),{du:i,showdu:t}}).forEach(function(e){c+=e.du,f+=e.showdu}),d=parseInt(f/c*430,10)||0,s+=parseInt((l-u)/c*430,10)||0,n.setStrokeColor("rgba(225, 225, 225, 1)"),n.drawRect(10,r,430,20),n.fillRect(s,r,d,20),_.forEach(function(e){var t=(e-u)/c*430+10;n.setStrokeColor("rgba(225, 255, 255, 1)"),n.drawLine(t,46,t,64),n.setColor("rgba(225, 225, 225, 1)"),n.textBaseline("bottom"),n.fillText(o.formatMilliseconds(e/1e3),t-16,41)}),e.length>0){var b=(i-u)/c*430+10,g=a._canvasCTX;g.beginPath();var v=parseInt(8/Math.tan(120*Math.PI/360),10);g.moveTo(b,66),g.lineTo(b+v,74),g.lineTo(b-v,74),g.fillStyle="black",g.fill(),g.closePath()}},_drawSegmentsText:function(e,t){var i=this,a=i._graphics,n=0,r=e.map(function(e){var i=e.order,a=t===i?"▶":"",r="F";return e.ad&&(r="A"+e.rollType[0].toUpperCase(),n++),a+r+"-"+e.vid.slice(0,5)}),o=r.length+"_"+n+", ";i._canvasCTX.fillStyle="rgba(225, 225, 225, 1)",a.wrapText(o+"["+r.join("_|_")+"]",10,90,430,20)},_show:function(){var e=this;e._showFlag=!0,d(e._canvas).css("display",""),e._requestID=h(function t(){e._update(),e._requestID=h(t)})},_hide:function(){var e=this;e._showFlag=!1,d(e._canvas).css("display","none"),p(e._requestID)},toggle:function(){var e=this;_.warn("toggle pb visualizer!"),e._showFlag?(u.remove(b),e._hide()):(u.write(b,1),e._show())},_update:function(){var e=this,t=c.getData(),i=f.getPlayInfo(),a=i.order,n=i.time;try{e._drawOutline(),e._drawSynopsis(t),e._drawCloseTip(t),e._drawProcess(t,a,n),e._drawSegmentsText(t,a),e._layout()}catch(e){}}}});a.exports=new g}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,i){var a={Rectangle:function(e,t,i,a){this.x=e,this.y=t,this.width=i,this.height=a,this.clone=function(){return new this.Rectangle(this.x,this.y,this.width,this.height)}},Graphics:function(e){function t(e,t,i){r.beginPath(),r.arc(o.x+e+i,o.y+t+i,i,0,2*Math.PI,!0),r.closePath()}function i(e,t,i){if(r.beginPath(),null!==e&&null!==t){var a=Math.min(i,Math.min(e.length,t.length));if(a>0)for(var n=0;n<i&&n<a;n++){var s=o.x+e[n],d=o.y+t[n];0===n?r.moveTo(s,d):r.lineTo(s,d)}}}var n="string"==typeof e?document.getElementById(e):e,r=n.getContext("2d"),o=new a.Rectangle(0,0);this.getCanvas=function(){return n},this.getContext=function(){return r},this.getWidth=function(){return n.width},this.getHeight=function(){return n.height},this.create=function(e,t,i,r){var o=new a.Graphics(n);return void 0!==e&&null!==e&&void 0!==t&&null!==t&&o.translate(e,t),o},this.setColor=function(e){r.fillStyle=e},this.getColor=function(){return r.fillStyle},this.setStrokeColor=function(e){r.strokeStyle=e},this.getStrokeColor=function(){return r.strokeStyle},this.textBaseline=function(e){r.textBaseline=e},this.clipRect=function(e,t,i,a){},this.fillRect=function(e,t,i,a){r.fillRect(o.x+e,o.y+t,i,a)},this.clearRect=function(e,t,i,a){r.clearRect(e,t,i,a)},this.drawRect=function(e,t,i,a){r.strokeRect(o.x+e,o.y+t,i,a)},this.fillCircle=function(e,i,a){t(e,i,a),r.fill()},this.drawCircle=function(e,i,a){t(e,i,a),r.stroke()},this.drawLine=function(e,t,i,a){r.beginPath(),r.moveTo(o.x+e,o.y+t),r.lineTo(o.x+i,o.y+a),r.stroke()},this.drawPolygon=function(e,t,a){a>0&&null!==e&&null!==t&&(i(e,t,a),r.stroke())},this.fillPolygon=function(e,t,a){a>0&&null!==e&&null!==t&&(i(e,t,a),r.fill())},this.translate=function(e,t){o.x=e,o.y=t},this.wrapText=function(e,t,i,a,n){var r=this,o=r.getContext(),s=e.split(""),d="";o.textBaseline="middle";for(var u=0;u<s.length;u++){var l=d+s[u]+"";o.measureText(l).width>a&&u>0?(o.fillText(d,t,i),d=s[u]+"",i+=n):d=l}o.fillText(d,t,i)},this.fillText=function(e,t,i){this.getContext().fillText(e,t,i)}}};i.exports=a}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(2),o=i(1),s=i(12),d=i(17),u=i(10),l=i(6),c=i(33),f=i(9),_=(i(4),i(32)),h=i(19),p=i(20),b=i(52),g=i(27),v=i(53),m=new o("DEngineEmitters"),y=n("DEngineEmitters",{extend:r,methods:{init:function(e){var t=this;t.engine=e,t._engineEvents(),t._episodeEvents(),t._vrsEvents(),t._providerEvents(),t.engine._param.feedMode||(t._aresEvents(),t._adSDKEvents())},_engineEvents:function(){var e=this,t=e.engine;t.on(h.NTF_TimeUpdate,function(){var e=1e3*t.getCurrenttime();t._checkAuthTime(e),t._checkSecondAuthTime(e),t._checkSkipTailTime(e)}),t.on(p.NTF_SetSkipPrelude,function(e){var i=1e3*t.getCurrenttime(),a=t._constructPlaySegments(i);v.freshFragments(a,!0,0,i)}),t.on(p.Status_Destroy,function(){g.destroy()})},_episodeEvents:function(){var e=this,t=e.engine;g.on("finishAddPres",function(e){var i=e.data,a=i.videoId,n=i.length,r=t._getCurrentGas(),o=d.getEpisodeId(r.videoEventId),s=t._constructPlaySegments(null,g.getInfo(a));a===o||0===n&&(void 0===o||isNaN(o))?m.debug(a+": concat cur episode"):m.debug(a+": concat preload episode"),v.fillFragments(s,v.getLastOrder(),Number.MAX_VALUE)})},_aresEvents:function(){var e=this,t=e.engine;t.on(p.NTF_ARES_Gas,function(e){var i=e.data,a=i.videoEventId,n=d.getEpisodeId(a),r=new _(!0,!1,i.file,i,n,s(i.id),[],"AD","AD","AD","AD",-1,0,-1,0,-1),u=0,l=0;if(0===i.offset)g.finishPres(n)?m.warn(n+": ignore ares gas, "+o.stringify(i)):(g.addPres(n,[r]),m.debug(n+": concat pre-ares!"),v.fillFragments([r]));else if(i.offset>0)if(t.getCurrenttime()<i.offset){var c=b.getAresMids(),f=c.length;if(c.length>0){var h=c[f-1];u=b.getIndex(h),l=Number.MAX_VALUE}else u=-1,l=1e3*i.offset;v.addFragment([r],u,l),g.addMids(n,[r])}else m.warn(n+":drop ares gas, "+o.stringify(i))}),t.on(p.NTF_ARES_GasFinish,function(e){var t=e.data,i=t.videoId;switch(t.rollType){case"preroll":g.finishPres(i,!0);break;case"midroll":g.finishMids(i,!0)}}),t.on(p.NTF_ARES_End,function(e){var t=e.data,i=t.rollType,a=t.videoId;switch(i){case"preroll":g.finishPres(a,!0);break;case"midroll":g.finishMids(a,!0)}})},_adSDKEvents:function(){var e=this,t=e.engine;t.on(p.NTF_ARES_Load,function(e){var i=t._aressdk;i&&(i.on("roll-play",function(e){var i=e.rollType,a=e.videoEventId,n=d.getEpisodeId(a),r=g.valid(n);m.debug("ares"+(r?"":" invalid")+" roll-play:"+o.stringify(e));var s={};r&&t.fire({type:p.NTF_ARES_Play,data:{rollType:i,videoId:n,seekable:!1,adData:s}})}),i.on("roll-ended",function(e){var i=e.rollType,a=e.videoEventId,n=d.getEpisodeId(a),r=!t._movieinfo||t._movieinfo.tvid==n,s=g.valid(n)&&r;m.debug("ares"+(s?"":" invalid")+" roll-ended:"+o.stringify(e)+", videoId: "+n+", tvid: "+(t._movieinfo?t._movieinfo.tvid:"movieinfo_undefined")),s&&t.fire({type:p.NTF_ARES_End,agent:"ares",data:{rollType:i,videoId:n}})}),i.on("roll-load-finish",function(e){var i=e.rollType,a=e.videoEventId,n=d.getEpisodeId(a),r=g.valid(n);m.log("roll-load-finish"+(r?"":" invalid")+":"+o.stringify(e)),r&&setTimeout(function(){t.fire({type:p.NTF_ARES_GasFinish,data:{rollType:i,videoId:n}})},0)}),i.on("error",function(e){t.brokedown(7001,"P07001"),m.log("ad error"+o.stringify(e))}),i.on("adplayer_ad_info",function(e){e=e||{};var i=e.data.videoEventId,a=d.getEpisodeId(i),n=g.valid(a);m.debug("ares notice-info"+(n?"":" invalid")+":"+o.stringify(e)),n&&(u.isObject(e.definitionSwitchingAd)&&g.setDefinitionAd(a,e),t.fire({type:p.NTF_ARES_Info,data:e}))}),i.off("adplayer_ad_start"),i.on("adplayer_ad_start",function(e){t.fire({type:p.NTF_AD_Start,data:e})}),i.off("adplayer_ad_end"),i.on("adplayer_ad_end",function(e){t.fire({type:p.NTF_AD_End,data:e})}))})},_vrsEvents:function(){var e=this,t=e.engine;t.on(p.NTF_VRSPreloaded,function(e){var i=e.data,a=i.videoQipuId,n=t._constructPlaySegments(null,i);g.finishPres(a)&&!g.finishFeatures(a)&&(m.debug(a+": 预载直接拼Feature seg!"),v.fillFragments(n,v.getLastOrder(),Number.MAX_VALUE)),g.setInfo(a,i),g.freshFeatures(a,n),g.finishFeatures(a,!0)}),t.on(p.NTF_ReJointPreload,function(e){var i=e.data,a=i.videoQipuId;if(g.finishPres(a)&&g.finishFeatures(a)){var n=g.getPres(a),r=t._constructPlaySegments(null,i);m.debug(a+":rejoint preload, ares("+n.length+") & feature("+r.length+")!"),v.fillFragments(n.concat(r),v.getLastOrder(),Number.MAX_VALUE),g.setInfo(a,i),g.freshFeatures(a,r),g.finishFeatures(a,!0)}}),t.on(p.NTF_VRSReady,function(e){var i=e.data,a=i.videoQipuId,n=t._getVDInfo(),r=t._movieinfo;if("m4s"===n.fileFormat)return l.set("QP0016","qvs",{expires:864e5,path:"/",domain:".iqiyi.com"}),void c.get({tvid:r.tvid,vid:r.vid},function(e){if(!/demo\.iqiyi\.com/gi.test(window.location.href)&&e.vi.vu){var t=f.query("list");window.location.href=e.vi.vu+(t?"?list="+t:"")}else window.location.reload()});g.setInfo(a,i),i.ares&&t._param.feedMode+""!="true"||g.finishPres(a,!0),g.freshFeatures(a,t._checkSegmentsInPreview()),g.finishFeatures(a,!0)})},_providerEvents:function(){var e=this,t=e.engine;v.on("orderWillChange",function(e){var i=e.data.order,a=b.getSegmentByOrder(i),n=b.getSegmentByOrder(i+1),r=t._getGasByOrder(i);if(t.isAd()){var o=i>=0&&n&&!0===n.ad;a&&(o||t.fire({type:p.NTF_ARES_End,data:{videoId:d.getEpisodeId(r.videoEventId),rollType:a.rollType}}))}}),v.on("stateChange",function(e){var i,a,n=e.data;switch("endFragment"!==n.state&&"startFragment"!==n.state&&"playing"!==n.state&&"pause"!==n.state&&"stop"!==n.state&&"error"!==n.state||(t.hasSeeking=!1),n.state){case"endFragment":i=parseInt(n.order,10),a=b.getSegmentByOrder(i),t.isAd(i)?a.vid===n.vid&&(m.log("p2p state change -- ,params: type = endFragment, 在播碎片结束(广告)"),t._statusChanged({status:h.Status_Stoped})):b.isFeatureEndSegment(a)&&!b.isEndSegment(a)&&(Math.abs(n.time-a.realEndTime)<=2e3?(m.log("p2p state change -- ,params: type = endFragment, 在播碎片结束(正片最后一个碎片)"),t._statusChanged({status:h.Status_Stoped})):m.warn("p2p state change -- ,params: type = endFragment, data.time: "+n.time+"realEndTime: "+a.realEndTime));break;case"startFragment":i=parseInt(n.order,10),t.isAd(i)?t._paused||(m.log("p2p state change -- ,params: type = startFragment, 碎片播放开始(广告)"),t._statusChanged({status:h.Status_Play}),t._statusChanged({status:h.Status_Playing})):b.isFeatureFirstSegment(b.getSegmentByOrder(i))&&(m.log("p2p state change -- ,params: type = startFragment, 碎片播放开始(正片第一个碎片)"),t._statusChanged({status:h.Status_Play}),t._statusChanged({status:h.Status_Playing}),setTimeout(function(){v.isDone()&&t._statusChanged({status:h.Status_Loaddone})},200));break;case"loadState":if(t.isAd(n.arg1)&&u.isObject(n.arg2)){var r=n.arg2;"cache"===r.loadType&&"start"===r.activeType&&t._statusChanged({status:h.Status_Loadstart,eventOrigin:"ad",gas:t._getGasByOrder(n.arg1)})}break;case"playing":t._paused=!1,t._statusChanged({status:h.Status_Play,actionType:t._checkActionType(h.Status_Play)}),t._statusChanged({status:h.Status_Playing,actionType:t._checkActionType(h.Status_Playing)});break;case"pause":t._paused=!0,t._statusChanged({status:h.Status_Paused,actionType:t._checkActionType(h.Status_Paused)});break;case"waiting":case"seeking":t._paused=!0,t._statusChanged({status:h.Status_Waiting,actionType:t._checkActionType(h.Status_Waiting)});break;case"progress":t.fire({type:h.NTF_Progress,data:{buffer:t.getBufferTime()}});break;case"stop":t._paused=!0,t._checkAuthTime(t._movieinfo&&t._movieinfo.isVIP&&t._movieinfo.previewTime<1/0?t._movieinfo.previewTime+1:1e3*t.getCurrenttime())&&t._statusChanged({status:h.Status_Stoped});break;case"done":t._statusChanged({status:h.Status_Loaddone,actionType:!1});break;case"error":if(t._statusChanged({status:h.Status_LoadFailed,actionType:!1,gas:t._getGasByOrder(n.arg1)}),t.isAd(n.arg1))m.log("p2p state change -- ,params: type = error, (广告)"),t._removeAres(n.arg1);else switch(m.error("p2p state change -- ,params: type = error, 正片, arg2 = "+n.arg2+" (dispatch:调度出错<PB7001>,keyframe:数据验证失败<PB7002>,load:数据下载出错<PB7003>,hijack:视频下载劫持报错<PB7004>,data:数据结构错误<PB7005>,decoder:数据解码报错<PB7006>)"),n.arg2){case"dispatch":t.brokedown(201,"PB7001","7001");break;case"keyframe":t.brokedown(202,"PB7002","7002");break;case"load":t.brokedown(203,"PB7003","7003");break;case"hijack":t.brokedown(204,"PB7004","7004");break;case"data":t.brokedown(205,"PB7005","7005");break;case"decoder":t.brokedown(206,"PB7006","7006")}break;case"muted":t.fire({type:h.NTF_StatusChanged,data:{status:h.Status_Playing_Failed_By_Autoplay}})}}),v.on("orderChange",function(e){var i=e.data.order;if(t.isAd());else{var a=b.getSegmentByOrder(i);if(b.isFeatureFirstSegment(a))i>0&&(m.debug("playing at first feature segment, remove all segments before this segment!"),v.removeFragment(0,i),e.data.order=0),t._checkSkipHeadTime(a.showStartTime);else{var n=b.getAresPres(a.episodeId),r=b.getAresMids(a.episodeId);n.length>0&&(m.debug("remove all pres!"),v.removeFragment(n[0].order,n.length)),r.length>0&&(m.debug("remove all mids!"),v.removeFragment(r[0].order,r.length))}}})}}});a.exports=new y}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(6),o=i(15),s=i(1),d=i(17),u=i(3),l=(i(10),i(5)),c=i(4),f=i(24),_=i(14),h=i(34),p=i(7),b=i(66),g=i(12),v=i(18),m=i(8),y=i(42),x=i(19),k=i(51),w=i(35),S=i(20),T=i(50),A=i(16),I=i(23),E=i(58),P=i(40),D=i(97),q=i(54),O=i(98),R=i(27),L=i(69),M=i(57),C=i(99),F=i(55),N=i(41),V=i(70),U=new s("QVSEngine");N.Conf&&U.enabledFor(s.levels.DEBUG)&&(N.Conf.DEBUG=!0),N.logger&&(N.logger.enable=!0,N.logger=U),a.exports=n("QVSEngine",{extend:T,construct:function(e,t){var i=this;i.useCDNWithHLS=b.canaryHLSCdnLoader(),i.emitter=new O,i.p2p=new D,i.p2p.on("dashUpdated",function(e){if(void 0!==e.data.levelID&&void 0!==e.data.streamInfo){var t=e.data.levelID,a=JSON.parse(e.data.streamInfo);if(a.data&&a.data.program.video.length>0&&!i.isAd()&&a.data.tvid==i._movieinfo.tvid){if(a.data.tvid!==i._movieinfo.tvid)return void U.info(">>>> p2p dashUpdated tvid is not current , current = "+i._movieinfo.tvid+", p2p = "+a.data.tvid);var n=i.getCurrentVD(),r=f.getNewVd(n),o=f.getOldVd(t);U.info(">>>> p2p dashUpdated , auto = "+i.autoVdUsing()+",vd="+o+"("+t+"),pre="+n+"("+r+"), dashtvid = "+a.data.tvid),i._switchVD({vd:o,bid:t,fileFormat:a.data.program.video[0].ff},a),i.autoVdUsing()&&(parseInt(t)>parseInt(r)?E.sendAutoUpToVDPingback(o,n):parseInt(t)<parseInt(r)&&E.sendAutoDwnToVDPingback(o,n))}else U.info("p2p dashUpdated error , streamInfo error or ad = "+i.isAd())}else U.info("p2p dashUpdated error , levelID or streamInfo is undefined")}),i._param=t,i._pburl=t.h5P2PABSUrl,i._vrs={},i._sdkloaded=!1,i._isSkipAD=!0,i._autoVdEnable=!1,i.firstLoadMovie=!0,N.externals.md5=g,N.externals.cmd5x=v.cmd5x,N.externals.UUID=m;var a=new N(e,{enableWorker:!0,switchVariantImmediate:!1,useP2PInHls:!i.useCDNWithHLS,p2pLoader:i.p2p.enabled?i.p2p:null});window.qvs=this.qvs=a,i.p2p.__setQVS(this.qvs),i._canFireDecodeEvt=function(){return!1},i.emitter.init(i),q.setEngine(i)},methods:{assemble:function(){var e=this;e._checkAssembled()||(e.p2p.enabled&&e._loadP2PSdk(),e._loadAdSdk())},isAssembled:function(){var e=!this.p2p.enabled||this.p2p.isReady(),t=!!this.getAresSDK();return e&&t},_loadP2PSdk:function(){var e=this,t=function(){var t=window.QIYI_HTML5_P2P_PlayBack_0002;t?(U.info("P2P core load ready"),e.p2p.__setSDK(t,e.qvs),e._checkAssembled()):U.info("P2P core load error")};window.QIYI_HTML5_P2P_PlayBack_0002?t():(U.info("P2P core start load,params:url = "+e._pburl),A.sTime_P2PCore=new Date-A.pgct,o.seriesLoadScripts(e._pburl,function(e){A.usedTime_P2PCore=new Date-A.sTime_P2PCore-A.pgct,t()}))},_loadAdSdk:function(){var e=this,t=e._param.h5adsrc;"undefined"==typeof mars?t&&""!==t?(I.asdklstm=+new Date,I.adastm=+new Date,o.seriesLoadScripts(t,function(t){t&&"undefined"!=typeof mars?(e.setAresSDK(mars),I.asdkletm=+new Date,e.fire({type:"aresloaded"}),e._checkAssembled()):U.error("h5 data ad sdk load error!")})):U.error("params ares src is null. "):(e.setAresSDK(mars),e._checkAssembled())},_checkAssembled:function(){var e=this,t=e.isAssembled();return t&&e.fire({type:S.Status_Assembled}),t},loadMovie:function(e,t){var i=this,a=i._vd;i.firstLoadMovie&&this._autoVdEnable&&(i.firstLoadMovie=!1,96!=i._vd&&1!=i._vd||(a=2));var n=this._autoVdEnable?q.getPid(e,t,a):q.getPid(e,t);i._movieinfo.dataProviderPID=n,i._noticeDataStart();var r=function(e){e.isPreload=!!e.isPreload,u(i._movieinfo,e,!0),i._movieinfo.vd=e.vd,i._movieinfo.ok=!0,i._resetFLVDuration(),i._vd=e.vd,i.isAssembled()?(i._noticeDataReady(),i._noticeDataDone()):i.on(S.Status_Assembled,function(){i._noticeDataReady(),i._noticeDataDone()}),i._parseAudioList()};if(h.read(h.PLAYER_TEMP_VD_KEY)&&i.fire({type:S.NTF_LoadTempVd,data:{userVd:_.read(_.PLAYER_VD_KEY)||2,tempVd:h.read(h.PLAYER_TEMP_VD_KEY)}}),q.hasPreload(n)){var o=q.getData(n);r(o)}else q.getPromise(n).then(function(e){e.isPreload=!1,r(e)},function(e){switch(u(i._movieinfo,e.movieinfo,!0),e.type){case 0:i.qvs.reset(),i.brokedown(e.code,e.originalCode,e.ec,e.vmsst);break;case 1:i.qvs.reset(),i._noticeRecharge(e.code);break;case 2:i.qvs.reset(),i.brokedown(22);break;default:U.error(e&&e.stack?e.stack:e)}i._noticeDataDone()});i._aresInit||(i._aresInit=!0,i._initAdEvents())},preload:function(e,t){var i=this,a=i._autoVdEnable?q.getPid(e,t,i._vd):q.getPid(e,t);R.valid(e,!0),q.hasPreload(a)||(h.read(h.PLAYER_TEMP_VD_KEY)&&i.fire({type:S.NTF_LoadTempVd,data:{userVd:_.read(_.PLAYER_VD_KEY)||2,tempVd:h.read(h.PLAYER_TEMP_VD_KEY)}}),q.getPromise(a).then(function(e){e.dataProviderPID=a,e.isPreload=!0,e.ares=!0,i._preloadedMovieInfo=e,i._noticeDataPreloaded()},function(e){U.warn("preload movie which requires auth: "+s.stringify(e))}))},hasPreload:function(e){var t=!1;return e+="",t=R.finishPres(e),t=t&&R.finishFeatures(e)},_getVDInfo:function(e){var t=this,i=e||t._movieinfo;return i.vidl.filter(function(a){return a.vd===(e?i.vd:t._vd)})[0]},_clearData:function(){clearTimeout(this._fireGasTimer),clearTimeout(this._fireGasFinishTimer),this.qvs.reset(),R.clearAll(),q.clearAll()},_checkSkipHeadTime:function(e){var t=this,i=t._movieinfo;if(e=Math.floor(e),i&&!i._hasTipPlayStartFrom){var a=t._skipHeadTvid;w.isSkipPrelude();if(i._hasTipPlayStartFrom=!0,a!=i.tvid)switch(i.playStartFrom){case"prelude":U.log("skip prelude, pos: "+e+"!"),t.fire({type:k.Evt_SkipHeader,data:{time:e}});break;case"share":U.log("apply share start, pos: "+e+"!"),t.fire({type:k.Evt_StartShareTime,data:{time:e}});break;case"history":U.log("apply record, pos: "+e+"!"),t.fire({type:k.Evt_StartFromHistory,data:{time:e}})}}},_checkSkipTailTime:function(e){var t=this,i=t._movieinfo;if(i&&i.prelude){var a=!!t._skipTailTipped,n=w.isSkipPrelude(),r=n&&i.prelude.tailTime>0?1e3*i.prelude.tailTime:-1;t._skipTailTvid!=i.tvid&&(t._skipTailTvid=i.tvid,t._skipTailTipped=!1),n&&r>0&&e<=r&&(e+15e3>=r?a||(t._skipTailTipped=!0,U.log("skip tail, cur:"+e+", tail: "+r+"!"),t.fire({type:k.Evt_SkipTail,data:{time:r}})):t._skipTailTipped=!1)}},isAd:function(){return this.qvs.isRolling},_abortAllAres:function(e){var t=this,i="abort all "+e+" roll";switch(e){case"preroll":case"midroll":setTimeout(function(){U.info(i),t.qvs.abortRollingStream()},0)}},_getCurrentGas:function(){return this.isAd()?this.qvs.getCurrentADGas():{videoEventId:d.getEventId(this._movieinfo.tvid)}},_constructPlayTimeRanges:function(e){var t,i=this,a=e||i._movieinfo,n=0,r=a.isPreload?0:i._startPlayTime,o=w.isSkipPrelude(),s=o&&a.prelude.headTime>0?a.prelude.headTime:0,d=o&&a.prelude.tailTime>0?a.prelude.tailTime:1/0;return t=d,r>0&&r+5<t&&(a.playStartFrom="history",n=r),s>0&&s>=n&&(a.playStartFrom="prelude",n=s),"number"==typeof a.share_start_time&&a.share_start_time>=0&&(n=parseInt(a.share_start_time),a.playStartFrom="share"),"number"==typeof a.share_end_time&&a.share_end_time&&a.share_end_time>=a.share_start_time&&(t=parseInt(a.share_end_time)),n>parseInt(a.share_end_time)&&(t=d),[[n,t]]},_getP2PTimeRange:function(e,t){var i=t[0][0],a=t[0][t[0].length-1],n=this.getCurrenttime();if("boolean"==typeof e.isAccurateTimeStamp&&!e.isAccurateTimeStamp){var r=this.qvs.config.hlsRangeTSTolerance;i=i-r>=0?i-r:0,a=a+r<=e.duration?a+r:a}return e.tvid==this._movieinfo.tvid&&n>=a&&(i=this.qvs.mediaBufferInfo.end,a=1/0),t=[[i,a]],U.info("=== top2p reset timerange = "+i+"-"+a),t},_switchVD:function(e,t){var i=this,a=i.qvs,n=function(){var n,r=e.m3u8;if(i.p2p.enabled&&!t&&e.vd===i.autoVdValue)return void i.p2p.setBitrate(i._movieinfo.tvid,e.vd);if(i.switchVmsRequest&&i.switchVmsResponse&&(e.requestParam=i.switchVmsRequest.getReqParams(),e.responseData=i.switchVmsResponse),-1!==e.vd){switch(e.fileFormat){case"m4s":n=N.ManifestTypes.DASH;break;case"ts":n=N.ManifestTypes.HLS,r={data:e.m3u8,bid:e.bid},t&&(r.isClearBuffer=!1);break;case"f4v":n=N.ManifestTypes.F4V,r=V.getFLVContent(e,i._movieinfo)}if(i.p2p.enabled&&(n===N.ManifestTypes.DASH||n===N.ManifestTypes.HLS&&!i.useCDNWithHLS)&&!t){var o=i._constructPlayTimeRanges(),s=o;n===N.ManifestTypes.HLS&&(s=i._getP2PTimeRange(i._movieinfo,o)),i.p2p.feed(e.requestParam,e.responseData,s,!0,e.bid)}if(a.switchVariant(n,r,!1),void 0!==t&&(i._vd=e.vd,U.log("definition changed: "+i._vd)),i.video().readyState<3)i.once(x.NTF_TimeUpdate,function(){i._noticeVidChanged()});else if(!t){var d=parseInt(1e3*a.bufferInfo.media.len/i.getPlaybackRate()+"",10);U.log("will switch variant after: "+d/1e3+"s"),i._switchDelayTimer=setTimeout(function(){i._noticeVidChanged()},d)}}i.switchVmsRequest=i.switchVmsResponse=null},r=function(){i._noticeVidChanged(!1)},o=function(t){if(i.switchVmsResponse=t,t.hasOwnProperty("data")&&t.data.hasOwnProperty("st")){var a=parseInt(t.data.st,10);if(100<a&&a<200){var o,s={vsInfo:t.data.program.video,isVIP:i._movieinfo.isVIP,tvid:i._movieinfo.tvid,cid:i._movieinfo.cid,sid:i._movieinfo.sid,albumId:i._movieinfo.albumId};if(o="f4v"==e.fileFormat?M.analyzeVds(s,e.vd):L.analyzeVds(s,e.vd)){i._checkVipBoss(t.data,o);for(var d=0;d<i._movieinfo.vidl.length;d++)if(i._movieinfo.vidl[d].vd==o.vd){i._movieinfo.vidl[d]=o,void 0!==o.isAccurateTimeStamp&&(i._movieinfo.isAccurateTimeStamp=o.isAccurateTimeStamp),o.manifestParser&&(i._movieinfo.manifestParser=o.manifestParser);break}i._resetFLVDuration(),e=o,n()}else r()}else r()}else r()};if(void 0!==t)U.info("switchVD, from p2p, vd = "+e.vd),o(t);else if(e.m3u8&&e.responseData||-1===e.vd)U.info("switchVD, vd = "+e.vd),n();else{var s=f.getNewVd(e.vd);U.info("switchVD, load movieInfo from vrs,params: tvid = "+i._tvid+", vid = "+i._vid+", islogin = "+l.isLogin()+", vd = "+s+"|"+e.vd),i.switchVmsRequest=F.request({params:{tvid:i._movieinfo.tvid,vid:e.vid,vd:s,tryCount:0,switchvd:!0},hostUseIP:!1},function(e){o(e)},function(e){r()})}},switchAudioTrack:function(e){var t=this,i=t.qvs,a=t._movieinfo.audl.types;if(!(a.length<=1)){t._movieinfo.oldLid=t._movieinfo.currentLid||"";var n=_.read(_.PLAYER_VD_KEY)||2;n=f.getNewVd(n);for(var r=function(){t._movieinfo.currentLid=t._movieinfo.oldLid,t._noticeAudioChanged(!1),U.info("switch audio Fail!")},o=function(e,a){if(i.switchAudioVariant(e,!1),t.video().readyState<3)t.once(x.NTF_TimeUpdate,function(){t._movieinfo.currentLid=a,t._noticeAudioChanged()});else{var n=parseInt(1e3*i.bufferInfo.media.len/t.getPlaybackRate()+"",10);U.log("will switch audio track after: "+n/1e3+"s"),t._switchDelayTimer=setTimeout(function(){t._movieinfo.currentLid=a,t._noticeAudioChanged()},n)}},s=0;s<a.length;s++)a[s].id===e&&(1!==a[s].ispre?function(){F.request({params:{tvid:t._movieinfo.tvid,vid:t._movieinfo.vid,vd:n,lid:e,tryCount:0,switchvd:!0},hostUseIP:!1},function(i){if(i.hasOwnProperty("data")&&i.data.hasOwnProperty("st")){var a=parseInt(i.data.st,10),n=i.data,s=n.boss_ts?"boss_ts":"boss";if(100<a&&a<200)if(n.program&&n.program.audio){if(n.hasOwnProperty(s)&&n[s].hasOwnProperty("code")){n[s].data;t._movieinfo.boss&&t._movieinfo.boss.data&&(t._movieinfo.boss=n[s])}t._movieinfo.audio=n.program.audio;var d=C.analyzeAds(t._movieinfo,!0);t._movieinfo.audl=d,d&&d.audio?o(d.audio,e):r()}else r();else r()}else r()},function(e){r()})}():o(null,e))}},_noticeAudioChanged:function(e){var t=this;void 0===e||e?t.fire({type:S.NTF_AUDChanged}):t.fire({type:S.NTF_AUDChangeFail})},_parseAudioList:function(){var e=this;e._movieinfo.audl=C.analyzeAds(e._movieinfo,!1)},pause:function(e,t){var i=this;i._duringPlay&&!t||(e?i._currentManualAction=x.Status_Paused:i._currentCodeActionList.push(x.Status_Paused),T.prototype.pause.call(i,e,t))},seek:function(e,t,i){var a=this,n=a.qvs;e=parseFloat(e),a.hasSeeking=!0,a._checkAuthTime(1e3*e)&&(t?a._currentManualAction=x.NTF_Seeking:a._currentCodeActionList.push(x.NTF_Seeking),n.seek(e),a.isPaused()&&!i&&a.play())},isSeeking:function(){return!!this.hasSeeking},getBufferTime:function(){var e=this,t=0;if(e.isAd());else{t=e.qvs.bufferInfo.data.end}return t},getDataBufferInfo:function(){return this.qvs.bufferInfo.data},getCurrenttime:function(){var e,t=this,i=t.getDuration();return e=t.isAd()?t.qvs.currentTime:T.prototype.getCurrenttime.call(t),e<i||isNaN(i)?e:i},getDuration:function(){var e=this,t=0;return e.isAd()?t=e.qvs.datasource.duration:e._movieinfo&&e._movieinfo.isVIP&&e._movieinfo.isTryWatch&&e._getVDInfo()?t=e._getVDInfo().duration:e.qvs&&e.qvs.datasource&&(t=e.qvs.datasource.duration),t},getVBR:function(){var e=this,t=e.getDuration(),i=0;if(e._movieinfo&&0!==t&&!e.isAd()){var a=e._getVDInfo().vsize;i=parseInt(a/t)}return i},pbLog:function(){},pbVersion:function(){return N.version},endOfDown:function(){return this.qvs.endOfDown},_removeAres:function(e){},_abortAres:function(){this.qvs.abortCurrentADGas()},setAresSDK:function(e){var t=this,i=e.init;t._sdkloaded=!0,U.log("ares version: "+mars.version),t._aressdk=e,t.fire({type:S.NTF_ARES_Load}),i.hijack||(e.init=function(a){i.call(e,a),t.fire({type:S.NTF_ARES_Init}),U.debug("ares init: "+s.stringify(a))},e.init.hijack=!0)},getAresSDK:function(){return this._aressdk},setAresMW:function(e){var t=this;t._aresmw=e,t.fire({type:"ares_mwready"}),e.bussiness.on("_playdata_",function(e){var i=e.data,a=i.videoEventId,n=d.getEpisodeId(a),r=R.valid(n)&&t._movieinfo&&t._movieinfo.ok;U.debug("ares mw load"+(r?"":" invalid")+":"+s.stringify(i)),r&&(t._fireGasTimer=setTimeout(function(){t.fire({type:S.NTF_ARES_Gas,data:i||{}})},0))})},_resetFLVDuration:function(){var e=this._movieinfo&&this._movieinfo.vidl&&this._movieinfo.vidl.length>0?this._movieinfo.vidl:null;if(e&&"f4v"==e[0].fileFormat)for(var t=0;t<e.length;t++)e[t].duration>0&&(e[t].duration=e[t].duration/1e3)},_checkVipBoss:function(e,t){if(this._movieinfo.isVIP){var i=e.boss_ts?"boss_ts":"boss";t.segments.map(function(t){return t.boss||(t.boss=e[i],t.boss.bossKeyTime=+new Date),t})}},_initAdEvents:function(){function e(e){t._movieinfo.ares&&t.initares(e)}var t=this;t.on(S.NTF_MovieInfoChange,function(e){var i=e.data.preMovieInfo,a=e.data.curMovieInfo;if(i)try{U.debug("stop ares: "+i.tvid),t._aresmw._disableVideoOP=!0,t.getAresSDK().stop({videoEventId:d.getEventId(i.tvid)})}catch(e){}else a&&(U.debug("stop ares by refreshPlayer: "+a.tvid),t.getAresSDK().destroy({videoEventId:d.getEventId(a.tvid)}))}),t.on(S.NTF_TVIDChanged,function(e){t._aresmw._disableVideoOP=!1}),t.on(S.NTF_VRSReady,function(i){t._movieinfo=i.data,t._movieinfo.isPreload||e()}),t.on(S.NTF_VRSPreloaded,function(i){t._preMovieinfo=i.data,e(i.data)}),t.on(S.NTF_ARES_End,function(e){t._aresdone(e.data)})},_aresdone:function(e){var t=this,i=e.rollType;U.debug("ares done! "+(i?"("+i+")":"")),t._abortAllAres(i),(t._isSkipAD&&t._autoplay||!t._isSkipAD||c.os.ios||c.os.android)&&t.isPaused()&&(U.debug("manual play"),t.play())},initares:function(e){var t=this;t._sdkloaded&&t._aresmw?t._initAres(e):(t._aresSDKLoadPromise||(t._aresSDKLoadPromise=new Promise(function(e){t._sdkloaded?e():t.on("aresloaded",function(){e()})})),t._aresMWLoadPromise||(t._aresMWLoadPromise=new Promise(function(e){t._aresmw?e():t.on("ares_mwready",function(){e()})})),Promise.all([t._aresSDKLoadPromise,t._aresMWLoadPromise]).then(function(){t._initAres(e)}))},_initAres:function(e){var t,i=this,a=e||i._movieinfo,n=P.getViFromVl(a.tvid,a.vid);t=n&&n.cid?n.cid:i._param.cid||"",i._param.isCid||!c.os.android&&!c.os.ios||(t=navigator.userAgent.indexOf("MicroMessenger")>-1?"qc_105092_300416":"qc_100001_100103");var r=i._param.isSupportViewpoint||!1,o=i._param.site||"iqiyiw";l.isVip(function(e){i._aresmw._isVip=e;var n=i._aresmw.video(),s=(a.videoQipuId||a.tvid)+"",u={autoLoad:!0,autoRender:!0,isMacH5:!0,isPreload:!!a.isPreload,adPlayerId:t,episodeId:s,videoEventId:d.generate(s),videoDefinition:a.vd,showVoiceIcon:!(c.os.android||c.os.ios),videoMidware:i._aresmw,isVIP:e,isSupportViewpoint:r,site:o,locale:i._param.local,passportId:l.getUid(),passportCookie:l.passportCookie(),clientVersion:y.playerVersion,videoContainer:n,couponCode:i._param.cpnc||"",couponVer:i._param.cpnv||"",ptid:c.getPtid(p.isTWLocale())};setTimeout(function(){i.getAresSDK().init(u)},0)})},getDefinitionAd:function(e){var t;return R.valid(e)&&(t=R.getDefinitionAd(e)),t},getCurrManifestType:function(){return this.qvs.currentManifestType},getManifestTypes:function(){return N.ManifestTypes},getCurrLoaderMode:function(){return this.qvs.currentLoaderMode},getDownloadSpeed:function(){return{downloadSpeed:"P2P"===this.getCurrLoaderMode()?this.p2p.stats().bandwidth:0}},autoVdEnabled:function(){return this.p2p&&this.p2p.enabled&&this._autoVdEnable&&this._movieinfo&&this._movieinfo.vidl&&this._movieinfo.vidl.length>0&&"ts"===this._movieinfo.vidl[0].fileFormat},setAutoVdEnabled:function(e){this._autoVdEnable=e},autoVdUsing:function(){return this._autoVdUsing&&this.autoVdEnabled()},setAutoVdUsing:function(e){r.set("QP0020",e?1:""),this._autoVdUsing=e},autoVdAlgot:function(){return this.autoVdUsing()?this.p2p.algot():""},isRecovering:function(){return!!this.qvs&&this.qvs.recovering}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){function n(e){if(e.tvid+="",f.hasBit(4,3)){var t=f.getFT4().toString(2).split("");if(t[t.length-3]=0,e.k_ft4=parseInt(t.join(""),2),!f.hasBit(1,37)){var i=f.getFT1().toString(2).split("");i[i.length-37]=1,e.k_ft1=parseInt(i.join(""),2)}}return e}var r=i(2),o=i(0),s=i(1),d=i(8),u=i(18),l=(i(9),i(6),i(3)),c=i(4),f=i(39),_=i(59),h=i(25),p=i(5),b=new s("P2PProxy"),g="p2p abs proxy ",v=o("P2PProxy",{extend:r,props:{enabled:!c.browser.WECHAT&&window.Map},construct:function(){var e=this;e._p_=null,e._currPlayId=void 0,e._nextPlayId=void 0,e._feeded=!1,e._seeked=!1,e._closed=!0},methods:{__setSDK:function(e){var t=this;t._p_=new e,t.init(),t.fire({type:"ready"})},__setQVS:function(e){this._q_=e},__setPlayId:function(e,t){e+="",t?this._currPlayId=e:this._nextPlayId=e},__getPlayId:function(e){return e?this._currPlayId:this._nextPlayId},__switchToNextTvid:function(){var e=this;e.enabled&&e._feeded&&e._nextPlayId&&(e._currPlayId=e._nextPlayId,e._nextPlayId=void 0,e._p_.seek(this._currPlayId))},isReady:function(){return!!this._p_},isClosed:function(){return this._closed},init:function(){function e(){var e={};if(v._q_){l(e,v._q_.mediaBufferInfo);var t=v._q_.dataBufferInfo;t&&null!==t.buffered&&void 0!==t.buffered&&(e.buffered.audio.end=t.buffered.audio.preEnd,e.buffered.video.end=t.buffered.video.preEnd)}return e}function t(){return v._q_.reBufTime}function i(){return v._q_.media.updating}function a(){return!v._q_.isRolling&&v._q_.datasource.playingStream&&v._q_.startPlayed&&!i()}function n(){return v._q_.startPlayed}function r(e){b.log(g+" dashUpdated , canSwitchVd = "+a()+", mediaUpdating = "+i()),v.fire({type:"dashUpdated",data:e})}function o(e){b.log(g+" sendChunkReport , info = "+e),_.sendChunkReport(e)}function s(e){b.log(g+" sendIDCReport , info = "+e),_.sendIDCReport(e)}function c(e){p.getVipTypes(function(t){var i={ut:[],dfp:h.get(),bop:JSON.stringify({version:"10.0",dfp:h.get()})};t.forEach(function(e){i.ut.push(parseInt(e,10))}),e(i)})}function f(e){p.isVip(function(t){e(t)})}var v=this,m=d.getFluid()||"",y=d.getWeid(),x={logger:b,uid:m+"-"+y.slice(0,8),getBufferFunc:e,encryptFunc:u.cmd5x,reBufTimeFunc:t,isMediaUpdatingFunc:i,canSwitchVd:a,startPlayed:n,sendChunkReport:o,getVrsParams:c,domainParserIP:s,getIsVip:f};v._p_.init(x,r)},getBuffTime:function(){var e={start:0,length:0};if(this._p_){var t=this._p_.getBuffTime();e.start=t.start,e.length=t.length}return e},setBitrate:function(e,t){var i=this;i.enabled&&(b.log(g+" setBitrate ,  tvid= "+e+", bitrate = "+t),i._p_.setBitrate(e.toString(),parseInt(t,10)))},feed:function(e,t,i,a,r,o){var s=this;s.enabled&&(s._closed=!1,e=n(e),s.__setPlayId(e.tvid,a),b.log(g+" feed "+e.tvid+", isCurrent: "+a),s._p_.feed(e,JSON.stringify(t),i,a,o),s.setBitrate(e.tvid,r),s._feeded=!0)},seek:function(e){var t=this,i=t._currPlayId;t.enabled&&t._feeded&&(b.debug(g+"seek, tvid("+i+"), time("+e+")"),i&&("string"!=typeof i&&(i+=""),"number"==typeof e&&(e=parseFloat(e),t._p_.seek(i,e),t._seeked=!0)))},read:function(){return this.enabled&&this._feeded&&this._p_?this._p_.read():null},refreshLoadRange:function(e,t){this.enabled&&this._feeded&&this._p_&&this._p_.refreshLoadRange(e+"",t)},error:function(){return this._p_?this._p_.error:null},stats:function(){var e=0;if(this._p_){e=this._p_.stats.bandwidth}return{bandwidth:e}},algot:function(){return this._p_&&this.enabled&&this._feeded?this._p_.algorithmDes:""},close:function(){if(!this.enabled||!this._feeded)return null;this._p_&&(this._p_.close(),b.debug(g+"close"),this._closed=!0)}}});a.exports=v}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(2),o=i(1),s=i(12),d=i(17),u=i(10),l=i(22),c=i(41),f=i(19),_=i(20),h=i(27),p=i(54),b=i(70),g=i(32),v=i(23),m=new o("QVSEngineEmitters"),y=n("QVSEngineEmitters",{extend:r,methods:{init:function(e){var t=this;t.engine=e,e._needPlay=!0,"0"==e._param.autoplay&&(e._needPlay=!1),e.isFirstMediaBufferCreated=!0,e._recoverMediaNum=0,e._recoverMediaPerNum=0,e._recoverMediaMax=3,e._dashAuthNum=0,e._dashAuthMax=2,t.seekableMidAd={},t._onTimeUpdate=t._onTimeUpdate.bind(e),t._onDestroy=t._onDestroy.bind(e),t._onSetSkipPrelude=t._onSetSkipPrelude.bind(e),t._onMovieInfoChange=t._onMovieInfoChange.bind(e),t._onVRSReady=t._onVRSReady.bind(e),t._onVRSPreload=t._onVRSPreload.bind(e),t._onStatusChanged=t._onStatusChanged.bind(e),t._onMediaBufferCreated=t._onMediaBufferCreated.bind(e),t._onMediaFPSReport=t._onMediaFPSReport.bind(e),t._onDataSourceStageSwitching=t._onDataSourceStageSwitching.bind(e),t._onDataSourceStageSwitched=t._onDataSourceStageSwitched.bind(e),t._onQVSError=t._onQVSError.bind(e),t._onAudioTrackSwitchFailed=t._onAudioTrackSwitchFailed.bind(e),t._AudioTRackSwitchSuccessed=t._AudioTRackSwitchSuccessed.bind(e),e.on(f.NTF_TimeUpdate,t._onTimeUpdate),e.on(_.Status_Destroy,t._onDestroy),e.on(_.NTF_SetSkipPrelude,t._onSetSkipPrelude),e.on(_.NTF_VRSPreloaded,t._onVRSPreload),e.on(_.NTF_VRSReady,t._onVRSReady),e.on(_.NTF_MovieInfoChange,t._onMovieInfoChange),e.qvs.on(c.Events.ERROR,t._onQVSError),e.qvs.on(c.Events.STATE_CHANGE,t._onStatusChanged),e.qvs.on(c.Events.BUFFER_CREATED,t._onMediaBufferCreated),e.qvs.on(c.Events.FPS_REPORT,t._onMediaFPSReport),e.qvs.on(c.Events.DATA_STAGE_SWITCHING,t._onDataSourceStageSwitching),e.qvs.on(c.Events.DATA_STAGE_SWITCHED,t._onDataSourceStageSwitched),e.qvs.on(c.Events.AUDIO_TRACK_SWITCHED_FAILED,t._onAudioTrackSwitchFailed),e.qvs.on(c.Events.AUDIO_TRACK_SWITCHED_SUCCESSED,t._AudioTRackSwitchSuccessed),t._episodeEvents(),t._aresEvents(),t._adSDKEvents()},_onDestroy:function(){var e=this,t=e.emitter;e.un(f.NTF_TimeUpdate,t._onTimeUpdate),e.un(_.Status_Destroy,t._onDestroy),e.un(_.NTF_SetSkipPrelude,t._onSetSkipPrelude),e.un(_.NTF_VRSPreloaded,t._onVRSPreload),e.un(_.NTF_VRSReady,t._onVRSReady),e.un(_.NTF_MovieInfoChange,t._onMovieInfoChange),e.qvs.off(c.Events.ERROR,t._onQVSError),e.qvs.off(c.Events.STATE_CHANGE,t._onStatusChanged),e.qvs.off(c.Events.BUFFER_CREATED,t._onMediaBufferCreated),e.qvs.off(c.Events.DATA_STAGE_SWITCHING,t._onDataSourceStageSwitching),e.qvs.off(c.Events.DATA_STAGE_SWITCHED,t._onDataSourceStageSwitched),e.qvs.off(c.Events.AUDIO_TRACK_SWITCHED_FAILED,t._onAudioTrackSwitchFailed),e.qvs.off(c.Events.FPS_REPORT,t._onMediaFPSReport),e.p2p.close(),h.destroy(),e.qvs.destroy()},_onSetSkipPrelude:function(e){var t=this,i=t._constructPlayTimeRanges();t._skipTailTipped=!1,t.qvs.updateMediaRanges(i),t.p2p.refreshLoadRange(t._movieinfo.tvid,t._getP2PTimeRange(t._movieinfo,i))},_onStatusChanged:function(e){var t=this,i=e.state;switch("playing"!==i&&"pause"!==i&&"stop"!==i&&"error"!==i||(t.hasSeeking=!1),i){case"loadedmetadata":if(t._needPlay){t._needPlay=!1;var a=t.play();a&&(t._duringPlay=!0,a.then(function(){t._duringPlay=!1,m.log("Automatic playback started!")},function(e){var i=/the user didn't interact with the document first/gi;e&&("NotAllowedError"===e.name||e.message&&i.test(e.message))?(m.warn("Automatic playback failed, muted video and then try to play!"),t.video().muted=!0,t.play().then(function(){m.warn("Play muted playback successful!"),t._duringPlay=!1,t._statusChanged({status:f.Status_Playing_Failed_By_Autoplay})},function(){t._duringPlay=!1,t._needPlay=!0,m.warn("Play muted playback failed, & Show a UI element to let the user manually start playback.!"),t.fire({type:_.NTF_NeedUserGesture4Playback})})):(t._duringPlay=!1,t._needPlay=!0)}))}else m.log("page url param => autoplay=0"),t.fire({type:_.NTF_NeedUserGesture4Playback});break;case"playing":t._dashAuthNum=0,t._recoverMediaPerNum=0,t._paused=!1,t._statusChanged({status:f.Status_Play,actionType:t._checkActionType(f.Status_Play)}),t._statusChanged({status:f.Status_Playing,actionType:t._checkActionType(f.Status_Playing)});break;case"pause":t._paused=!0,t._statusChanged({status:f.Status_Paused,actionType:t._checkActionType(f.Status_Paused)});break;case"waiting":t._paused=!0,t._statusChanged({status:f.Status_Waiting,actionType:t._checkActionType(f.Status_Waiting)});break;case"seeking":t._paused=!0,t.fire({type:f.NTF_Seeking,data:{current:t.getCurrenttime(),duration:t.getDuration(),actionType:t._checkActionType(f.NTF_Seeking)}});break;case"progress":t.fire({type:f.NTF_Progress,data:{buffer:t.getBufferTime()}});break;case"eod":t._statusChanged({status:f.Status_Loaddone,actionType:!1});break;case"beforeended":t.qvs.media.loop=!!t._param.cyclePlay;break;case"ended":t._paused=!0,(t.isAd()||!t.isAd()&&t._checkAuthTime(t._movieinfo&&t._movieinfo.isVIP&&t._movieinfo.previewTime<1/0?t._movieinfo.previewTime+1:1e3*t.getCurrenttime()))&&t._statusChanged({status:f.Status_Stoped});break;case"loadstart":t.isAd()&&t._statusChanged({status:f.Status_Loadstart,eventOrigin:"ad",gas:e.gas})}},_onTimeUpdate:function(){var e=this;if(!e.isAd()){var t=1e3*e.getCurrenttime();e._checkAuthTime(t),e._checkSecondAuthTime(t),e._checkSkipHeadTime(t),e._checkSkipTailTime(t)}},_onVRSReady:function(e){var t=e.data,i=t.videoQipuId;h.setInfo(i,t),t.ares||h.finishPres(i,!0)},_concatCurFeature:function(e){var t=this.engine,i=t._getVDInfo();i.duration>0&&(t._movieinfo.duration=i.duration,t._startPlayTime>=t._movieinfo.duration&&(t._startPlayTime=0));var a=t._startPlayTime,n=t._constructPlayTimeRanges(),r=n[0][0],o=n[n.length-1][1],s=null;r<a&&a<o&&(s=a);var d,u=t._movieinfo.dataProviderPID,l=p.getParams(u),f=p.getData(u),_=i.m3u8,g=parseInt(i.bid,10),v=t._movieinfo.manifestParser;switch(i.requestParam=l,i.responseData=f.originalData,i.fileFormat){case"m4s":d=c.ManifestTypes.DASH;break;case"ts":d=c.ManifestTypes.HLS,_={data:i.m3u8,bid:i.bid,parser:v};break;case"f4v":d=c.ManifestTypes.F4V,_=b.getFLVContent(i,t._movieinfo)}if(t.p2p.enabled)if(d===c.ManifestTypes.F4V)t.p2p.isClosed()||t.p2p.close();else if(d===c.ManifestTypes.HLS&&!t.useCDNWithHLS||d===c.ManifestTypes.DASH){var m=t.p2p.__getPlayId(!0),y=t.p2p.__getPlayId(!1),x=!!m&&m===e+"",k=t.p2p.isClosed()||!m||x;if(y!==e+""){var w=n;d===c.ManifestTypes.HLS&&(w=t._getP2PTimeRange(t._movieinfo,n));var S=v?v.segments:void 0;t.p2p.feed(l,f.originalData,w,k,g,S),t.autoVdUsing()&&t.p2p.setBitrate(l.tvid,t.autoVdValue)}else t.autoVdUsing()&&t.p2p.setBitrate(e,t.autoVdValue);x&&t.p2p.seek(n[0][0]),k||t.p2p.__switchToNextTvid()}t._recoverMediaNum=0,h.finishFeatures(e,!0),t.qvs.loadVariant(d,_,s,n)},_concatPreloadFeature:function(e){var t,i=this.engine,a=h.getInfo(e),n=i._constructPlayTimeRanges(a),r=i._getVDInfo(a),o=r.m3u8;switch(r.fileFormat){case"m4s":t=c.ManifestTypes.DASH;break;case"ts":t=c.ManifestTypes.HLS,o={data:r.m3u8,bid:r.bid};break;case"f4v":t=c.ManifestTypes.F4V,o=b.getFLVContent(r,a)}var s=a.dataProviderPID,d=p.getParams(s),u=p.getData(s);if(i.p2p.enabled&&(t===c.ManifestTypes.DASH||t===c.ManifestTypes.HLS&&!i.useCDNWithHLS)){var l=n;t===c.ManifestTypes.HLS&&(l=i._getP2PTimeRange(a,n));var f=i.p2p.isClosed();i.p2p.feed(d,u.originalData,l,f,r.bid)}i.qvs.preloadVariant(t,o,null,n)},_onVRSPreload:function(e){var t=e.data,i=t.videoQipuId;h.setInfo(i,t),h.finishFeatures(i,!0)},_onMovieInfoChange:function(e){this._lastCheckSkipHeadTime=null},_onMediaBufferCreated:function(e){var t=this;t._needPlay=!0,t.isFirstMediaBufferCreated&&(t.isFirstMediaBufferCreated=!1,"0"==t._param.autoplay&&(t._needPlay=!1))},_onMediaFPSReport:function(e){},_onQVSError:function(e){var t=this,i=e.severity,a=e.category,n=e.code,r=e.data&&e.data.length>0&&e.data[0]?e.data[0].gas:null;if(n==c.Error.code.DATA_AUTH_Error&&"CDN"==t.getCurrLoaderMode()&&t._dashAuthNum<t._dashAuthMax){var o=t._getVDInfo();t._dashAuthNum++,m.log("qvs autherror , num = "+t._dashAuthNum),t._switchVD({vd:o.vd,bid:o.bid,fileFormat:o.fileFormat})}else if(i===c.Error.severity.RECOVERABLE&&(n==c.Error.code.MEDIA_HIGH_BUFFER&&t._recoverMediaPerNum<t._recoverMediaMax||n!==c.Error.code.MEDIA_HIGH_BUFFER&&t._recoverMediaNum<t._recoverMediaMax)){var s=t.getCurrenttime(),d=t._recoverMediaNum;n==c.Error.code.MEDIA_HIGH_BUFFER?(t._recoverMediaPerNum>0&&s+1<t.getDuration()&&(s+=1),t._recoverMediaPerNum++,d=t._recoverMediaPerNum):(t._recoverMediaNum>0&&s+1<t.getDuration()&&(s+=1),t._recoverMediaNum++,d=t._recoverMediaNum),1==d&&l.sendErrorLog("QVSR-"+a+"-"+n),l.sendErrorPlayPingback(301,"QVSR-"+n+"-"+d),m.log("qvs recovery , num = "+d+", time = "+s+" ,errorinfo = "+n+"-"+e.data.join("-")),t.hasSeeking=!0,t.qvs.recoverMedia(s)}else i===c.Error.severity.IGNORABLE?t._statusChanged({status:f.Status_LoadFailed,actionType:!1,gas:r||t._getCurrentGas()}):(t._statusChanged({status:f.Status_LoadFailed,actionType:!1,gas:r||t._getCurrentGas()}),t.isAd()?m.log("qvs state change -- ,params: type = error, (广告)"):(m.log("qvs state change -- ,params: type = error, errorinfo = "+n+"-"+e.data.join("-")+", recoveryNum = "+t._recoverMediaNum),t.brokedown(301,"QVS-"+a+"-"+n,"QVS-"+n)))},_onDataSourceStageSwitching:function(){var e=this;if(clearTimeout(e._switchDelayTimer),e._switchDelayTimer=null,e.switchVmsRequest&&e.switchVmsRequest){var t=e.switchVmsRequest.getXhrRequest();t&&t.abort&&t.abort()}e.autoVdUsing()&&e.p2p.setBitrate(e._movieinfo.tvid,e.autoVdValue),e.p2p.__switchToNextTvid(),e.p2p.seek(-1)},_onDataSourceStageSwitched:function(){var e=this;e._recoverMediaNum=0,e._dashAuthNum=0,e.getCurrManifestType()!==c.ManifestTypes.F4V||e.isAd()||e.p2p.isClosed()||e.p2p.close()},_onAudioTrackSwitchFailed:function(){},_AudioTRackSwitchSuccessed:function(){},_episodeEvents:function(){var e=this,t=e.engine;h.on("finishAddPres",function(i){var a=i.data,n=a.videoId,r=a.length,o=t._getCurrentGas(),s=d.getEpisodeId(o.videoEventId);e._aresQvsVariant(n,null,!0,0,"preroll"),n===s||0===r&&(void 0===s||isNaN(s))?(m.debug(n+": concat cur episode"),e._concatCurFeature(n)):(m.debug(n+": concat preload episode"),e._concatPreloadFeature(n))}),h.on("finishAddMids",function(i){var a=i.data,n=a.videoId,r=a.length,o=t._getCurrentGas(),s=d.getEpisodeId(o.videoEventId);(n===s||0===r&&(void 0===s||isNaN(s)))&&e._aresQvsVariant(n,null,!0,0,"midroll")})},_aresQvsVariant:function(e,t,i,a,n){var r=this,s=c.ManifestTypes.F4V,d={};r.engine._getVDInfo();switch(s==c.ManifestTypes.F4V&&t&&(d=b.getFLVADContent([t])),n){case"preroll":d.rollType=c.RollTypes.PRE_ROLL;break;case"midroll":d.rollType=c.RollTypes.MID_ROLL}d.offset=a,d.done=i,d.isAD=!0;var u="";try{u=d.segments[0].gas.videoEventId||""}catch(e){}r.seekableMidAd[u]?d.seekable=!0:d.seekable=!1,m.debug("ares qvs ADVariant"+o.stringify(d)+",videoId="+e+",tvid="+r.engine._movieinfo.tvid),e==r.engine._movieinfo.tvid?r.engine.qvs.loadRoll(s,d,i):r.engine.qvs.preloadRoll(s,d,i)},_aresEvents:function(){var e=this,t=e.engine;t.on(_.NTF_ARES_Gas,function(i){var a=i.data,n=a.videoEventId,r=d.getEpisodeId(n),u=new g(!0,!1,a.file,a,r,s(a.id),[],"AD","AD","AD","AD",-1,0,-1,0,1e3*a.duration);0===a.offset?h.finishPres(r)?m.warn(r+": ignore ares gas, "+o.stringify(a)):(h.addPres(r,[u]),e._aresQvsVariant(r,u,!1,0,"preroll"),m.debug(r+": concat pre-ares!")):a.offset>0&&(t.getCurrenttime()<a.offset?(m.debug(r+":drop ares gas. mid seekable = "+a.seekable+", "+o.stringify(a)),a.seekable?e.seekableMidAd[a.videoEventId]=a:delete e.seekableMidAd[a.videoEventId],h.addMids(r,[u]),e._aresQvsVariant(r,u,!1,a.offset,"midroll")):m.warn(r+":drop ares gas, "+o.stringify(a)))}),t.on(_.NTF_ARES_GasFinish,function(e){var t,i=e.data,a=i.videoId;switch(i.rollType){case"preroll":t=h.finishPres(a),"boolean"!=typeof t||t||h.finishPres(a,!0);break;case"midroll":t=h.finishMids(a),"boolean"!=typeof t||t||h.finishMids(a,!0)}}),t.on(_.NTF_ARES_End,function(e){var t=e.data,i=t.rollType,a=t.videoId;switch(i){case"preroll":h.finishPres(a,!0);break;case"midroll":h.finishMids(a,!0)}})},_adSDKEvents:function(){var e=this,t=e.engine;t.on(_.NTF_ARES_Load,function(i){var a=t._aressdk;a&&(a.on("roll-play",function(i){var a=i.rollType,n=i.videoEventId,r=d.getEpisodeId(n),s=h.valid(r);m.debug("ares"+(s?"":" invalid")+" roll-play:"+o.stringify(i));var u=!1,l=e.seekableMidAd[n];l&&(u=!0),s&&t.fire({type:_.NTF_ARES_Play,data:{rollType:a,videoId:r,seekable:u,adData:l}})}),a.on("roll-ended",function(e){var i=e.rollType,a=e.videoEventId,n=d.getEpisodeId(a),r=!t._movieinfo||t._movieinfo.tvid==n,s=h.valid(n)&&r;m.debug("ares"+(s?"":" invalid")+" roll-ended:"+o.stringify(e)+", videoId: "+n+", tvid: "+(t._movieinfo?t._movieinfo.tvid:"movieinfo_undefined")),s&&t.fire({type:_.NTF_ARES_End,agent:"ares",data:{rollType:i,videoId:n}})}),a.on("roll-load-finish",function(e){var i=e.rollType,a=e.videoEventId,n=d.getEpisodeId(a),r=h.valid(n)&&t._movieinfo&&t._movieinfo.ok;m.log("roll-load-finish"+(r?"":" invalid")+":"+o.stringify(e)),v.asdkistm=e.initStartTime||0,v.asdkietm=e.initEndTime||0,v.adlstm=e.loadStartTime||0,v.adletm=e.loadEndTime||0,v.adirqstm=e.requestStartTime||0,v.adirqetm=e.requestEndTime||0,v.adsrqstm=e.showStartTime||0,v.adsrqetm=e.showEndTime||0,v.adaetm=+new Date,r&&(t._fireGasFinishTimer=setTimeout(function(){t.fire({type:_.NTF_ARES_GasFinish,data:{rollType:i,videoId:n}})},0))}),a.on("error",function(e){t.brokedown(7001,"P07001"),m.log("ad error"+o.stringify(e))}),a.on("adplayer_ad_info",function(e){e=e||{};var i=e.data.videoEventId,a=d.getEpisodeId(i),n=h.valid(a);m.debug("ares notice-info"+(n?"":" invalid")+":"+o.stringify(e)),n&&(u.isObject(e.definitionSwitchingAd)&&h.setDefinitionAd(a,e),t.fire({type:_.NTF_ARES_Info,data:e}))}),a.off("adplayer_ad_start"),a.on("adplayer_ad_start",function(e){m.log("ares notice-info adplayer_ad_start"),t.fire({type:_.NTF_AD_Start,data:e})}),a.off("adplayer_ad_end"),a.on("adplayer_ad_end",function(e){m.log("ares notice-info adplayer_ad_end"),t.fire({type:_.NTF_AD_End,data:e})}))})}}});a.exports=y}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(8),r=i(9),o=i(18),s=i(38),d=i(68),u=window.location.protocol;a.exports={analyzeAds:function(e,t){var i={},a=[];i.types=[],i.audio={};for(var n=e.audio,r=0;r<n.length;r++){var o={};-1==a.indexOf(n[r].lid)&&(o.id=n[r].lid,o.ispre=1==n[r].ispre?1:0,1==n[r].ispre&&(e.currentLid=n[r].lid),a.push(n[r].lid),i.types.push(o)),n[r].fs&&(i.audio=n[r])}if(t&&i.audio&&i.types.length>1)for(var s=i.audio.fs,d=0;d<s.length;d++)s[d].dpl=this.dispatchUrl(e,s[d].l);return i},dispatchUrl:function(e,t){var i=u+"//data.video.iqiyi.com/videos"+t,a=r.filename(i);if(e.isVIP){var l=e.boss.data.t||"",c=e.boss.data.u,f=o.cmd5x(l+a);i=i+"&t="+l+"&vid="+e.vid+"&ibt="+f+"&cid=afbe8fd3d73448c9&ib=4&ptime="+s.getPreviewTime(e.tvid)+"&QY00001="+c}else i=i+"&cross-domain=1&qyid="+(n.getFluid()||n.getJsuid())+"&qypid="+e.tvid+"_"+d.getSrc();return i}}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(2),r=i(0),o=i(1),s=i(5),d=i(49),u=(i(3),i(23)),l=i(19),c=i(26),f=i(20),_=i(51),h=i(22),p=i(58),b=i(59),g=i(71),v=i(16),m={},y=!1,x=new o("coreEmitters");a.exports=r("coreEmitters",{construct:function(e){var t=this;t._initTypes.bind(e)(),t._initEvts.bind(e)(),s.beforeunloadListener(),window.addEventListener("beforeunload",function(){p.sendEndPlayPingback(3),d.stop()})},extend:n,methods:{_initTypes:function(){function e(e){switch(e){case c.Status_StartPlay:g.add([c.Status_StartPlay],!0);break;case c.Status_Playing:g.add([c.Status_Play,c.Status_Playing]),g.remove([c.Status_Idle,c.Status_PlayError,c.Status_Stoped,c.Status_End_Play,c.Status_Paused,c.Status_Waiting]);break;case c.Status_Paused:g.add(c.Status_Paused),g.remove([c.Status_Idle,c.Status_Play,c.Status_Playing,c.Status_Waiting,c.Status_PlayError,c.Status_Stoped,c.Status_End_Play]);break;case c.Status_Waiting:g.add(c.Status_Waiting),g.remove([c.Status_Idle,c.Status_Play,c.Status_Playing,c.Status_Paused,c.Status_PlayError,c.Status_Stoped,c.Status_End_Play]);break;case c.Status_PlayError:g.add(c.Status_PlayError),g.remove([c.Status_Idle,c.Status_Play,c.Status_Playing]);break;case c.Status_Stoped:g.add(c.Status_Stoped),g.remove([c.Status_Idle,c.Status_Play,c.Status_Playing,c.Status_Waiting]);break;case c.Status_End_Play:g.add(c.Status_End_Play),g.remove([c.Status_Idle,c.Status_Play,c.Status_Playing,c.Status_Waiting])}}var t=this;t.waitingTimer=0;var i=t._engine;i.on(f.Status_Assembled,function(){i.__isAssembled=!0,i.on(l.NTF_StatusChanged,function(a){var n=t.isAd(),r=function(i,a,n){var r=t._getdata();r.state=i,a&&(r.actionType=a.actionType||l.Action_Type_Native,a.gas&&(r.gas=a.gas),a.spend&&(r.spend=a.spend)),!t.canFireVideoEvts||t.currStatus===i&&!0!==n||(e(i),t.currStatus=i,t.fire({type:c.NTF_StatusChanged,data:r}),x.debug("core status changed: "+i))};switch(a.data.status){case l.Status_Canplay:n&&r(c.Status_Ready,a.data);break;case l.Status_Loadstart:n||"ad"===a.data.eventOrigin?"ad"!==a.data.eventOrigin||"DATA"!==t.getEngineType()&&"QVS"!==t.getEngineType()?r(c.Status_AdLoadstart,a.data):r(c.Status_AdLoadstart,a.data,!0):("HTTP"===t.getEngineType()&&r(c.Status_Loadstart,a.data),s.tvid(t._movieinfo.tvid)),s.stopHeartBeat();break;case l.Status_Loaddone:"DATA"!==t.getEngineType()&&"QVS"!==t.getEngineType()||t.checkPreload();break;case l.Status_LoadedMetaData:n||r(c.Status_LoadedMetaData,a.data);break;case l.Status_Playing:m.__sendFirstFrameShow||(m.__sendFirstFrameShow=!0,v.usedTime_pageShowVideo=new Date-v.pgct,v.usedTime_showVideo=v.usedTime_pageShowVideo-v.usedTime_selfLoaded,u.plyaetm=+new Date,u.adUsedTime=u.adaetm-u.adastm,u.plyUsedTime=u.plyaetm-u.plyastm),m.__sendADStartPPB||(m.__sendADStartPPB=!0,h.sendADStartPlayPingback(),p.sendADStartPlayPingback()),n?(t._ADfirstPlay&&(t._ADfirstPlay=!1,t._canGetVideoInfo(!0),r(c.Status_AdStartPlay,a.data),v.usedTime_adInit=new Date-v.pgct-v.sTime_adInit,x.log("ad start play,params: info = cur ad!")),t._isSkipAD=!1,t._engine._isSkipAD=!1,r(c.Status_AdPlaying,a.data)):(t._firstPlay&&(h.sendTimingPingback(),p.sendTimingPingback(),t._firstPlay=!1,t._canGetVideoInfo(!0),r(c.Status_StartPlay,a.data)),t.currStatus!==c.Status_Waiting&&t.currStatus!==c.Status_Play||(h.sendPlayingPingback(),p.sendPlayingPingback()),m.__sendMovieFirstFrameShow||(m.__sendMovieFirstFrameShow=!0,h.sendStartPlayPingback(),p.sendStartPlayPingback(),b.sendProcessesPlayTimeRecord()),r(c.Status_Playing,a.data),s.openHeartBeat()),s.updateVipTypes(),y||(y=!0,t.fire({type:c.NTF_FollowUpNextLoad,data:""})),clearTimeout(t.waitingTimer),t.waitingTimer=0;break;case l.Status_Stalled:n&&r(c.Status_AdStalled,a.data);break;case l.Status_Waiting:n?r(c.Status_AdWaiting,a.data):(t._timeMark=0,r(c.Status_Waiting,a.data),s.stopHeartBeat()),i.isSeeking()||i.isRecovering()||(clearTimeout(t.waitingTimer),t.waitingTimer=0,t.waitingTimer=setTimeout(function(){h.sendWaitingPingback(n),p.sendWaitingPingback(n),clearTimeout(t.waitingTimer),t.waitingTimer=0},2e3));break;case l.Status_Paused:n?r(c.Status_AdPaused,a.data):(t._timeMark=0,r(c.Status_Paused,a.data),s.stopHeartBeat());break;case l.Status_Stoped:if(clearTimeout(t.waitingTimer),t.waitingTimer=0,n)r(c.Status_AdPlayEnded,a.data);else if(t._timeMark=0,r(c.Status_Stoped,a.data),1===parseInt(t.h5vars.isLoop))if(t.hasNextVideo())t.switchNextVideo(0);else{var o=t._videolist;o.length>1?t.switchVideo({autoSwitch:!0,tvid:o[0].tvid,vid:o[0].vid,imageLoader:o[0].imageLoader}):t.refresh({tvid:t.h5vars.tvid,vid:t.h5vars.vid})}else t.h5vars.cyclePlay+""=="true"?t.refresh({tvid:t.h5vars.tvid,vid:t.h5vars.vid}):t.hasNextVideo()?t.switchNextVideo(0):(h.sendEndPlayPingback(1),p.sendEndPlayPingback(1),r(c.Status_End_Play,a.data));s.stopHeartBeat();break;case l.Status_LoadFailed:n?r(c.Status_AdError,a.data):(t._timeMark=0,r(c.Status_PlayError,a.data)),y||(y=!0,t.fire({type:c.NTF_FollowUpNextLoad,data:""})),s.stopHeartBeat();break;case l.Status_Play:r(c.Status_Play,a.data);break;case l.Status_Playing_Failed_By_Autoplay:x.log("play failed by autoplay(without muted)"),t.fire({type:c.NTF_PlayingFailByAutoPlay,data:{}})}}),[[l.NTF_CanPlayThrough,c.NTF_CanPlayThrough,c.NTF_AD_CanPlayThrough],[l.NTF_VolumeChanged,c.NTF_VolumeChanged,c.NTF_AD_VolumeChanged],[l.NTF_DurationChanged,c.NTF_DurationChanged,c.NTF_AD_DurationChanged],[l.NTF_TimeUpdate,c.NTF_TimeUpdate,c.NTF_AD_TimeUpdate],[l.NTF_Progress,c.NTF_Progress,c.NTF_AD_Progress],[l.NTF_Seeking,c.NTF_Seeking,c.NTF_AD_Seeking],[l.NTF_Seeked,c.NTF_Seeked,c.NTF_AD_Seeked],[l.NTF_RateChanged,c.NTF_RateChanged,c.NTF_AD_RateChanged]].forEach(function(e){e[0]==l.NTF_TimeUpdate?i.on(e[0],function(i){var a=(new Date).getTime();0===t._timeMark&&(t._timeMark=a),t.isAd()||t.currStatus==l.Status_Stalled||t.currStatus==l.Status_Waiting||t.currStatus==l.Status_Paused||t.currStatus==l.Status_Stoped||t.currStatus==l.Status_LoadFailed||(t._playingDuration+=a-t._timeMark,t._playingSpend+=a-t._timeMark),t._timeMark=a,t.fire({type:t.isAd()?e[2]:e[1],data:i.data})}):i.on(e[0],function(i){t.fire({type:t.isAd()?e[2]:e[1],data:i.data})})})}),i.on(f.NTF_NeedUserGesture4Playback,function(){t.fire({type:c.NTF_NeedUserGesture4Playback})}),i.on(f.NTF_ARES_Load,function(){t._aresloaded=!0,t.fire({type:c.Status_AdLoaded})}),i.on(f.NTF_ARES_Init,function(){t.fire({type:c.Status_AdInit})}),i.on(f.NTF_ARES_Play,function(e){t.fire({type:c.Status_AresPlay,data:e.data})}),i.on(f.NTF_ARES_End,function(e){x.log("ares end, agent: "+(e.agent?e.agent:"engine")),t.fire({type:c.Status_AresEnded,data:e.data||""})}),i.on(f.NTF_ARES_Info,function(e){var i=e.data||{};t._aresinfoed=i,t.fire({type:c.Status_AresNoticeInfo,data:e.data||""})}),i.on(f.NTF_AD_Start,function(e){e.data&&"13"==e.data.ctp&&(t.adWholeCorner=!0),t.fire({type:c.NTF_AD_Start,data:e.data||""})}),i.on(f.NTF_AD_End,function(e){t.fire({type:c.NTF_AD_End,data:e.data||""})}),i.on(f.NTF_ARES_CloudPlay,function(e){t.fire({type:c.NTF_AD_CloudPlay,data:e.data||""})}),i.on(f.NTF_ARES_CloudPlayEnd,function(e){t.fire({type:c.NTF_AD_CloudPlayEnd,data:e.data||""})}),i.on(f.NTF_VRSStart,function(e){t.fire({type:c.NTF_VRSStart,data:t._getdata()})}),i.on(f.NTF_VRSPreReady,function(e){function a(){t.fire({type:c.NTF_VRSPreReady}),t.eventlog.vrspreready=!0}i.__isAssembled?a():i.on(f.Status_Assembled,function e(){i.un(f.Status_Assembled,e),a()})}),i.on(f.NTF_VRSReady,function(e){function a(){t.fire({type:c.NTF_VRSReady,data:{data:t._getdata(),movieinfo:e.data}}),t.eventlog.vrsready=!0}function n(){var i=t.getStartPlayTime();e.data.originalData&&e.data.originalData.data.p.bt&&(i<10&&t.isSkipPrelude(),t._skipHT=e.data.originalData.data.p.bt,t._skipTT=e.data.originalData.data.p.et)}i.__isAssembled?(a(),n()):i.on(f.Status_Assembled,function(){a(),n()})}),i.on(f.NTF_VRSPreloaded,function(e){t.fire({type:c.NTF_VRSPreloaded,data:{movieinfo:e.data}})}),i.on(f.NTF_MovieInfoChange,function(){var e;t._preMovieInfo&&(e={tvid:parseInt(t._preMovieInfo.tvid,10),spend:parseInt(t._preplaying_spend,10),albumId:t._preMovieInfo.albumId||"",cid:t._preMovieInfo.cid||""},t._vdsSwitch=!1,t.fire({type:c.NTF_VideoChange,data:{preMovieInfo:e}})),m={}}),i.on(f.NTF_VDChanged,function(){t._vdsSwitch=!1;var e=i.getCurrentVD();x.log("definition changed: "+e),t.fire({type:c.NTF_DefinitionSwitched,data:{curVD:e,success:!0,isManualAction:!t.isAutoChangeVd()}}),t.switchAutoChangeVd(!1)}),i.on(f.NTF_VDChangeFail,function(e){t._vdsSwitch=!1,x.log("definition changeFail: "+e.data),t.fire({type:c.NTF_DefinitionSwitched,data:{curVD:e.data,success:!1,isManualAction:!t.isAutoChangeVd()}}),t.switchAutoChangeVd(!1)}),i.on(f.NTF_AUDChanged,function(){t.fire({type:c.NTF_AudioSwitched,data:{success:!0}})}),i.on(f.NTF_AUDChangeFail,function(e){t.fire({type:c.NTF_AudioSwitched,data:{success:!1}})}),i.on(f.NTF_TVIDChanged,function(){t.getVideoInfo(function(e){var i=t._getdata();i.vi=e.vi||{},i.vi.vid=i.vid,x.info("core videoChanged"),t.fire({type:c.NTF_VideoChanged,data:i})})}),i.on(f.NTF_Recharge,function(e){x.warn("notice recharge: "+o.stringify(e)),t.fire({type:c.NTF_Recharge,data:e}),y||(y=!0,t.fire({type:c.NTF_FollowUpNextLoad,data:""}))});var a=-1;i.on(f.NTF_LoadTempVd,function(e){var n=parseInt(e.data.userVd);i.once(l.NTF_TimeUpdate,function(){for(var e=!1,r=[],o=o||i.getVidl(),s=0;s<o.length;s++)r.push(o[s].vd),o[s].vd===n&&(e=!0);e||(n=-1!=r.indexOf(2)?2:-1!=r.indexOf(1)?1:-1!=r.indexOf(96)?96:o[o.length-1].vd),clearTimeout(a),a=setTimeout(function(){t.switchDefinition(n,!1)},5e3)})}),i.on(f.Status_Error,function(e){var i=t._getdata();i.code=e.data.code,i.realcode=e.data.realcode,i.ec=e.data.ec,i.vmsst=e.data.vmsst,i.code&&7001!==i.code&&h.sendErrorPlayPingback(i.code,i.ec,i.vmsst),t.fire({type:c.NTF_Error,data:i}),y||(y=!0,t.fire({type:c.NTF_FollowUpNextLoad,data:""})),t.errorcode=i})},_initEvts:function(){var e=this,t=e._engine;t.on(_.Evt_StartFromHistory,function(t){e.fire({type:c.Evt_StartFromHistory,data:t.data})}),t.on(_.Evt_SkipHeader,function(t){e.fire({type:c.Evt_SkipHeader,data:t.data})}),t.on(_.Evt_SkipTail,function(t){e.fire({type:c.Evt_SkipTailer,data:t.data})}),t.on(_.Evt_StartShareTime,function(t){e.fire({type:c.Evt_StartShareTime,data:t.data})}),t.on(_.Enjoy_Evt_PlayEnd,function(t){e.fire({type:c.Enjoy_Evt_PlayEnd,data:t.data})}),t.on(_.Enjoy_Evt_PanleShow,function(t){e.fire({type:c.Enjoy_Evt_PanleShow,data:t.data})})}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){function n(){return u.os.ios||u.os.android?d.getJsuid():d.getFluid()}var r=i(0),o=i(11),s=i(5),d=i(8),u=i(4),l=i(1),c=i(16),f=new l("recorder"),_=i(26);i(22);a.exports=r("Recorder",{construct:function(e){var t=this,i=!1;t._core=e,t._isSwitchingDefinition=!1;var a=function(){i||(i=!0,t._record())};e.on(_.NTF_StatusChanged,function(i){var a=i.data.state;if(a===_.Status_Playing&&t._startTimer(),a===_.Status_Paused||a===_.Status_Waiting||a===_.Status_Stoped){if(e.getCurrenttime()<=1&&a===_.Status_Waiting)return;if(Math.abs(e.getDuration()-e.getCurrenttime())<=1&&a!==_.Status_Stoped)return;t._stopTimer(),t._record(a===_.Status_Stoped)}}),e.on(_.NTF_Seeking,function(){e.isAd()||t._record()}),e.on(_.NTF_DefinitionSwitching,function(e){t._isSwitchingDefinition=!0}),e.on(_.NTF_DefinitionSwitched,function(e){t._isSwitchingDefinition=!1}).on(_.NTF_VideoChanged,function(e){t._isSwitchingDefinition=!1}),e.once(_.NTF_VRSStart,function(e){t._getCurrent(e.data.tvid)}),window.addEventListener("unload",a),window.addEventListener("beforeunload",a),window.addEventListener("pagehide",a)},methods:{_stopTimer:function(){var e=this;e._timer&&(clearInterval(e._timer),e._timer=null)},_startTimer:function(){var e=this;e._timer||(e._timer=setInterval(e._record.bind(e),12e4))},_getCurrent:function(e){function t(){var t=s.isLogin()?"//l-rcd.iqiyi.com/apis/qiyirc/getvplay":"//nl-rcd.iqiyi.com/apis/urc/getvplay",a={};a.tvId=e,a.agent_type=1,s.isLogin()||(a.ckuid=n()),c.sTime_history=new Date-c.pgct,f.log("get play time point from record："+t),o.jsonp({url:t,params:a,success:function(e){c.usedTime_history=new Date-c.sTime_history-c.pgct;var t=function(e){i._core.getMovieInfo().tvid==e.tvId&&(f.log("Movie History,params: isLogin = "+s.isLogin()+", time ="+e.videoPlayTime),i._setStartPlayTime(e.videoPlayTime))};e.data&&e.data.videoPlayTime>10&&(i._core.eventlog.vrspreready?t(e.data):i._core.once(_.NTF_VRSPreReady,function(){t(e.data)})),i._startTimer()},failure:function(e){f.log("get play time point from record error"+JSON.stringify(e))}})}var i=this;i._isSwitchingDefinition||(e?t():i._core.getVideoInfo(function(e){t(e.tvid)}))},_setStartPlayTime:function(e){var t=this;f.log("play time point from record："+e),t._core._movieinfo&&t._core._movieinfo.share_start_time||t._core.setStartPlayTime(e)},_record:function(e){var t=this;t._core.getVideoInfo(function(i){var a=s.isLogin()?"//l-rcd.iqiyi.com/apis/qiyirc/setrc.php":"//nl-rcd.iqiyi.com/apis/urc/setrc",r=u.browser.ipad||u.browser.ipod?21:11,d={tvId:i.tvid,terminalId:r,agent_type:1};s.isLogin()||(d.ckuid=n()),d.videoPlayTime=e?0:parseInt(t._core.getCurrenttime(),10)||0,(d.videoPlayTime>0&&Math.abs(t._core.getDuration()-d.videoPlayTime)>1&&!t._core.isAd()||e)&&(f.log("record history："+d.videoPlayTime+", duration: "+t._core.getDuration()+", tvid: "+d.tvId),o.jsonp({url:a,params:d}))})}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0);a.exports=n("movieinfo",{construct:function(){},methods:{tvid:"",vid:"",albumId:"",duration:0,adPlayerID:"",url:"",adUrl:"",adtype:"",vd:"",clientIp:"",cid:"",ugc:"",vidl:[],poster:"",oldTvid:"",subtitlesUrl:"",nextTvid:"",nextVid:"",vipTypes:"",isAccurateTimeStamp:"",manifestParser:null,moduleName:""}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(49),r=i(26),o={},s=function(e){e.on(r.NTF_StatusChanged,function(t){switch(t.data.state){case r.Status_LoadedMetaData:n.create();break;case r.Status_Playing:e.getVideoInfo(function(t){var i,a=1e3*e.getDuration();o.ns_st_en=t.vi.pd?t.vi.pd:"1",o.ns_st_pr=t.vi.an||t.vi.subt,o.ns_st_ep=o.ns_st_pr,o.ns_st_ge=t.vi.tg.split(" ").join(","),o.ns_st_ci=e.h5vars.tvid||0,o.c4=t.cid+"",o.ns_st_cl=a,o.ns_st_ia="0",o.ns_st_sn="*null",o.ns_st_ddt="*null",o.ns_st_tdt="*null",o.ns_st_st="iqiyi",o.ns_st_ce="1",o.ns_st_pu="*null",o.c3="*null",o.c6="*null",i=a>3e5&&ns_?ns_.ReducedRequirementsStreamingAnalytics.ContentType.LongFormOnDemand:ns_.ReducedRequirementsStreamingAnalytics.ContentType.ShortFormOnDemand,n.playVideoContent(o,i)});break;case r.Status_Paused:case r.Status_AdError:case r.Status_PlayError:case r.Status_AdPlayEnded:case r.Status_End_Play:n.stop()}}),e.on(r.Status_AresPlay,function(e){var t;switch(e.data.rollType){case"preroll":t=ns_.ReducedRequirementsStreamingAnalytics.AdType.LinearOnDemandPreRoll;break;case"midroll":t=ns_.ReducedRequirementsStreamingAnalytics.AdType.LinearOnDemandMidRoll;break;case"postroll":t=ns_.ReducedRequirementsStreamingAnalytics.AdType.LinearOnDemandPostRoll;break;default:t=ns_.ReducedRequirementsStreamingAnalytics.AdType.LinearOnDemandPreRoll}n.playVideoAdvertisement(null,t)})},d=function(){return o};a.exports={init:s,getMetaData:d}}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(4),o=i(21),s=i(73),d=i(105),u=i(44),l=i(107),c=i(109),f=i(112),_=i(13).CORE_TYPES;a.exports=n("h5View",{construct:function(){var e=this;u.init(e.core),e._loadCSS(),e.registerPlugins([l,f,c]),e._loadSkins(),e._loadPlayListSkin()},extend:s,methods:{_loadCSS:function(){var e=document.createElement("style");e.innerHTML=d,o("head").append(e)},_loadSkins:function(){var e=this;r.os.ios||r.os.android?i.e(1).then(i.bind(null,118)).then(function(t){e.loadSkin(t)}):i.e(0).then(i.bind(null,119)).then(function(t){e.loadSkin(t)})},_loadPlayListSkin:function(){var e=this,t=!1,a=!1,n=[];e.core.on(_.NTF_ADDVideoList,function(r){t&&!a&&n.push(r),t||3==r.data.playSource||(i.e(2).then(i.bind(null,120)).then(function(t){e.loadSkin(t,r.data,"playlist"),a=!0;for(var i=0;i<n.length;i++)e.core.fire({type:_.NTF_ADDVideoList,data:n[i].data})}),t=!0)})},sendUserActionPingback:function(e){return u.getInterface().sendUserActionPingback(e)}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){t=e.exports=i(106)(void 0),t.push([e.i,'@charset "utf-8";html{-webkit-overflow-scrolling:touch;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section,body,h1,h2,h3,h4,h5,h6,hr,p,blockquote,dl,dt,dd,ul,ol,li,pre,fieldset,legend,button,input,textarea,form,th,td{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,hgroup,nav,section,summary{display:block}audio,canvas,video{display:inline-block;*display:inline;*zoom:1}button,input,select,textarea{font-family:inherit;font-size:100%;vertical-align:baseline;*vertical-align:middle}button,input[type="button"],input[type="submit"],input[type="reset"]{-webkit-appearance:button;cursor:pointer;*overflow:visible}button::-moz-focus-inner,button::-moz-focus-outer,input::-moz-focus-inner,input::-moz-focus-outer{border:0 none;padding:0;margin:0}textarea{overflow:auto;vertical-align:top;resize:vertical}.pw-video button,.pw-video input,.pw-video select,.pw-video textarea{font:12px/1.5 Tahoma,Helvetica,Arial,"\\5FAE\\8F6F\\96C5\\9ED1",sans-serif}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal}address,cite,dfn,em,var,i{font-style:normal}code,kbd,pre,samp,tt{font-family:"Courier New",monospace,serif}small{font-size:80%}ul,ol{list-style:none outside none}a{text-decoration:none}a:hover{text-decoration:none;outline:0;color:#57a900}a:active{text-decoration:none;outline:0}a:focus{outline:0}abbr[title],acronym[title]{border-bottom:1px dotted;cursor:help}q:before,q:after{content:""}mark{background:#ff0;color:#000}pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}legend{border:0;padding:0;white-space:normal;*margin-left:-7px}fieldset,iframe{border:0 none}img{border:0 none;vertical-align:middle;-ms-interpolation-mode:bicubic}button[disabled],input[disabled]{cursor:default}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}video::-webkit-media-controls-start-playback-button{display:none}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}strong{font-weight:normal}.dn{display:none!important}.db{display:block}.dib{display:inline-block;*display:inline;*zoom:1}.dib-fix{font-size:0}.fs12{font-size:12px!important}.fs14{font-size:14px!important}.fs16{font-size:16px!important}.fs18{font-size:18px!important}.fs20{font-size:20px!important}.tdu{text-decoration:underline}.lh-1{line-height:1}.tl{text-align:left}.tc{text-align:center}.tr{text-align:right}.fl{float:left;display:inline}.fr{float:right;display:inline}.pr{position:relative;*zoom:1}.pa{position:absolute}.pf{position:fixed}.ps{position:static}.vl-fix{height:100%;display:inline-block;vertical-align:middle}.vl-inline{display:inline-block;vertical-align:middle}.vl-block{display:inline-block;*display:inline;*zoom:1;vertical-align:middle}.m5{margin:5px}.m10{margin:10px}.m20{margin:20px}.m30{margin:30px}.mt5{margin-top:5px}.mt10{margin-top:10px}.mt20{margin-top:20px}.mt15{margin-top:15px}.mt30{margin-top:30px}.mt40{margin-top:40px}.mt50{margin-top:50px}.mr3{margin-right:3px}.mr5{margin-right:5px}.mr10{margin-right:10px}.mr20{margin-right:20px}.mr30{margin-right:30px}.mr50{margin-right:50px}.mb5{margin-bottom:5px}.mb10{margin-bottom:10px}.mb11{margin-bottom:11px}.mb15{margin-bottom:15px}.mb20{margin-bottom:20px}.mb30{margin-bottom:30px}.ml3{margin-left:3px}.ml5{margin-left:5px}.ml10{margin-left:10px}.ml20{margin-left:20px}.ml30{margin-left:30px}.p5{padding:5px}.p10{padding:10px}.p20{padding:20px}.p30{padding:30px}.pt5{padding-top:5px}.pt10{padding-top:10px}.pt20{padding-top:20px}.pt30{padding-top:30px}.pr5{padding-right:5px}.pr10{padding-right:10px}.pr20{padding-right:20px}.pr30{padding-right:30px}.pb5{padding-bottom:5px}.pb10{padding-bottom:10px}.pb20{padding-bottom:20px}.pb30{padding-bottom:30px}.pl5{padding-left:5px}.pl10{padding-left:10px}.pl20{padding-left:20px}.pl30{padding-left:30px}.pl50{padding-left:50px}.textOverflow{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}.breakWord{word-wrap:break-word;word-break:break-all}.clearfix:before,.clearfix:after{content:"";display:table;font:0/0 a}.clearfix:after{clear:both}.clearfix{*zoom:1}.vm-dib{display:inline-block;vertical-align:middle}.flex-wrap{display:-webkit-box;display:-webkit-flex;display:flex}.flex-item{-webkit-box-flex:1;-webkit-flex:1;flex:1}.flex-vl{-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:auto}.block-level{width:100%!important;-webkit-box-sizing:border-box;box-sizing:border-box}.pw-video a{color:#aaa;cursor:pointer}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#999}input:-moz-placeholder,textarea:-moz-placeholder{color:#999}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#999}input.input-common-disabled::-webkit-input-placeholder,textarea.input-common-disabled::-webkit-input-placeholder{color:#ccc}input.input-common-disabled:-ms-input-placeholder,textarea.input-common-disabled:-ms-input-placeholder{color:#ccc}input.input-common-disabled:-moz-placeholder,textarea.input-common-disabled:-moz-placeholder{color:#999}.infoColor{color:#999!important}.pw-video .voice-icon i,.pw-video .bottom-ad_voice i,.pw-video .btn-video .btn-replay{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:18px;height:14px;position:relative;display:inline-block;top:13px;cursor:pointer;left:5px}.pw-video .voice-no{background-position:0 0!important}.pw-video .voice-small{background-position:-25px 0!important;left:4px!important}.pw-video .voice-middle{background-position:-43px 0!important}.pw-video .voice-big{background-position:-65px 0!important}.pw-video .control-right li i,.pw-video .control-right_ad li i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:18px;height:17px;display:inline-block;position:relative;top:4px}.pw-video .control-right a .screen-exit{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/screenExit_icon.png) no-repeat}.pw-video .control-right_ad a .screen-exit{background-position:-34px -28px}.pw-video .control-right a:hover .screen-exit{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/screenExit_hicon.png) no-repeat}.pw-video .control-right_ad a:hover .screen-exit{background-position:0 -28px}.pw-video .control-right a .screen-all,.pw-video .control-right_ad a .screen-all{background-position:-65px -30px}.pw-video .control-right a:hover .screen-all,.pw-video .control-right_ad a:hover .screen-all{background-position:-94px -30px}.pw-video .control-right a .webPage_screen{background-position:-120px 0}.pw-video .control-right a:hover .webPage_screen{background-position:-145px 0}.pw-video .control-right a .webPage_screen-exit{background-position:-170px 0}.pw-video .control-right a:hover .webPage_screen-exit{background-position:-195px 0}.pw-video .control-right a .voice-no{height:20px;background-position:0 4px!important}.pw-video .control-right a:hover .voice-no{height:20px;background-position:0 -176px!important}.pw-video .control-right a .voice-small{height:20px;background-position:-26px 4px!important}.pw-video .control-right a:hover .voice-small{height:20px;background-position:-24px -176px!important}.pw-video .control-right a .voice-middle{height:20px;background-position:-50px 4px!important}.pw-video .control-right a:hover .voice-middle{height:20px;background-position:-43px -176px!important}.pw-video .control-right a .voice-big{height:20px;background-position:-73px 4px!important}.pw-video .control-right a:hover .voice-big{height:20px;background-position:-65px -176px!important}.pw-video .fast-play{border:20px dashed transparent;border-left:35px solid #ababab;display:inline-block;position:relative;margin-top:40px}.pw-video .fast-play:before{content:"";display:block;position:absolute;top:-20px;border:20px dashed transparent;border-left:35px solid #ababab}.pw-video .txtPlay_cont-long .txt-link i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;display:block;width:20px;height:15px;float:right;position:relative;top:15px}.pw-video .txtPlay_cont-long .txt-link .icon-arrowUp{background-position:-125px -28px}.pw-video .txtPlay_cont-long .txt-link .icon-arrowDown{background-position:-149px -28px}.pw-video .txtPlay_cont-long .txt-link:hover .icon-arrowUp{background-position:-170px -28px}.pw-video .txtPlay_cont-long .txt-link:hover .icon-arrowDown{background-position:-194px -28px}.pw-video .goback{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;display:block;width:15px;height:30px;background-position:-220px -10px}.pw-video .vip-1080{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:15px;height:15px;background-position:-95px 0;position:absolute;left:12px;top:15px}.pw-video .control-right li i.vip_1080p{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:28px;height:14px;background-position:-240px -180px;vertical-align:2px;margin-left:1px}.pw-video .control-right li i.vip_1080p_ft{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:28px;height:14px;background-position:-294px -180px;vertical-align:2px;margin-left:1px}.vip1080p_txt{display:inline-block}.pw-video .control-right li i.logoIcon_720p{width:19px;height:16px;background-position:-60px -210px;display:block;position:absolute;left:10px;top:7px}.pw-video .control-right li i.pcaIcon_1080p{width:26px;height:12px;display:inline-block;background-position:-330px -180px;top:2px}.pw-video .btn-video .play-loading{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/loading-two.gif) no-repeat;width:23px;height:23px;display:block;position:relative;left:14px;top:10px}.pw-video .btn-video .btn-replay{background-position:0 -210px;width:19px;height:18px;display:block;left:17px;top:11px}.pw-video .btn-video .btn-replay:hover{background-position:-30px -210px}.pw-video .openvip-bottom .vip-only_list i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:30px;height:30px;display:inline-block}.pw-video .openvip-bottom .vip-only_list .icon-vipvideo{background-position:0 -66px}.pw-video .openvip-bottom .vip-only_list .icon-vipad{background-position:-41px -66px}.pw-video .openvip-bottom .vip-only_list .icon-vipstatus{background-position:-90px -66px}.pw-video .openvip-bottom .vip-only_list .icon-vipfree{background-position:-130px -66px}.pw-video .error .error-warn .icon-error{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;background-position:-60px -130px;width:35px;height:35px;display:inline-block}.video_advWrap{height:63px}.video_advTxt{width:28px;height:15px;border-radius:2px;background:#383838;color:#999;font-size:10px;text-align:center;line-height:14px;display:block}.pw-video .clarty a.video_advBox{width:104px;height:48px;overflow:hidden;display:inline-block;position:absolute;top:16px;left:7px}html{-webkit-overflow-scrolling:touch;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section,body,h1,h2,h3,h4,h5,h6,hr,p,blockquote,dl,dt,dd,ul,ol,li,pre,fieldset,legend,button,input,textarea,form,th,td{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,hgroup,nav,section,summary{display:block}audio,canvas,video{display:inline-block;*display:inline;*zoom:1}button,input,select,textarea{font-family:inherit;font-size:100%;vertical-align:baseline;*vertical-align:middle}button,input[type="button"],input[type="submit"],input[type="reset"]{-webkit-appearance:button;cursor:pointer;*overflow:visible}button::-moz-focus-inner,button::-moz-focus-outer,input::-moz-focus-inner,input::-moz-focus-outer{border:0 none;padding:0;margin:0}textarea{overflow:auto;vertical-align:top;resize:vertical}.pw-video button,.pw-video input,.pw-video select,.pw-video textarea{font:12px/1.5 Tahoma,Helvetica,Arial,"\\5FAE\\8F6F\\96C5\\9ED1",sans-serif}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal}address,cite,dfn,em,var,i{font-style:normal}code,kbd,pre,samp,tt{font-family:"Courier New",monospace,serif}small{font-size:80%}ul,ol{list-style:none outside none}a{text-decoration:none}a:hover{text-decoration:none;outline:0;color:#57a900}a:active{text-decoration:none;outline:0}a:focus{outline:0}abbr[title],acronym[title]{border-bottom:1px dotted;cursor:help}q:before,q:after{content:""}mark{background:#ff0;color:#000}pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}legend{border:0;padding:0;white-space:normal;*margin-left:-7px}fieldset,iframe{border:0 none}img{border:0 none;vertical-align:middle;-ms-interpolation-mode:bicubic}button[disabled],input[disabled]{cursor:default}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}video::-webkit-media-controls-start-playback-button{display:none}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}strong{font-weight:normal}@keyframes show{0%{opacity:.1}100%{opacity:1}}@-webkit-keyframes show{0%{opacity:.1}100%{opacity:1}}.mobile-process .process_btn{opacity:1;width:15px;height:15px}.pw-video .bottom .process_btn,.pw-video .small_bottom .process_btn{transition:opacity .2s;-webkit-transition:opacity .2s;-ms-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s}.pw-video .bottom .process-response:hover .process_btn,.pw-video .small_bottom .process-response:hover .process_btn{opacity:1;transform:matrix(1,0,0,1,0,0);-webkit-transform:matrix(1,0,0,1,0,0);-moz-transform:matrix(1,0,0,1,0,0);-ms-transform:matrix(1,0,0,1,0,0);-o-transform:matrix(1,0,0,1,0,0)}.play-xuanji,.setting,.clarty{animation:show .2s;-webkit-animation:show .2s;-moz-animation:show .2s;-ms-animation:show .2s;-o-animation:show .2s}.pw-video .bottom-hide{animation:translatedown .2s forwards;-webkit-animation:translatedown .2s forwards;-moz-animation:translatedown .2s forwards;-ms-animation:translatedown .2s forwards;-o-animation:translatedown .2s forwards}@keyframes translatedown{0%{transform:translateY(0);-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0)}100%{transform:translateY(56px);-webkit-transform:translateY(56px);-moz-transform:translateY(56px);-ms-transform:translateY(56px);-o-transform:translateY(56px)}}@-webkit-keyframes translatedown{0%{transform:translateY(0);-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0)}100%{transform:translateY(56px);-webkit-transform:translateY(56px);-moz-transform:translateY(56px);-ms-transform:translateY(56px);-o-transform:translateY(56px)}}@-moz-keyframes translatedown{0%{transform:translateY(0);-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0)}100%{transform:translateY(56px);-webkit-transform:translateY(56px);-moz-transform:translateY(56px);-ms-transform:translateY(56px);-o-transform:translateY(56px)}}@-o-keyframes translatedown{0%{transform:translateY(0);-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0)}100%{transform:translateY(56px);-webkit-transform:translateY(56px);-moz-transform:translateY(56px);-ms-transform:translateY(56px);-o-transform:translateY(56px)}}@keyframes hide{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes hide{0%{opacity:1}100%{opacity:0}}@-moz-keyframes hide{0%{opacity:1}100%{opacity:0}}@-o-keyframes hide{0%{opacity:1}100%{opacity:0}}@keyframes changeSmall{0%{transform:scale(1);opacity:1}50%{transform:scale(0.5,0.5)}100%{transform:scale(0);opacity:0}}@keyframes changeBig{0%{transform:scale(0);opacity:0;display:block}50%{transform:scale(0.5,0.5)}100%{transform:scale(1);opacity:1;display:block}}@charset "utf-8";@font-face{font-family:"ds-digital";src:url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.eot);src:url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.eot?#iefix) format("embedded-opentype"),url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.woff) format("woff"),url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.ttf) format("truetype"),url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.svg#iconfont) format("svg")}.pw-video .btn-play{border:10px dashed transparent;border-left:15px solid #ababab;display:inline-block;left:20px;top:10px;position:absolute;outline:0}.pw-video .btn-pause{display:inline-block;position:absolute;left:20px;top:13px;height:15px;width:2px;background-color:#ababab}.pw-video .btn-pause:before{content:"";display:block;position:absolute;background-color:#ababab;height:15px;width:2px;left:10px}.pw-video .btn-video:hover .btn-play{border-left-color:#6cc900}.pw-video .btn-video:hover .btn-pause,.pw-video .btn-video:hover .btn-pause:before{background-color:#6cc900}.pw-video .bottom-ad_play:hover .btn-play{border-left-color:#6cc900}.pw-video .bottom-ad_play:hover .btn-pause,.pw-video .bottom-ad_play:hover .btn-pause:before{background-color:#6cc900}.pw-video .voice-icon i,.pw-video .bottom-ad_voice i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:18px;height:14px;position:relative;display:inline-block;top:13px;cursor:pointer;left:5px}.pw-video .voice-no{background-position:0 0!important}.pw-video .voice-small{background-position:-25px 0!important;left:4px!important}.pw-video .voice-middle{background-position:-43px 0!important}.pw-video .voice-big{background-position:-65px 0!important}.pw-video .ad{position:absolute;top:0;left:0;z-index:100;width:100%;height:100%}.pw-video .ad-time{position:absolute;z-index:100;background:rgba(26,26,26,.7);border-radius:20px;width:130px;height:30px;right:20px;top:20px;line-height:30px;text-align:center}.pw-video .ad-time span{font:18px/1.5 Regular,Helvetica,Arial,"\\5FAE\\8F6F\\96C5\\9ED1",sans-serif;display:inline-block;position:relative;top:2px;color:#fff}.pw-small-video .ad-time .ad-vip{margin-left:3px;position:relative;top:-2px;font-size:12px}.pw-video .ad-time .ad-vip{margin-left:8px;color:#fff;font-size:14px}.pw-video .ad-time .ad-vip:hover{color:#57a900}.pw-video .bottom-ad{position:absolute;bottom:0;height:56px;width:100%;z-index:100}.pw-video .bottom-public .know-detail{padding:9px 15px;border-radius:30px;background:rgba(26,26,26,.8);display:block;float:right;color:#fff;margin-right:72px;line-height:18px;font-size:14px}.pw-small-video .bottom-public .know-detail{padding:6px 10px;margin-right:49px}.pw-video .bottom-ad .know-detail:hover{color:#57a900}.pw-video .bottom-ad .bottom-ad_play,.pw-video .bottom-ad .bottom-ad_voice{background:rgba(26,26,26,.8);width:35px;height:35px;border-radius:50%;position:absolute}.pw-video .bottom-ad .bottom-ad_play{left:20px}.pw-video .bottom-ad .bottom-ad_voice{left:74px}.pw-video .bottom-ad .bottom-ad_play .btn-play{left:12px;top:8px}.pw-video .bottom-ad .bottom-ad_play .btn-pause{left:12px;top:10px}.pw-video .ad-screen i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:20px;height:20px;display:inline-block;position:relative;top:7px;left:9px}.pw-small-video .ad-screen i{top:4px;left:6px}.pw-video .voice-icon i,.pw-video .bottom-public_voice i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:18px;height:14px;position:relative;display:inline-block;top:13px;cursor:pointer;left:5px}.pw-video .public-screen i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;width:20px;height:20px;display:inline-block;position:relative;top:7px;left:9px}.pw-small-video .public-screen i{top:4px;left:6px}.pw-video .bottom-ad .bottom-ad_voice i{left:10px;top:11px}.pw-video .bottom-ad .bottom-ad_play:hover .btn-stop,.pw-video .bottom-ad .bottom-ad_play:hover .btn-stop:before{background-color:#57a900}.pw-video .bottom-ad .bottom-ad_play:hover .btn-pasue{border-left-color:#57a900}.pw-video .bottom-ad .ad-screen{background:rgba(26,26,26,.8);width:35px;height:35px;border-radius:50%;position:absolute;right:20px}.pw-video .ad-screen .screen-small{background-position:-34px -28px}.pw-video .public-screen .screen-small{background-position:-34px -28px}.pw-video .ad-screen:hover .screen-small{background-position:0 -28px}.pw-video .ad-screen .screen-all{background-position:-65px -28px}.pw-video .public-screen .screen-all{background-position:-65px -28px}.pw-video .ad-screen:hover .screen-all{background-position:-94px -28px}.pw-small-video .ad-time{width:100px;height:25px;right:10px;line-height:25px;top:10px}.pw-small-video .ad-time span{top:0}.pw-small-video .bottom-ad .bottom-ad_play,.pw-small-video .bottom-ad .bottom-ad_voice{height:30px;width:30px}.pw-small-video .bottom-ad{height:40px}.pw-small-video .bottom-ad .bottom-ad_voice{left:49px}.pw-small-video .bottom-ad .ad-screen{width:30px;height:30px;right:10px}.pw-small-video .bottom-ad .bottom-ad_voice i{left:7px;top:8px}.pw-small-video .bottom-ad .bottom-ad_play .btn-pause{left:9px;top:7px}.pw-small-video .bottom-ad .bottom-ad_play .btn-play{left:11px;top:7px}.pw-video .bottom-public_play:hover .btn-play{border-left-color:#6cc900}.pw-video .bottom-public_play:hover .btn-pause,.pw-video .bottom-public_play:hover .btn-pause:before{background-color:#6cc900}.pw-video .public{position:absolute;top:0;left:0;z-index:100;width:100%;height:100%}.pw-video .public-time{position:absolute;z-index:100;background:rgba(26,26,26,.7);border-radius:20px;width:130px;height:30px;right:20px;top:20px;line-height:30px;text-align:center}.pw-video .public-time span{font:18px/1.5 Regular,Helvetica,Arial,"\\5FAE\\8F6F\\96C5\\9ED1",sans-serif;display:inline-block;color:#fff}.pw-video .public-time .public-vip{margin-left:8px;color:#fff;font-size:14px}.pw-small-video .public-time .public-vip{margin-left:3px;position:relative;top:-2px;font-size:12px}.pw-video .public-time .public-vip:hover{color:#57a900}.pw-video .bottom-public{position:absolute;bottom:0;height:56px;width:100%;z-index:100}.pw-video .bottom-public .know-detail:hover{color:#57a900}.pw-video .bottom-public .bottom-public_play,.pw-video .bottom-public .bottom-public_voice{background:rgba(26,26,26,.8);width:36px;height:36px;border-radius:50%;position:absolute;text-align:left}.pw-video .bottom-public .bottom-public_play{left:20px}.pw-video .bottom-public .bottom-public_voice{left:74px;text-align:left}.pw-video .bottom-public .bottom-public_play .btn-play{left:12px;top:9px;transition:none}.pw-video .bottom-public .bottom-public_play .btn-pause{left:12px;top:10px;opacity:1;transform:scale(1)}.pw-video .bottom-public .bottom-public_play .btn-pause:before{opacity:1;transform:scale(1)}.pw-video .bottom-public .bottom-public_voice i.voice-middle{left:3px;top:11px}.pw-video .bottom-public .bottom-public_voice i.voice-big{left:1px;top:11px;width:26px}.pw-video .bottom-public .bottom-public_voice:hover i.voice-big{background-position:-58px -180px!important;left:2px}.pw-video .bottom-public .bottom-public_voice i.voice-no{left:10px;top:11px}.pw-video .bottom-public .bottom-public_play:hover .btn-stop,.pw-video .bottom-public .bottom-public_play:hover .btn-stop:before{background-color:#57a900}.pw-video .bottom-public .bottom-public_play:hover .btn-pasue{border-left-color:#57a900}.pw-video .bottom-public .public-screen{background:rgba(26,26,26,.8);width:35px;height:35px;border-radius:50%;position:absolute;right:20px;text-align:left}.pw-video .public-screen:hover .screen-small{background-position:0 -28px}.pw-video .public-screen:hover .screen-all{background-position:-94px -28px}.pw-small-video .public-time{width:100px;height:25px;right:10px;line-height:25px;top:10px}.pw-small-video .public-time span{top:0}.pw-small-video .bottom-public .bottom-public_play{left:10px}.pw-small-video .bottom-public .bottom-public_play,.pw-small-video .bottom-public .bottom-public_voice{height:30px;width:30px}.pw-small-video .bottom-public{height:40px}.pw-small-video .bottom-public .bottom-public_voice{left:49px}.pw-small-video .bottom-public .public-screen{width:30px;height:30px;right:10px}.pw-small-video .bottom-public .bottom-public_voice i{left:7px;top:8px}.pw-small-video .bottom-public .bottom-public_play .btn-pause{left:9px;top:7px}.pw-small-video .bottom-public .bottom-public_play .btn-play{left:11px;top:7px}.pw-video{background-color:#000;position:relative;display:inline-block;height:100%;width:100%;min-width:230px;overflow:hidden;z-index:0;outline:0}.pw_videoIcon{background-image:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png)!important}.webfullscreen{position:fixed;left:0;top:0;z-index:4201}.pw-video canvas{width:100%;height:100%}.pw-video .player{position:relative}.video_set{position:relative;height:40px}.video_setIcon{background-position:-300px 0;width:21px;height:21px;display:inline-block;margin-top:10px}.video_set:hover .video_setIcon,.video_setIcon:hover{background-position:-330px 0;cursor:pointer}.video_setPop{background:rgba(26,26,26,.8);width:161px;border:1px solid #1c1c1c;position:absolute;left:-60px;bottom:42px;padding:12px 0 10px}.setPop_item{text-align:left;height:32px;line-height:32px;padding:0 20px}.setPop_switchTxt{font-size:12px;color:#fff;display:inline-block;overflow:hidden}.setPop_switch{float:right;margin-top:8px;cursor:pointer;width:30px;height:14px;border:1px solid #6cc900;border-radius:7px;position:relative}.setPop_switch:before{height:12px;width:12px;border-radius:50%;background:#6cc900;content:"";display:block;position:absolute;right:1px;top:1px}.setPop_switch_close{border:1px solid #666}.setPop_switch_close:before{left:inherit;left:1px;background:#666}.setPop_switch_close:hover{border:1px solid #6cc900}.setPop_switch_close:hover:before{background:#6cc900}.setPop_line{width:100%;height:1px;position:relative;margin-top:2px}.setPop_line:before{content:"";position:absolute;left:0;display:block;width:50%;height:1px;background-image:-webkit-linear-gradient(left,rgba(51,51,51,0) 0,rgba(51,51,51,1) 100%)}.setPop_line:after{content:"";position:absolute;right:0;display:block;height:1px;width:50%;background-image:-webkit-linear-gradient(right,rgba(51,51,51,0) 0,rgba(51,51,51,1) 100%);visibility:inherit}.setPop_tit{font-size:12px;color:#888;text-align:center;line-height:32px}.videoSet_box{height:20px;text-align:center}.pw-video .video_setPop_bot a.videoSet_link{text-align:center;background:rgba(0,0,0,.4);width:54px;height:20px;line-height:20px;display:inline-block;border-radius:2px;color:#fff;font-size:12px;margin:0 10px;float:left}.pw-video .video_setPop_bot a.videoSet_link:hover{color:#6cc900}.pw-video .video_setPop_bot a.selected{background:#6cc900;color:#fff!important}.videoRec{color:#ccc;font-size:12px;text-align:center;line-height:32px}.videoRecIcon{width:4px;height:4px;margin-right:5px;vertical-align:2px;background:#6cc900;display:inline-block;transform:rotate(45deg)}.play_speedUl{overflow:auto;padding-left:13px;margin-bottom:3px}.play_speedItem{width:37px!important;height:20px;line-height:20px;float:left!important;margin-left:6px;margin-bottom:5px}.play_speedLink{display:block;background:rgba(0,0,0,.4);border-radius:2px;color:#fff!important;font-size:12px}.play_speedLink:hover{color:#6cc900!important}.play_speedUl li.selected .play_speedLink,.play_speedUl li.selected .play_speedLink:hover{background:#6cc900;color:#fff!important}.pw-video .top{position:absolute;top:0;color:#fff;font-size:16px;left:0;right:0;padding:20px 0 20px 20px;background-image:-webkit-linear-gradient(bottom,rgba(26,26,26,0) 0,rgba(26,26,26,1) 125%);background-image:-moz-linear-gradient(bottom,rgba(26,26,26,0) 0,rgba(26,26,26,1) 125%);background-image:-o-linear-gradient(bottom,rgba(26,26,26,0) 0,rgba(26,26,26,1) 125%);background-image:linear-gradient(to top,rgba(26,26,26,0) 0,rgba(26,26,26,1) 125%)}.skip a{color:#fff;display:inline-block}.pw-video .top a{display:inline-block;position:relative;top:5px}.pw-video .top h3{display:inline-block;margin-left:10px;font-size:18px;color:#fff!important}.process_hidden .control{display:none}.pw-video .process-response{position:absolute;height:16px;width:100%;cursor:pointer;transition:height .2s;bottom:40px;z-index:5}.pw-video .process_hidden .process-response{bottom:0;height:16px}.pw-video .process_btn{background-color:#fff;border-radius:50%;position:absolute;z-index:5;cursor:pointer;display:block;height:16px;width:16px;opacity:0;box-shadow:-1px 0 5px #626262;-webkit-box-shadow:-1px 0 5px #626262;-moz-box-shadow:-1px 0 5px #626262;-o-box-shadow:-1px 0 5px #626262}.pw-small-video .bottom .process_btn{height:8px;width:8px;top:-2px}.pw-video .process_hidden .process-response:hover .process .process_btn{opacity:1}.pw-video .bottom{position:absolute;left:0;bottom:0;width:100%;z-index:99}.pw-video .process-response:hover{height:16px}.pw-video .process{position:absolute;width:100%;bottom:0;background:rgba(0,0,0,.5);height:2px;cursor:pointer;transition:height .2s,opacity .2s}.pw-video .process_load{background:#828282;height:2px;position:absolute;left:0;bottom:0;cursor:pointer;transition:height .2s}.pw-video .process_play{background-image:linear-gradient(to right,#57a900,#97ff00 80%,#dee2da);background-image:-webkit-linear-gradient(left,#57a900,#97ff00 80%,#dee2da);background-image:-moz-linear-gradient(left,#57a900,#97ff00 80%,#dee2da);background-image:-o-linear-gradient(left,#57a900,#97ff00 80%,#dee2da);height:2px;position:absolute;left:0;bottom:0;cursor:pointer;transition:height .2s}.pw-video .control{width:100%;height:40px;background:rgba(26,26,26,.8);position:relative;z-index:120}.pw-video .control-left{float:left;height:40px;width:56%}.pw-video .pasue{position:relative;height:40px;width:48px;float:left}.pw-video .forward{position:relative;height:40px;width:38px;float:left}.pw-video .btn-video{display:block;height:40px;position:relative;outline:0}.btn-play_changeSmall{animation:changeSmall .5s linear}.btn-pause_changeBig{animation:changeBig .5s linear}.pw-video .btn-pasue{border:10px dashed transparent;border-left:15px solid #ababab;display:inline-block;position:relative;left:20px;top:10px}.pw-video .btn-stop{display:inline-block;position:relative;left:20px;top:13px;height:15px;width:2px;background-color:#ababab}.pw-video .btn-stop:before{content:"";display:block;position:absolute;background-color:#ababab;height:15px;width:2px;left:10px}.pw-video .btn-video:hover .btn-pasue{border-left-color:#6cc900}.pw-video .btn-video:hover .btn-stop,.pw-video .btn-video:hover .btn-stop:before{background-color:#6cc900}.pw-video .btn-forward{border:8px dashed transparent;border-left:13px solid #ababab;display:inline-block;position:relative;left:13px;top:12px}.pw-video .btn-forward:before{content:"";display:block;height:16px;width:2px;position:absolute;right:-1px;top:-8px;background:#ababab}.pw-video .btn-forward:hover{border-left-color:#6cc900}.pw-video .btn-forward:hover:before{background:#6cc900}.pw-video .time{position:relative;line-height:40px;width:128px;text-align:left;float:left;font-size:14px;padding-left:13px}.pw-video .time-recent{color:#f4f4f4}.pw-video .time .time-all{color:#aaa}.pw-video .voice-icon{position:relative;width:30px;float:left;height:40px;text-align:center}.pw-video .voice-des{position:relative;width:100px;float:left;height:40px;text-align:center}.pw-video .voice-process{width:80px;height:20px;display:inline-block;position:relative;top:11px;cursor:pointer}.pw-video .voice_play{height:2px;background:#57a900;position:absolute;top:8px;z-index:5}.pw-video .voice_btn{background-color:#fff;height:9px;width:9px;border-radius:50%;position:absolute;top:5px;z-index:5;cursor:pointer}.pw-video .voice_bground{width:80px;height:2px;background:#5e5755;position:absolute;top:8px}.video_rBox{position:relative;padding:18px 0 0}.video_rBox .voice-des{position:absolute;bottom:29px;left:-10px;z-index:100;width:34px;height:108px;background:rgba(26,26,26,.8);border:1px solid #1c1c1c}.video_rBox .voice-des .voice_box{height:80px;width:10px;display:inline-block;position:absolute;left:12px;top:14px;cursor:pointer}.video_rBox .voice-des .voice_box .voice_playIcon{width:2px;background:#57a900;position:absolute;left:4px;bottom:0;z-index:5}.video_rBox .voice-des .voice_box .voice_btns{background-color:#fff;height:10px;width:10px;border-radius:50%;position:absolute;bottom:5px;z-index:5;cursor:pointer}.video_rBox .voice-des .voice_box .voice_bg{height:80px;width:2px;background:#5e5755;position:absolute;left:4px}.pw-video .control-right{float:right;height:40px;width:44%;line-height:40px;padding-right:7px;box-sizing:border-box}.playEnd_ul li{width:160px;height:90px;margin-left:3px;margin-top:3px;float:left;overflow:hidden}.pw-video .control-right li{width:43px;float:right;text-align:center;position:relative}.skip a:hover,.skip a.selected{color:#6cc900}.pw-video .control-right li a{cursor:pointer;font-size:12px}.stream_txt,.speed_txt{display:block;padding-top:5px;margin-top:-5px}.pw-video .play-btns{background:rgba(26,26,26,.8);width:240px;height:170px;position:absolute;left:47%;top:44%;margin-left:-120px;margin-top:-85px;text-align:center}.pw-video .fast-time{margin-top:10px;font-size:20px}.pw-video .fast-recent{color:#fff}.pw-video .fast-process{width:180px;height:5px;background-color:#5e5755;margin:12px auto}.pw-video .fast-process .fast-now{height:5px;background:#57a900}.pw-video .selected,.pw-video .selected span{color:#6cc900!important}.pw-video .clarty .disabled{color:#666;cursor:default}.pw-video .clarty .disabled:hover{color:#666;cursor:default}.pw-video .stream{width:240px;height:35px;background:rgba(26,26,26,.8);position:absolute;bottom:2px;transition:bottom .2s}.pw-video .stream h3{font-size:12px;line-height:35px;margin-left:20px;display:inline-block;color:#fff}.pw-video .stream .stream-change{color:#57a900}.pw-video .stream .stream-info{color:#fff}.pw-video .stream .stream-exit{width:9px;height:9px;display:block;float:right;margin-right:15px;margin-top:12px;font-size:0;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat -120px -180px}.pw-video .caton .stream-exit{width:9px;height:9px;display:block;float:right;margin-right:15px;margin-top:12px;font-size:0;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat -120px -180px}.pw-video .stream .stream-exit:hover{background-position:-140px -180px}.pw-video .video-loading{background-color:#232323;width:100%;height:100%;position:absolute;top:0;left:0;z-index:88}.pw-video .video-loading .video-loading_info{position:absolute;top:44%;left:50%;margin-left:-93px}.pw-video .video-loading .video-loading_btn{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/loading-one.gif) no-repeat;width:25px;height:25px;display:inline-block}.pw-video .video-loading span{position:relative;top:-7px;margin-left:5px;color:#fff;font-size:14px}.videoLogo_loading{background-color:#000;width:100%;height:100%;position:absolute;top:0;left:0;z-index:88}.logoLoading_box,.logoLoading_box_ft{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);text-align:center;font-size:0;width:350px;white-space:normal}.logoLoading_box_ft{width:350px}.logoVideo{width:170px;height:78px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/yxpz_loading180528.png) no-repeat;display:inline-block;margin-bottom:36px;vertical-align:top}.logoVideo_line{width:300px;height:2px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/iqiyi_loading_line180528.gif) no-repeat;display:inline-block;background-size:300px 2px;vertical-align:top}.logoVideoft{width:170px;height:78px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/yxpzft_loading180528.png) no-repeat;display:inline-block;margin-bottom:36px;vertical-align:top}.logoLoading_vip .logoVideo{width:225px;height:71px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/vip_loading.png) no-repeat;margin-bottom:20px}.logoLoading_vip .logoVideo_line{width:270px;height:2px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/VIP_loading_line.gif) no-repeat;background-size:auto}.logoLoading_vipft .logoVideo{width:225px;height:71px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/vipft_loading.png) no-repeat;margin-bottom:20px}.logoLoading_vipft .logoVideo_line{width:270px;height:2px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/VIP_loading_line.gif) no-repeat;background-size:auto}.logoLoading_cp .logoVideo{width:119px;height:106px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/aqycp_loading180528.png) no-repeat}.logoLoading_cpft .logoVideo{width:119px;height:106px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/aqycpft_loading180528.png) no-repeat}.logoLoading_db .logoVideo{width:260px;height:69px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/qwdb_loading180528.png) no-repeat;margin-bottom:29px}.logoLoading_dbft .logoVideo{width:260px;height:69px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/qwdbft_loading180528.png) no-repeat;margin-bottom:29px}.pw-video .openvip{background-color:#232323;width:100%;height:100%;position:absolute;top:0;left:0;z-index:100}.pw-video .openvip-top{width:350px;margin:0 auto;position:relative;margin-top:13%}.pw-video .openvip-top .icon-openwarn{display:inline-block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;height:50px;width:50px;background-position:2px -117px;position:absolute;left:-60px}.pw-video .openvip-top p{font-size:16px;color:#fff}.pw-video .openvip-des{position:relative;margin-top:20px}.pw-video .openvip-des .openvip-link{background-image:linear-gradient(to top,#f3cc9f,#ce9f68);background-image:-webkit-linear-gradient(top,#f3cc9f,#ce9f68);background-image:-moz-linear-gradient(top,#f3cc9f,#ce9f68);background-image:-o-linear-gradient(top,#f3cc9f,#ce9f68);color:#733613;font-size:16px;padding:5px 15px;border-radius:5px}.pw-video .openvip-des .openvip-link:hover{background-image:linear-gradient(to top,#ffdaad,#e0b179);background-image:-webkit-linear-gradient(top,#ffdaad,#e0b179);background-image:-moz-linear-gradient(top,#ffdaad,#e0b179);background-image:-o-linear-gradient(top,#ffdaad,#e0b179)}.pw-video .openvip-des .vip-ship{background:#ff5f02;border-radius:10px;border-bottom-left-radius:0;color:#fff;display:block;position:absolute;text-align:center;width:100px;height:18px;line-height:18px;top:-13px;left:155px}.pw-video .openvip-des .vip-activity{display:block;color:#c5955d;position:relative;top:5px;left:90px}.pw-video .openvip-bottom{width:350px;margin:20px auto 0;position:relative}.pw-video .openvip-bottom h3{color:#eac98f;font-size:16px;border-bottom:1px dotted #454545;width:210px;line-height:45px}.pw-video .openvip-bottom .vip-only_list{position:relative;height:200px;width:210px;margin-top:25px}.pw-video .openvip-bottom .vip-only_list li{width:50%;float:left;margin-bottom:5px}.pw-video .openvip-bottom .vip-only_list span{color:#fff;position:relative;top:-9px}.pw-video .vip-only{float:left}.pw-video .vip-weixin{display:inline-block;margin-left:10px;margin-top:13px}.pw-video .vip-weixin p{text-align:center}.pw-video .vip-weixin .vip-sao{color:#c5955d;margin-top:5px;margin-bottom:5px}.pw-video .error{background-color:#232323;width:100%;height:100%;position:absolute;top:0;left:0;z-index:100}.pw-video .error .error-warn{position:absolute;top:40%;width:100%;text-align:center}.pw-video .error .error-warn span{color:#fff;font-size:14px;position:relative;top:-12px;margin-left:10px;display:inline-block}.pw-video .small-screen .openvip-top{width:210px;left:50%;margin-left:-90px}.pw-video .small-screen .openvip-top p{font-size:12px}.pw-video .small-screen .openvip-des .openvip-link{font-size:12px}.pw-video .small-screen .openvip-top .icon-openwarn{height:25px;width:25px;background-position:0 -58px;left:-30px;background-size:128px 83px}.pw-video .small-screen .openvip-des{margin-top:10px}.pw-video .small-screen .error-warn{width:210px;margin-left:-105px}.pw-video .small-screen .error-warn span{width:160px;font-size:12px;top:-4px}.pw-small-video .bottom{height:35px;position:absolute;left:0;bottom:0;width:100%;z-index:99}.pw-small-video .bottom .process-response{bottom:8px;width:225px;left:45px}.mobile-process .process{transition:none}.pw-small-video .bottom .process{position:absolute;top:6px;z-index:99;height:3px}.pw-small-video .bottom .process_load{height:3px}.pw-small-video .bottom .process_play{height:3px}.pw-small-video .bottom .control-left{width:20%}.pw-small-video .control{height:35px}.pw-small-video .btn-video{height:35px}.pw-small-video .btn-play{border:8px dashed transparent;border-left:10px solid #ababab;left:10px}.pw-small-video .control-right{height:35px}.pw-small-video .control-right li i,.pw-small-video .control-right_ad li i{right:-10px;top:2px}.pw-small-video .btn-pause{height:12px;left:10px;top:11px}.pw-small-video .btn-pause:before{height:12px}.pw-small-video .btn-video .play-loading{left:9px;top:8px}.pw-video .bottom .mobile-process .process{height:2px;z-index:99;opacity:1}.pw-video .bottom .process-response:hover .process,.pw-video .process_hidden .process-response:hover .process{height:16px;z-index:99;opacity:1}.pw-video .bottom .mobile-process .process .process_load{height:2px}.pw-video .bottom .process-response:hover .process .process_load,.pw-video .process_hidden .process-response:hover .process .process_load{height:16px}.pw-video .mobile-process .process_play{transition:none;height:16px}.pw-video .bottom .mobile-process .process .process_play{height:2px}.pw-video .bottom .process-response:hover .process .process_play,.pw-video .process_hidden .process-response:hover .process .process_play{height:16px}.pw-video-screen{position:fixed;top:0;left:0;right:0;z-index:999999;width:100%;height:100%}.pw-video-screen .player{height:100%;display:block;margin:0 auto}:fullscreen{position:fixed!important;top:0;right:0;bottom:0;left:0;margin:0;box-sizing:border-box;object-fit:contain}:-webkit-full-screen{position:fixed!important;top:0;right:0;bottom:0;left:0;margin:0;box-sizing:border-box;object-fit:contain;background-color:#000;z-index:2147483647}:-webkit-full-screen-ancestor:not(iframe){z-index:auto!important;position:static!important;opacity:1!important;-webkit-transform:none!important;-webkit-mask:none!important;clip:none!important;-webkit-filter:none!important;-webkit-transition:none!important;-webkit-box-reflect:none!important;-webkit-perspective:none!important;-webkit-transform-style:flat!important}:root:-webkit-full-screen-ancestor,:root:-webkit-full-screen-document:not(:-webkit-full-screen){overflow:hidden!important}video:-webkit-full-screen,audio:-webkit-full-screen{background-color:transparent!important;position:static!important;margin:0!important;height:100%!important;width:100%!important;-webkit-box-flex:1!important;display:block!important}iframe:-webkit-full-screen{margin:0!important;padding:0!important;border:0!important;position:fixed!important;height:100%!important;width:100%!important;left:0!important;top:0!important}.video-play{background:url(//pic6.iqiyipic.com/common/20160601/play-btn.png) no-repeat;width:90px;height:90px;display:block;position:absolute;top:50%;background-size:90px;left:50%;margin-left:-45px;margin-top:-45px}.video-replay{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:70px;height:66px;display:block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) 0 -360px}.pw-video .panoramic-btn{position:absolute;top:10px;left:10px;width:54px;height:54px;background:url(//pic0.iqiyipic.com/common/20160613/pcWeb.png) no-repeat;font-size:0}.pw-video .panoramic-btn .panoramic-btn-top,.pw-video .panoramic-btn .panoramic-btn-bottom{display:inline-block;width:27px;height:29px;position:absolute;font-size:14px;transform:rotate(45deg);-webkit-transform:rotate(45deg)}.pw-video .panoramic-btn .panoramic-btn-left,.pw-video .panoramic-btn .panoramic-btn-right{display:inline-block;height:27px;width:29px;position:absolute;font-size:14px;transform:rotate(45deg);-webkit-transform:rotate(45deg)}.pw-video .panoramic-btn .panoramic-btn-top{left:12px;top:-6px}.pw-video .panoramic-btn .panoramic-btn-bottom{left:16px;bottom:-5px}.pw-video .panoramic-btn .panoramic-btn-left{left:-5px;top:15px}.pw-video .panoramic-btn .panoramic-btn-right{right:-5px;top:14px}.pw-video .panoramic-btn .panoramic-btn-top:hover{background:url(//pic6.iqiyipic.com/common/20160628/hover.png) no-repeat;transform:rotate(45deg);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}.pw-video .panoramic-btn .panoramic-btn-bottom:hover{background:url(//pic6.iqiyipic.com/common/20160628/hover.png) no-repeat;transform:rotate(221deg);-webkit-transform:rotate(221deg);-ms-transform:rotate(221deg);-o-transform:rotate(221deg)}.pw-video .panoramic-btn .panoramic-btn-left:hover{background:url(//pic6.iqiyipic.com/common/20160628/hover.png) no-repeat;transform:rotate(-52deg);-webkit-transform:rotate(-52deg);-ms-transform:rotate(-52deg);-o-transform:rotate(-52deg)}.pw-video .panoramic-btn .panoramic-btn-right:hover{background:url(//pic6.iqiyipic.com/common/20160628/hover.png) no-repeat;transform:rotate(135deg);-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);-o-transform:rotate(135deg)}.play_imgBox{position:absolute}.play_imgWrap{width:164px;background:#000;position:absolute;bottom:0;left:-82px}.play_imgBg{width:160px;height:90px;margin-top:2px;margin-left:2px}.play_time{width:160px;text-align:center;line-height:24px;color:#fff}.skip{background:rgba(26,26,26,.8);height:56px;width:120px;position:absolute;bottom:16px;font-size:12px;color:#fff;text-align:center}.skip_title{padding-top:7px;padding-bottom:3px}.skip_yBtn{margin-right:19px}.skip_line{width:1px;height:16px;background:#fff;position:absolute;bottom:0;z-index:10;opacity:0}.process-response:hover .skip_line{opacity:1;transition:opacity .2s}.skip_dots{padding:20px 0 0;width:6px;height:6px;position:absolute;bottom:0;z-index:99}.skip_dots:before{content:"";width:6px;height:6px;border-radius:50%;background:#fff;position:absolute;bottom:5px;z-index:10;opacity:0}.process-response:hover .skip_dots:before{opacity:1;transition:opacity .2s}.top_rightTime{font-family:ds-digital;position:absolute;top:25px;right:30px;font-size:20px;color:#fff}.screen_adjustBox{position:absolute;top:25px;width:100%;text-align:center;font-size:0}.screen_adjustUl{display:inline-block;margin-left:-15px}.screen_adjustUl li{float:left;padding-left:30px}.pw-video a.screen_adjustLink{font-size:14px;color:#fff}.pw-video a.screen_adjustLink:hover,.pw-video a.screen_adjustLink.selected{color:#6cc900}.screen_adjustLink i{width:14px;height:12px;display:inline-block;margin-right:9px}.screen_adj50{background-position:0 -300px}.screen_adj75{background-position:-30px -300px}.screen_adj100{background-position:-60px -300px}.screen_adjustLink:hover .screen_adj50,.screen_adjustUl li a.selected .screen_adj50{background-position:0 -330px}.screen_adjustLink:hover .screen_adj75,.screen_adjustUl li a.selected .screen_adj75{background-position:-30px -330px}.screen_adjustLink:hover .screen_adj100,.screen_adjustUl li a.selected .screen_adj100{background-position:-60px -330px}.fullScreen50 video{width:50%!important;height:50%!important;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.fullScreen75 video{width:75%!important;height:75%!important;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.video_logoBox{width:100%!important;height:100%!important;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.fullScreen50 .video_logoBox{width:50%!important;height:50%!important;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.fullScreen75 .video_logoBox{width:75%!important;height:75%!important;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.client_down{width:210px;height:75px;position:absolute;right:9px;bottom:64px}.client_down .inner{width:210px;height:75px;position:relative}.pcs_bgBox{width:141px;height:75px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/pca_bgL0608.png) no-repeat;position:absolute;left:0;top:0}.client_downBtn{width:69px;height:75px;font-size:0;position:absolute;right:0;top:0;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/pca_bgR0608_h.png) no-repeat}.client_downBtn:hover{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/pca_bgR0608.png) no-repeat}.client_down a.closeBtn{width:19px;height:19px;display:block;position:absolute;right:0;top:-22px;z-index:10;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/pca_closeBtn.png) no-repeat}.client_down a.closeBtn:hover{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/pca_closeBtnH.png) no-repeat}.play_failed{background:#232323;position:absolute;top:0;left:0;right:0;bottom:0;z-index:200}.play_failedInner{text-align:center;width:100%;height:292px;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.failed_icon{width:109px;height:106px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/play_failed.png) no-repeat;display:inline-block;margin-bottom:20px}.failed_title{font-size:18px;color:#fff;margin-bottom:10px}.failed_txt{font-size:14px;color:#aaa;margin-bottom:15px}.failed_downBtn{width:176px;height:36px;line-height:36px;text-align:center;background:#5aa700;border-radius:3px;display:inline-block;margin-bottom:20px}.pw-video a.failed_downBtn{font-size:16px;color:#fff}.failed_downBtn:hover{background:#63b700}.downIcon{width:20px;height:20px;display:inline-block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/downBtn.png) no-repeat;vertical-align:-4px;margin-left:10px}.failed_help{margin-right:40px}.pw-video a.failed_help,.pw-video a.failed_refresh{font-size:14px;color:#7d7d7d}.help_icon{width:18px;height:18px;display:inline-block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/helpBtn.png) no-repeat;margin-right:8px;vertical-align:-3px}.refresh_icon{width:18px;height:18px;display:inline-block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/refreshBtn.png) no-repeat;margin-right:8px;vertical-align:-3px}.erroCode_txt{position:absolute;bottom:0;right:0;text-align:right;font-size:14px;color:#666;padding-right:20px;padding-bottom:22px}.play_endBox{position:absolute;top:0;left:0;right:0;bottom:42px;z-index:98;background:#000;height:100%}.play_endInner{overflow:hidden;position:absolute;top:50%;left:50%}.playEnd_ul{margin-left:-3px;margin-top:-3px}.playEnd_link{position:relative;display:block;width:100%;height:100%}.playEnd_ipadLink{position:relative;display:block;width:100%;height:100%}.playEnd_link img{width:100%;height:100%;display:inline-block}.playEnd_ipadLink img{width:100%;height:100%;display:inline-block}.playEnd_title{position:absolute;left:0;right:0;bottom:0;height:22px;line-height:22px;background:rgba(0,0,0,.7);color:#fff;font-size:12px;padding:0 4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.playEnd_titleLong{display:none;position:absolute;left:0;right:0;bottom:0;height:auto;line-height:22px;background:rgba(0,0,0,.7);color:#fff;font-size:12px;padding:0 4px}.playEnd_linkH .playEnd_title{height:auto;white-space:normal}.playEnd_link:hover .playEnd_title{display:none}.playEnd_link:hover .playEnd_titleLong{display:block}.playEnd_ul .playEnd_bigList{width:323px;height:183px}.playEnd_ul .playEnd_bigList .playEnd_link img{width:323px;height:183px}.playEndW812{width:812px;margin-left:-406px}.playEndW650{width:650px;margin-left:-325px}.playEndW486{width:486px;margin-left:-243px}.playEndH369{height:369px;margin-top:-205px}.playEndH276{height:276px;margin-top:-138px}.playEndH183{height:183px;margin-top:-92px}.pw-video .caton{width:240px;height:35px;background:rgba(26,26,26,.8);position:absolute;bottom:2px;transition:bottom .2s;z-index:9}.pw-video .process-response:hover .caton{bottom:16px}.pw-video .caton h3{font-size:12px;line-height:35px;margin-left:20px;display:inline-block;color:#aaa}.pw-video .caton .stream-change{color:#57a900}.pw-video .caton .stream-info{color:#fff}.pw-video .caton .stream-infoGreen{color:#6cc900}.pw-video .caton .stream-exit:hover{background-position:-140px -180px}.video_advTips{display:inline-block;position:absolute;bottom:2px;height:35px;line-height:35px;padding:0 43px 0 20px;background:rgba(26,26,26,.8);z-index:9}.video_advTips p{font-size:12px;color:#fff}.video_advTips .stream-infoGreen{color:#6cc900}.video_advTips_close{width:9px;height:9px;display:block;float:right;margin-right:15px;margin-top:12px;font-size:0;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat -120px -180px;position:absolute;top:0;right:0}.pw-video_logoTop{position:absolute;top:8%;right:5%;animation:logoTopAnimation 240s linear both}.pw-video_logoBtm{position:absolute;bottom:17%;right:20%}.logoShowAnimation{animation:show .5s linear both;-webkit-animation:show .5s linear both}.logoHideAnimation{animation:hide .5s linear both;-webkit-animation:hide .5s linear both}.error_panel{background:#232323;position:absolute;top:0;left:0;right:0;bottom:0;z-index:200}.error_panelInner{width:100%;text-align:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.error_panelTitle{font-size:18px;color:#fff;line-height:26px}.error_panelInfo{font-size:12px;color:#666;height:22px;line-height:22px;margin-top:10px}.error_panel .erroCode_txt{font-size:12px;padding-bottom:20px}.error_panelBtn{width:176px;height:36px;line-height:36px;text-align:center;background:#5aa700;border-radius:3px;display:inline-block;margin-top:35px}.pw-video a.error_panelBtn{font-size:16px;color:#fff}.error_panelBtn:hover{background:#63b700}.error_panel .error_panelCode{margin:25px 0 10px}.error_panel .error_panelCodep{display:inline-block}.pw-video a.error_panel_help{font-size:14px;color:#7d7d7d;margin-top:30px;display:inline-block}.pw-video a.error_panel_help:hover{color:#57a900}.pw-video a.error_panel_help .help_icon{width:15px;height:15px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/helpBtnGray15.png) no-repeat 0 0}.pw-video a.error_panel_help:hover .help_icon{background-position:-25px 0}.integral_box{position:absolute;right:20px;bottom:62px;animation:integral .7s ease;z-index:99}.integral_box .integral_inner{height:85px;width:193px;position:relative;background-color:rgba(0,0,0,.8);border-radius:5px;box-shadow:0 2px 5px 0 rgba(0,0,0,.15)}.integral_box .integral_close{position:absolute;top:0;right:0;width:22px;height:22px;font-size:22px;color:#999;text-align:center;line-height:22px;cursor:pointer}.integral_box .integral_txt{font-size:12px;color:#fff;line-height:18px;margin-bottom:6px;margin-top:9px}.integral_box .integral_btnBox{width:160px;text-align:center;position:absolute;top:0;left:50%;transform:translateX(-50%);font-size:0}.integral_box .integral_btn{border:2px solid #00be06;height:20px;line-height:20px;border-radius:12px;color:#00be06!important;width:71px;text-align:center;display:inline-block;font-size:12px}.integral_box .integral_btn:hover{color:#fff!important;background:#00be06}.integral_box .integral_txt.integral_row1{margin-top:21px;margin-bottom:12px}@keyframes integral{0%{right:-213px}100%{right:20px}}@-webkit-keyframes integral{0%{right:-213px}100%{right:20px}}@-moz-keyframes integral{0%{right:-213px}100%{right:20px}}@-o-keyframes integral{0%{right:-213px}100%{right:20px}}.closure_box{text-align:left;padding:0 20px 0 10px;position:absolute;bottom:68px;left:20px;z-index:100;line-height:30px;background-image:-webkit-linear-gradient(left,rgba(0,0,0,1) 10%,rgba(0,0,0,0) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,1) 10%,rgba(0,0,0,0) 100%);background-image:linear-gradient(to right,rgba(0,0,0,1) 10%,rgba(0,0,0,0) 100%)}.closure_txt{color:#fff;font-size:12px;display:inline-block}.pw-video a.closure_link{font-size:12px;color:#5aa700;margin:0 22px 0 12px}.pw-video a.closure_close{width:10px;height:10px;display:inline-block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat -200px -120px}.pw-video a.closure_close:hover{background-position:-240px -120px}@media screen and (max-width:550px){.closure_box{line-height:16px;padding:5px 20px 5px 10px}}.hor_control{width:200px;height:140px;background:rgba(0,0,0,.65);border-radius:5px;z-index:1000;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.hor_control_inner{text-align:center;padding-top:34px;font-size:0}.hor_control_icon{width:52px;height:53px;display:inline-block;background-position:-90px -360px}.hor_control_left{background-position:-150px -360px}.hor_control_time{font-size:14px;color:#fff;height:52px;line-height:52px}.time_green{color:#58a207}.iqp-svg-sprite{display:none;position:absolute;width:0;height:0;overflow:hidden}.pw-video svg{fill:currentColor;overflow:hidden}.iqp-filter{width:100%;margin-bottom:2px;opacity:1;transition:margin-bottom .2s,opacity .2s;color:white}.pw-video .iqp-progress__hover .iqp-filter{margin-bottom:16px}.pw-video .bottom-hide .iqp-filter{opacity:0;transition-delay:.2s}.iqp-filter .iqp-filter-tip{position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;padding:0 10px 0 15px;margin-bottom:5px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border-radius:5px;background-color:rgba(0,0,0,.7);font-size:0;z-index:10}.iqp-filter .iqp-filter-tip-txt{font-size:14px}.iqp-filter .iqp-icon-curve{width:27px;height:11px;margin-right:10px}.iqp-filter .iqp-icon-close{box-sizing:content-box;width:10px;height:10px;padding:5px;margin-left:10px;cursor:pointer}设置*/.pw-video .setting{background:rgba(31,31,31,.9);position:absolute;right:0;bottom:45px;width:360px;height:215px}.pw-video .setting ul{height:54px;line-height:53px;padding-left:10px}.pw-video .setting li{display:inline-block;padding-left:15px}.pw-video .setting li .selected{color:#57a900}.pw-video .setting li .disabled{color:#666;cursor:default}.pw-video .setting li .disabled:hover{color:#666;cursor:default}.pw-video .control-tips span{color:#fff;background:#1a1a1a;border:1px solid #444;padding:3px 10px}.pw-video .setting li span{width:60px;display:block}.pw-video .clarty a,.pw-video .speed_pop a{position:relative;display:block;height:32px;text-align:center;line-height:32px;color:#fff}.pw-video .control-right .speed_pop a{height:43px;line-height:43px;font-size:14px}.pw-video .setting li a{color:#fff}.pw-video .clarty a:hover,.pw-video .speed_pop a:hover{color:#57a900}.pw-video .setting li a:hover{color:#57a900}.pw-video .setting .screen-setting,.pw-video .setting .font-setting,.pw-video .setting .language-setting{border-bottom:1px solid #393431}.pw-video .clarty,.pw-video .speed_pop{background:rgba(26,26,26,.8);position:absolute;right:-38px;bottom:42px;width:118px;border:1px solid #1c1c1c;z-index:100}.pw-video .speed_pop{padding:6px 0}.pw-video .clarty a.stream_txt{height:0}.pw-video .control-tips{position:absolute;top:-22px;z-index:100}.pw-small-video .control-tips{position:absolute;top:-25px}.pw-video .control-tips-vip{position:absolute;bottom:56px;left:0;min-width:310px;height:25px;padding-left:5px;padding-right:5px;line-height:25px;background-image:-webkit-linear-gradient(left,rgba(0,0,0,1) 10%,rgba(0,0,0,0) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,1) 10%,rgba(0,0,0,0) 100%);background-image:linear-gradient(to right,rgba(0,0,0,1) 10%,rgba(0,0,0,0) 100%);background-repeat:repeat-x;color:#fff}.pw-video .control-tips-vipHover{bottom:56px}.pw-video .control-tips-vipDef{bottom:2px}.pw-video .control-tips-vip .em{margin-left:3px;margin-right:3px}.pw-video .control-tips-vip .em,.pw-video .control-tips-vip .em:link,.pw-video .control-tips-vip .em:visited,.pw-video .control-tips-vip .em:hover,.pw-video .control-tips-vip .em:active{color:#6cc900}.pw-video .bottom-hide .control-tips-vip{top:-35px}.live_tipsBox{position:absolute;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;z-index:200}.live_tips_txt{font-size:24px;color:#fff}.live_tipsTwo{font-size:20px;color:#fff;line-height:34px}.playBack_link{width:130px;height:40px;line-height:40px;text-align:center;display:inline-block;background:#23d31e;border-radius:20px;font-size:18px;margin-top:36px}.pw-video a.playBack_link{color:#fff}.playBack_icon{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat -120px -120px;width:22px;height:21px;display:inline-block;vertical-align:middle;margin-right:8px}.playRef_icon{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat -150px -120px;width:21px;height:21px;display:inline-block;vertical-align:middle;margin-right:8px}.live_tips_txtErro{color:#ff6511}.play_xuanjiBox{position:absolute;left:0;top:0;right:0;bottom:0}.pw-video .play-xuanji{position:absolute;right:0;top:0;height:100%;width:358px;overflow:hidden;background:rgba(26,26,26,.97);border:1px solid #000}.xuanji_heade{height:46px;line-height:46px;position:relative;border-bottom:1px solid #262626}.xuanji_title{padding-left:20px;font-size:14px;color:#fff}.xuanji_close{width:14px;height:14px;display:block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/xuanji_close.png) no-repeat;position:absolute;top:16px;right:10px}.xuanji_close:hover{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/xuanji_closeH.png) no-repeat}.xuanji_con{position:relative;height:100%;overflow:hidden}.pw-video .scroll-right{background:#636363;position:absolute;width:5px;right:1px;display:block;z-index:5}.pw-video .scroll-right:hover{background:#57a900}.pw-video .txtPlay_cont{position:relative}.pw-video .pic-play{position:relative;right:0;top:0}.pw-video .pic-list .pic-info{width:110px;height:70px;float:left;position:relative;border-width:2px;border-style:solid;border-color:transparent}.pw-video .pic-list .pic-info img{width:100%;height:100%}.pw-video .pic-list .video-info{display:inline-block;position:relative;width:186px;padding-left:18px}.pic-play li.selected .video-title{color:#6cc900}.pw-video .pic-list .video-info .video-title{height:38px;overflow:hidden;margin-bottom:16px;font-size:12px;color:#aaa}.pic-play li.selected .list-link .video-title{color:#6cc900}.pic-play li .list-link:hover .video-title{color:#6cc900}.pw-video .pic-list .video-info .video-count{font-size:12px;color:#666}.pw-video .selected span.video_countNub{color:#666!important}.pw-video .pic-list .list-time{position:absolute;right:3px;bottom:5px;background:rgba(0,0,0,.6);border-radius:3px}.pw-video .pic-list .list-time_right{padding:0 5px;color:#fff}.pcweb_icon{position:absolute;top:0;right:0;line-height:0}.pcweb_icon span{display:inline-block}.pcweb_juji_new{width:15px;height:15px;cursor:pointer;overflow:hidden;background:url(//www.iqiyipic.com/common/fix/v3-play/juji-list-new.png) no-repeat}.pcweb_juji_yugao{width:15px;height:15px;cursor:pointer;overflow:hidden;background:url(//www.iqiyipic.com/common/fix/v3-play/juji-list-pre.png) no-repeat}.pcweb_juji_paySm{width:28px;height:16px;cursor:pointer;overflow:hidden;background:url(//www.iqiyipic.com/common/fix/site/site-icons-mark.png) no-repeat;background-position:-60px -20px}.pcweb_juji_vip{width:28px;height:16px;cursor:pointer;overflow:hidden;background:url(//www.iqiyipic.com/common/fix/site/site-icons-mark.png) no-repeat;background-position:0 -20px}.pw-video .pic-list .list-link{padding:13px 20px 12px;display:block;border-bottom:1px solid #262626;height:75px}.pic-play li.selected .list-link{background:rgba(187,187,187,.05);border-color:#292929}.pw-video .pic-list .list-link:hover{background:rgba(187,187,187,.05);border-color:#292929;border-top:1px solid #292929;margin-top:-1px}.pw-video .list-link:hover .pic-info,.pic-play li.selected .list-link .pic-info{border:2px solid #6cc900}.pic-play li.selected span.list-time_right{color:#fff!important}.pic-play li.selected span.video-count{color:#666!important}.pw-video .txt-link{display:block;height:49px;line-height:49px;text-align:left;padding:0 20px;position:relative;border-bottom:1px solid #262728;font-size:12px}.pw-video .txt-link:hover{background:rgba(187,187,187,.05);border-color:#262728;border-top:1px solid #262728;margin-top:-1px;color:#6cc900}.txt-play a.selected{background:rgba(187,187,187,.05);border-color:#262728}.txtPlay_left{display:inline-block;width:18px;vertical-align:top}.txtPlay_icon{width:18px;height:18px;vertical-align:middle;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/txtPlay_icon.png) no-repeat;display:none}.txt-play a.selected .txtPlay_icon{display:inline-block}.txt-play a.selected .txtPlay_left{display:none}.pw-video .txt-title{margin-left:14px;display:inline-block;width:280px;height:50px;line-height:50px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;vertical-align:top;font-size:12px}.pw-video .txtPlay_cont-long .txt-link i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat;display:block;width:20px;height:15px;float:right;position:relative;top:15px}.pw-video .txtPlay_cont-long .txt-link .icon-arrowUp{background-position:-125px -28px}.pw-video .txtPlay_cont-long .txt-link .icon-arrowDown{background-position:-149px -28px}.pw-video .txtPlay_cont-long .txt-link:hover .icon-arrowUp{background-position:-170px -28px}.pw-video .txtPlay_cont-long .txt-link:hover .icon-arrowDown{background-position:-194px -28px}@charset "utf-8";.report_box{position:absolute;top:0;right:0;bottom:0;left:0}.report_inner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);text-align:center;width:120px;height:110px;background:rgba(31,31,31,.9);border-radius:10px;font-size:16px;color:#fff}.report_yIcon{width:48px;height:48px;display:inline-block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/report_Yicon.png) no-repeat;margin-top:20px}.report_window{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);font-size:0;width:480px;height:350px;background:#fff;border:2px solid #e9e9e9}.report_wInner{border:1px solid #dbdbdb;width:478px;height:348px}.report_wHeader{height:38px;line-height:38px;background:#f2f2f2;position:relative;padding-left:20px;font-size:14px;color:#333}.report_closeBtn{position:absolute;top:13px;right:20px;width:14px;height:14px;display:block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/report_closeBtn.png) no-repeat}.report_closeBtn:hover{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/report_closeBtnH.png) no-repeat}.report_wCon{padding:16px 30px 0}.re_top{position:relative;font-size:12px;color:#333}.re_top span{color:#000}.re_top a.re_dmlyLink{position:absolute;right:0;font-size:12px;color:#5aa700}.re_txt{font-size:12px;color:#666;margin-top:2px}.re_title{margin-top:10px;font-size:12px;color:#000;margin-bottom:7px;clear:both}.re_rebox{float:left;margin-bottom:10px;width:418px}.reBox_item{float:left;width:126px;margin-bottom:10px}.reItemW2{width:107px}.reItemW3{width:112px}.reItemW4{width:70px}.reBox_item a.re_rideo{font-size:12px;color:#666!important;line-height:16px;display:block;height:16px}.re_rideo i{width:16px;height:16px;display:inline-block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/re_rideoIcon.png) no-repeat;vertical-align:-3px;margin-right:6px}.re_rideo:hover i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/re_rideoIconH.png) no-repeat}.reBox_item a.selected i{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/re_rideoIconS.png) no-repeat;color:#666!important}.re_textareaBox{width:408px;height:50px;border:1px solid #ddd;padding:4px 5px;position:relative;margin-bottom:20px}.re_textarea{font-size:12px;color:#333;width:100%;height:50px;border:0;outline:0;resize:none}.re_text{position:absolute;bottom:0;right:5px;font-size:12px;color:#999}.re_btnBox{text-align:center}.re_btnBox a{width:100px;height:30px;line-height:30px;box-sizing:border-box;font-size:14px;color:#999;border-radius:3px;border:1px solid #999;display:inline-block;background:#fff}.re_btnBox a.re_submitBtn{border:1px solid #5aa700;color:#fff;background:#5aa700;margin-right:40px}.re_btnBox a.re_submitBtn:hover{border:1px solid #7fb52b;background:#7fb52b}.re_cancelBtn:hover{border:1px solid #5aa700;color:#5aa700}.report_btnInner{background:#eeeef2;border:1px solid #666;border-radius:6px;width:88px;height:69px;line-height:34px}.report_botton a.report_btnLink{font-size:18px;color:#666;display:block;text-align:center}.report_botton a.report_btnLink:hover{color:#5aa700}.report_icon{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/report_icon.png) no-repeat;width:22px;height:20px;display:inline-block;vertical-align:-4px;margin-right:5px}.report_dz .report_icon{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/report_zanIcon.png) no-repeat;width:19px;height:19px;display:inline-block;vertical-align:-4px;margin-right:5px}.report_botton a.report_btnLink:hover .report_icon{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/reportH_icon.png) no-repeat}.report_dz{border-bottom:1px solid #ccc}.report_botton a.report_dz:hover .report_icon{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/report_zanIconH.png) no-repeat}.reportBtn_arrowWrap{position:absolute}.reportBtn_arrow{position:absolute;width:0;height:0;overflow:hidden;font-size:0;line-height:0}.reportBtn_arrowInner{position:absolute;width:0;height:0;overflow:hidden;font-size:0;line-height:0}.reportBtn_top{top:0;left:50%;margin-left:-8px}.reportBtn_top .reportBtn_arrow{border:8px dashed transparent;border-bottom:8px solid #666;bottom:0}.reportBtn_top .reportBtn_arrowInner{border:8px dashed transparent;border-bottom:8px solid #eeeef2;bottom:-1px}.reportBtn_topL{top:0;left:12px}.reportBtn_topL .reportBtn_arrow{border:8px dashed transparent;border-bottom:8px solid #666;bottom:0}.reportBtn_topL .reportBtn_arrowInner{border:8px dashed transparent;border-bottom:8px solid #eeeef2;bottom:-1px}.reportBtn_topR{top:0;right:30px}.reportBtn_topR .reportBtn_arrow{border:8px dashed transparent;border-bottom:8px solid #666;bottom:0}.reportBtn_topR .reportBtn_arrowInner{border:8px dashed transparent;border-bottom:8px solid #eeeef2;bottom:-1px}.reportBtn_bottom{bottom:0;left:50%;margin-left:-8px}.reportBtn_bottom .reportBtn_arrow{border:8px dashed transparent;border-top:8px solid #666;top:0}.reportBtn_bottom .reportBtn_arrowInner{border:8px dashed transparent;border-top:8px solid #eeeef2;top:-1px}.reportBtn_bottomL{bottom:0;left:12px}.reportBtn_bottomL .reportBtn_arrow{border:8px dashed transparent;border-top:8px solid #666;top:0}.reportBtn_bottomL .reportBtn_arrowInner{border:8px dashed transparent;border-top:8px solid #eeeef2;top:-1px}.reportBtn_bottomR{bottom:0;right:30px}.reportBtn_bottomR .reportBtn_arrow{border:8px dashed transparent;border-top:8px solid #666;top:0}.reportBtn_bottomR .reportBtn_arrowInner{border:8px dashed transparent;border-top:8px solid #eeeef2;top:-1px}.conduct-bar-v2 .tucao-input{color:#000}.report_loveAdd{width:52px;height:21px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/report_loveAdd.png) no-repeat}.report_love2{width:23px;height:20px;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/report_love2.png) no-repeat}@keyframes report_like{0%{transform:rotate(-10deg);opacity:.5;left:11px}44%{transform:rotate(5deg);bottom:4px;left:0;width:52px;height:21px}48%{transform:rotate(10deg);bottom:8px;opacity:.9;left:.6px;width:52px;height:21px}52%{transform:rotate(12deg);bottom:10px;opacity:.825;left:2px;width:52px;height:21px}56%{transform:rotate(14deg);bottom:14px;opacity:.75;left:4px;width:52px;height:21px}60%{transform:rotate(16deg);bottom:16px;opacity:.675;left:6px;width:52px;height:21px}64%{transform:rotate(18deg);bottom:18px;opacity:.6;left:8px;width:52px;height:21px}68%{transform:rotate(20deg);bottom:20px;opacity:.5;left:10px;width:52px;height:21px}76%{transform:rotate(8deg);bottom:26px;opacity:.3;left:9px;width:52px;height:21px}99%{transform:rotate(-10deg);bottom:40px;opacity:.06;left:4px;width:52px;height:21px}100%{transform:rotate(0deg);bottom:0;opacity:0;left:0;width:40px;height:16px}}@-webkit-keyframes report_like{0%{transform:rotate(-10deg);opacity:.5;left:11px}44%{transform:rotate(5deg);bottom:4px;left:0;width:52px;height:21px}48%{transform:rotate(10deg);bottom:8px;opacity:.9;left:.6px;width:52px;height:21px}52%{transform:rotate(12deg);bottom:10px;opacity:.825;left:2px;width:52px;height:21px}56%{transform:rotate(14deg);bottom:14px;opacity:.75;left:4px;width:52px;height:21px}60%{transform:rotate(16deg);bottom:16px;opacity:.675;left:6px;width:52px;height:21px}64%{transform:rotate(18deg);bottom:18px;opacity:.6;left:8px;width:52px;height:21px}68%{transform:rotate(20deg);bottom:20px;opacity:.5;left:10px;width:52px;height:21px}76%{transform:rotate(8deg);bottom:26px;opacity:.3;left:9px;width:52px;height:21px}99%{transform:rotate(-10deg);bottom:40px;opacity:.06;left:4px;width:52px;height:21px}100%{transform:rotate(0deg);bottom:0;opacity:0;left:0;width:40px;height:16px}}@-moz-keyframes report_like{0%{transform:rotate(-10deg);opacity:.5;left:11px}44%{transform:rotate(5deg);bottom:4px;left:0;width:52px;height:21px}48%{transform:rotate(10deg);bottom:8px;opacity:.9;left:.6px;width:52px;height:21px}52%{transform:rotate(12deg);bottom:10px;opacity:.825;left:2px;width:52px;height:21px}56%{transform:rotate(14deg);bottom:14px;opacity:.75;left:4px;width:52px;height:21px}60%{transform:rotate(16deg);bottom:16px;opacity:.675;left:6px;width:52px;height:21px}64%{transform:rotate(18deg);bottom:18px;opacity:.6;left:8px;width:52px;height:21px}68%{transform:rotate(20deg);bottom:20px;opacity:.5;left:10px;width:52px;height:21px}76%{transform:rotate(8deg);bottom:26px;opacity:.3;left:9px;width:52px;height:21px}99%{transform:rotate(-10deg);bottom:40px;opacity:.06;left:4px;width:52px;height:21px}100%{transform:rotate(0deg);bottom:0;opacity:0;left:0;width:40px;height:16px}}@-o-keyframes report_like{0%{transform:rotate(-10deg);opacity:.5;left:11px}44%{transform:rotate(5deg);bottom:4px;left:0;width:52px;height:21px}48%{transform:rotate(10deg);bottom:8px;opacity:.9;left:.6px;width:52px;height:21px}52%{transform:rotate(12deg);bottom:10px;opacity:.825;left:2px;width:52px;height:21px}56%{transform:rotate(14deg);bottom:14px;opacity:.75;left:4px;width:52px;height:21px}60%{transform:rotate(16deg);bottom:16px;opacity:.675;left:6px;width:52px;height:21px}64%{transform:rotate(18deg);bottom:18px;opacity:.6;left:8px;width:52px;height:21px}68%{transform:rotate(20deg);bottom:20px;opacity:.5;left:10px;width:52px;height:21px}76%{transform:rotate(8deg);bottom:26px;opacity:.3;left:9px;width:52px;height:21px}99%{transform:rotate(-10deg);bottom:40px;opacity:.06;left:4px;width:52px;height:21px}100%{transform:rotate(0deg);bottom:0;opacity:0;left:0;width:40px;height:16px}}@keyframes report_likeMore{0%{transform:rotate(-10deg);opacity:.5;left:11px}44%{transform:rotate(5deg);left:0;width:24px;height:21px}48%{transform:rotate(10deg);bottom:8px;opacity:.9;left:.6px;width:24px;height:21px}52%{transform:rotate(12deg);bottom:10px;opacity:.825;left:2px;width:24px;height:21px}56%{transform:rotate(14deg);bottom:14px;opacity:.75;left:4px;width:24px;height:21px}60%{transform:rotate(16deg);bottom:16px;opacity:.675;left:6px;width:24px;height:21px}64%{transform:rotate(18deg);bottom:18px;opacity:.6;left:8px;width:24px;height:21px}68%{transform:rotate(20deg);bottom:20px;opacity:.5;left:10px;width:24px;height:21px}76%{transform:rotate(8deg);bottom:26px;opacity:.3;left:9px;width:24px;height:21px}99%{transform:rotate(-10deg);bottom:40px;opacity:.16;left:4px;width:24px;height:21px}100%{transform:rotate(0deg);bottom:0;opacity:0;left:0;width:18px;height:16px}}@-webkit-keyframes report_likeMore{0%{transform:rotate(-10deg);opacity:.5;left:11px}44%{transform:rotate(5deg);left:0;width:24px;height:21px}48%{transform:rotate(10deg);bottom:8px;opacity:.9;left:.6px;width:24px;height:21px}52%{transform:rotate(12deg);bottom:10px;opacity:.825;left:2px;width:24px;height:21px}56%{transform:rotate(14deg);bottom:14px;opacity:.75;left:4px;width:24px;height:21px}60%{transform:rotate(16deg);bottom:16px;opacity:.675;left:6px;width:24px;height:21px}64%{transform:rotate(18deg);bottom:18px;opacity:.6;left:8px;width:24px;height:21px}68%{transform:rotate(20deg);bottom:20px;opacity:.5;left:10px;width:24px;height:21px}76%{transform:rotate(8deg);bottom:26px;opacity:.3;left:9px;width:24px;height:21px}99%{transform:rotate(-10deg);bottom:40px;opacity:.16;left:4px;width:24px;height:21px}100%{transform:rotate(0deg);bottom:0;opacity:0;left:0;width:18px;height:16px}}@-moz-keyframes report_likeMore{0%{transform:rotate(-10deg);opacity:.5;left:11px}44%{transform:rotate(5deg);left:0;width:24px;height:21px}48%{transform:rotate(10deg);bottom:8px;opacity:.9;left:.6px;width:24px;height:21px}52%{transform:rotate(12deg);bottom:10px;opacity:.825;left:2px;width:24px;height:21px}56%{transform:rotate(14deg);bottom:14px;opacity:.75;left:4px;width:24px;height:21px}60%{transform:rotate(16deg);bottom:16px;opacity:.675;left:6px;width:24px;height:21px}64%{transform:rotate(18deg);bottom:18px;opacity:.6;left:8px;width:24px;height:21px}68%{transform:rotate(20deg);bottom:20px;opacity:.5;left:10px;width:24px;height:21px}76%{transform:rotate(8deg);bottom:26px;opacity:.3;left:9px;width:24px;height:21px}99%{transform:rotate(-10deg);bottom:40px;opacity:.16;left:4px;width:24px;height:21px}100%{transform:rotate(0deg);bottom:0;opacity:0;left:0;width:18px;height:16px}}@-o-keyframes report_likeMore{0%{transform:rotate(-10deg);opacity:.5;left:11px}44%{transform:rotate(5deg);left:0;width:24px;height:21px}48%{transform:rotate(10deg);bottom:8px;opacity:.9;left:.6px;width:24px;height:21px}52%{transform:rotate(12deg);bottom:10px;opacity:.825;left:2px;width:24px;height:21px}56%{transform:rotate(14deg);bottom:14px;opacity:.75;left:4px;width:24px;height:21px}60%{transform:rotate(16deg);bottom:16px;opacity:.675;left:6px;width:24px;height:21px}64%{transform:rotate(18deg);bottom:18px;opacity:.6;left:8px;width:24px;height:21px}68%{transform:rotate(20deg);bottom:20px;opacity:.5;left:10px;width:24px;height:21px}76%{transform:rotate(8deg);bottom:26px;opacity:.3;left:9px;width:24px;height:21px}99%{transform:rotate(-10deg);bottom:40px;opacity:.16;left:4px;width:24px;height:21px}100%{transform:rotate(0deg);bottom:0;opacity:0;left:0;width:18px;height:16px}}.system_barrageInner{position:relative;height:35px}.ststem_barLeft{position:absolute;left:0;top:0;z-index:5;width:35px;height:35px;border-radius:50%;background:#1db614;background-repeat:no-repeat;background-size:cover}.ststem_barRight{display:inline-block;width:24px;height:18px;background-position:-240px -90px;position:absolute;bottom:0;right:5px}.ststem_barCon{font-size:14px;height:28px;line-height:28px;border:1px solid #1db614;border-radius:30px;position:absolute;left:4px;top:5px;padding-left:42px;padding-right:40px;background:rgba(0,0,0,.4);z-index:1}.systemBar_conTxt{float:left;color:#fff}.sysBar_20 .system_barrageInner{height:46px}.sysBar_20 .ststem_barLeft{width:46px;height:46px}.sysBar_20 .ststem_barCon{height:36px;line-height:36px;font-size:20px;padding-left:47px;padding-right:50px;left:10px;top:8px}.sysBar_20 .ststem_barRight{width:30px;height:25px;background-position:-270px -90px}.sysBar_30 .system_barrageInner{height:62px}.sysBar_30 .ststem_barLeft{width:62px;height:62px}.sysBar_30 .ststem_barCon{height:52px;line-height:52px;font-size:30px;padding-left:68px;padding-right:62px;top:8px}.sysBar_30 .ststem_barRight{width:43px;height:37px;background-position:-310px -90px;right:7px}.system_noClick{padding-right:20px}.sysBar_20 .system_noClick{padding-right:20px}.sysBar_30 .system_noClick{padding-right:22px}.system_barPop{background:rgba(0,0,0,.2);padding:3px;border-radius:6px;width:372px;height:304px}.system_barPopInner{background:#fff;width:100%;height:100%;border-radius:6px}.systemBar_top{background:#15c004;border-radius:6px 6px 0 0;width:100%;height:40px;position:relative}.systemBar_titleIcon{display:block;width:52px;height:40px;float:left;margin-left:12px;background-position:-180px -69px}.systemBar_title{overflow:hidden;font-size:15px;color:#fff;padding-left:5px;line-height:36px;border-top:2px solid #37c401;border-bottom:2px solid #37c401;border-right:2px solid #37c401;border-radius:0 6px 0 0;background:#25a914}.systemBar_close{display:block;width:32px;height:33px;position:absolute;top:2px;right:2px;background-position:-232px -57px}.systemBar_close:hover{background-position:-264px -57px}.systemBar_con{text-align:center}.systemBar_img{width:310px;height:190px;overflow:hidden;display:inline-block;margin-top:14px;margin-bottom:10px;border-radius:3px}.systemBar_img img{width:100%;height:100%}.systemBar_conTitle{display:none;height:24px;line-height:24px;overflow:hidden;font-size:18px;color:#333;width:100%}.systemBar_titleInfo{display:none;height:20px;line-height:20px;overflow:hidden;font-size:15px;color:#999;width:100%;margin-top:4px;margin-bottom:15px}.pw-video a.systemBar_btn{display:inline-block;width:110px;height:36px;line-height:36px;font-size:15px;color:#fff;background:#63b700;border-radius:5px}.pw-video a.systemBar_btn:hover{background:#56a000}.top_system_barrageBox .top_system_barrageInner{position:relative;height:35px}.top_system_barrageBox .top_system_barLeft{position:absolute;left:0;top:0;z-index:5;width:31px;height:31px;border-radius:50%;background-color:#1db614;background-repeat:no-repeat;background-size:cover;border:2px solid #fff}.top_system_barrageBox .top_system_barRight{display:inline-block;width:34px;height:29px;background-position:0 -440px;position:absolute;bottom:0;right:-13px}.top_system_barrageBox .top_system_barCon{font-size:14px;height:31px;line-height:31px;border-radius:30px;position:absolute;left:4px;top:0;z-index:1;border:2px solid #e27c38}.top_system_barrageBox .top_systemBar_conTxt{float:left;color:#fff}.top_system_barrageBox .top_system_bar_opacity{padding-left:42px;padding-right:25px;height:100%;border-radius:26px}.top_system_barrageBox .sysBar_20 .top_system_barrageInner{height:46px}.top_system_barrageBox .sysBar_20 .top_system_barLeft{width:42px;height:42px}.top_system_barrageBox .sysBar_20 .top_system_barCon{height:42px;line-height:42px;font-size:20px;left:10px;top:0}.top_system_barrageBox .sysBar_20 .top_system_barRight{width:43px;height:38px;background-position:-50px -440px;right:-15px;bottom:2px}.top_system_barrageBox .sysBar_20 .top_system_bar_opacity{padding-left:47px;padding-right:35px}.top_system_barrageBox .sysBar_30 .top_system_barrageInner{height:62px}.top_system_barrageBox .sysBar_30 .top_system_barLeft{width:56px;height:56px;border-width:3px}.top_system_barrageBox .sysBar_30 .top_system_barCon{height:58px;line-height:58px;font-size:30px}.top_system_barrageBox .sysBar_30 .top_system_barRight{width:59px;height:51px;background-position:-110px -440px;right:-20px;bottom:3px}.top_system_barrageBox .sysBar_30 .top_system_bar_opacity{padding-left:68px;padding-right:50px}.top_system_barrageBox .top_system_noClick .top_system_bar_opacity{padding-right:20px}.top_system_barrageBox .sysBar_20 .top_system_noClick .top_system_bar_opacity{padding-right:20px}.top_system_barrageBox .sysBar_30 .top_system_noClick .top_system_bar_opacity{padding-right:22px}.top_system_barrageBox .top_system_noClick .top_system_barRight{display:none}@charset "utf-8";.danmu-close_h5{margin-top:10px;margin-left:5px}.danmu-close_h5 .danmuTit{font-size:12px;color:#aaa}.danmu-close_h5 .switch{background:url(//www.iqiyipic.com/common/fix/pcWeb-img/barrage_openIcon.png) no-repeat 0 0;width:40px;height:28px;display:block;margin:-2px 30px 0 6px}.danmu-close_h5 .switch_open{background-position:0 -30px}@charset "utf-8";.plugin_box{width:100%;position:absolute;left:0;right:0;bottom:0}.plugin_inner{text-align:center;padding-bottom:6px;color:#fff;padding-left:20px;padding-right:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.plugin_ch{font-family:"\\5FAE\\8F6F\\96C5\\9ED1";font-size:13px;line-height:16px;max-height:32px;overflow:hidden;text-shadow:#000 1px 0 0,#333 2px 2px 0,#000 -1px 0 0,#000 0 -1px 0}.plugin_w680_w980{padding-bottom:15px;width:620px;margin:0 auto;padding-left:0;padding-right:0}.plugin_w680_w980 .plugin_ch{font-size:22px;line-height:28px;max-height:56px}.plugin_w980_w1360{padding-bottom:20px;width:860px;margin:0 auto;padding-left:0;padding-right:0}.plugin_w980_w1360 .plugin_ch{font-size:26px;line-height:32px;max-height:64px}.plugin_w1360{padding-bottom:24px;width:1004px;margin:0 auto;padding-left:0;padding-right:0}.plugin_w1360 .plugin_ch{font-size:30px;line-height:36px;max-height:72px}*{outline:0}body{font-size:12px}.pw-video .clarty,.pw-video .speed_pop{border-radius:5px;width:120px;border:0}.pw-video .clarty{width:98px;padding:10px 0;right:-30px}.rbot_logo{margin-top:10px;width:24px;height:20px;display:inline-block;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat -90px -210px}.rBot_logoAnimation{-webkit-animation:logoAnimation 5s linear 1;-moz-animation:logoAnimation 5s linear 1;-ms-animation:logoAnimation 5s linear 1;-o-animation:logoAnimation 5s linear 1;animation:logoAnimation 5s linear 1}@-webkit-keyframes logoAnimation{0%{transform:rotateY(0)}50%{transform:rotateY(-359.9deg)}55%{transform:scale(1)}66%{transform:scale(1.3)}77%{transform:scale(1)}88%{transform:scale(1.3)}99%{transform:scale(1)}}.outside_popBox{position:absolute;top:0;left:0;right:0;bottom:42px;z-index:98;height:100%;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/outside_popBg.jpg) no-repeat center top;background-size:cover}.outside_popInner{min-width:367px;text-align:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.outside_playEnd{background:0}.playEnd_left{float:left;margin-right:20px}.playEnd_picLink{background:#2b2b2b;padding:3px;width:180px;height:101px;display:block}.playEnd_right{overflow:hidden;text-align:left}.pw-video a.playEnd_name{display:block;height:54px;line-height:54px;color:#fff;margin-bottom:14px;font-size:18px;text-align:left;max-width:392px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.pw-video a.playEnd_name:hover{color:#5aa700}.pw-video a.outside_16036btn{width:160px;height:36px;line-height:36px;text-align:center;color:#fff;font-size:16px;display:inline-block;background:#5aa700;border-radius:2px}.pw-video a.outside_16036btn:hover{background:#63b700}.outside_payTxt{font-size:18px;color:#fff;margin-bottom:50px;white-space:nowrap}.video_rBox .voice-des{bottom:30px;width:36px;border-radius:5px;border:0}.pw-video .time{line-height:42px}.pw-video .control-right li{width:auto;margin:0 10px}.pw-video .control-right li i{top:5px}.pw-video .outSide_sKtips{padding-left:20px;padding-right:15px;height:35px;background:rgba(26,26,26,.8);min-width:auto}.pw-video .outSideTips_exit{display:none;width:9px;height:9px;margin-top:12px;margin-left:30px;font-size:0;background:url(//www.iqiyipic.com/common/fix/pcWeb-img/icon-all.png) no-repeat -120px -180px}.pw-video .outSideTips_exit:hover{background-position:-140px -180px}.pw-video .outSide_sKtips .outSideTips_exit{display:inline-block}.pw-video .control-right{padding-right:0}',""])},function(e,t){function i(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var r=a(n);return[i].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([r]).join("\n")}return[i].join("\n")}function a(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var a=i(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(a[r]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"==typeof o[0]&&a[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(43),r=i(4),o=i(0),s=i(21),d=i(7),u=i(1),l=(new u("PluginLoading"),i(108)),c=i(36),f=i(13).CORE_TYPES,_=i(29);a.exports=o("PluginLoading",{construct:function(){var e=this;e.name="loading";var t=s(e.wrapper).append(l);e.$container=t.find('[data-player-hook="videoLoading"]'),e.loading=t.find(".video-loading")},extend:n,methods:{init:function(){var e=this,t=e.core,i=t.getEngineType(),a=!1;r.os.ios||r.os.android||!t.autoplay?e.hideBeginLoading():e.showBeginLoading(),t.on(f.NTF_StatusChanged,function(i){switch(i.data.state){case f.Status_StartPlay:case f.Status_Playing:case f.Status_Paused:case f.Status_AdPlaying:case f.Status_AdStartPlay:case f.Status_End_Play:e.hideLoading(),e.hideBeginLoading();break;case f.Status_AdWaiting:case f.Status_Waiting:(r.os.ios||r.os.android)&&t.getCurrenttime()<1&&e.showBeginLoading();break;case f.Status_Loadstart:r.os.ios||r.os.android||e.showLoading();break;case f.Status_Play:(r.os.ios||r.os.android)&&t.getCurrenttime()<1&&e.showBeginLoading();break;case f.Status_PlayError:}}),t.on(f.NTF_VideoChange,function(t){e.showBeginLoading()}),t.on(f.NTF_DefinitionSwitched,function(t){e.hideBeginLoading()}),t.on(f.NTF_NeedUserGesture4Playback,function(t){e.hideBeginLoading()}),e.skin.once("bigplay:play",function(){a=!0,(r.os.ios||r.os.android)&&e.showBeginLoading()}),e.on(_.NTF_PLG_Enable,function(){("DATA"===i||"HTTP"===i&&a)&&t.isPaused()&&e.showLoading()})},showBeginLoading:function(){var e=this,t=d.isTraditionalChinese(),i=t?"_tw":"",a=c.getVars(),n=e.core.getMovieInfo(),r=n.tvid,o=n.vid,s=e.core.getInfoFromVideoList(r,o),u=!1,l=!1,f=!1;s?s.isMember?u=!0:s.isQiyiProduced?l=!0:s.isExclusive&&(f=!0):"true"==a.isMember?u=!0:1==a.qiyiProduced?l=!0:1==a.exclusive&&(f=!0),e.beginloading=u?e.$container.find('[data-player-hook="videoLoadingVip'+i+'"]'):l?e.$container.find('[data-player-hook="videoLoadingQiyiProduced'+i+'"]'):f?e.$container.find('[data-player-hook="videoLoadingExclusive'+i+'"]'):e.$container.find('[data-player-hook="videoLoadingNormal'+i+'"]'),e._begineShow=!0,e.$container.show(),e.beginloading.show()},hideBeginLoading:function(){var e=this;e._begineShow=!1,e.$container.hide(),e.beginloading&&e.beginloading.hide()},showLoading:function(){var e=this;!0!==e._begineShow&&(e.beginloading&&e.beginloading.hide(),e.$container.show(),e.loading.show())},hideLoading:function(){var e=this;e.$container.hide(),e.loading.hide()}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(){return'<div data-player-hook="videoLoading" style="pointer-events: none;position: absolute;top:0;left:0;height:100%;width:100%;z-index:99;"><div class="videoLogo_loading" style="display: none;" data-player-hook="videoLoadingVip"><div class="logoLoading_box logoLoading_vip"><div class="logoVideo"></div><div class="logoVideo_line"></div></div></div><div class="videoLogo_loading" style="display: none;" data-player-hook="videoLoadingVip_tw"><div class="logoLoading_box logoLoading_vipft"><div class="logoVideo"></div><div class="logoVideo_line"></div></div></div><div class="videoLogo_loading" style="display: none;" data-player-hook="videoLoadingQiyiProduced"><div class="logoLoading_box logoLoading_cp"><div class="logoVideo"></div><div class="logoVideo_line"></div></div></div><div class="videoLogo_loading" style="display: none;" data-player-hook="videoLoadingQiyiProduced_tw"><div class="logoLoading_box logoLoading_cpft"><div class="logoVideo"></div><div class="logoVideo_line"></div></div></div><div class="videoLogo_loading" style="display: none;" data-player-hook="videoLoadingExclusive"><div class="logoLoading_box logoLoading_db"><div class="logoVideo"></div><div class="logoVideo_line"></div></div></div><div class="videoLogo_loading" style="display: none;" data-player-hook="videoLoadingExclusive_tw"><div class="logoLoading_box logoLoading_dbft"><div class="logoVideo"></div><div class="logoVideo_line"></div></div></div><div class="videoLogo_loading" style="display: none;" data-player-hook="videoLoadingNormal"><div class="logoLoading_box"><div class="logoVideo"></div><div class="logoVideo_line"></div></div></div><div class="videoLogo_loading" style="display: none;" data-player-hook="videoLoadingNormal_tw"><div class="logoLoading_box"><div class="logoVideoft"></div><div class="logoVideo_line"></div></div></div><div class="video-loading" style="display: none; z-index: 80;"><div class="video-loading_info"><i class="video-loading_btn"></i><span>正在全力加载，请稍候…</span></div></div></div>'}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(43),r=i(0),o=i(110),s=(i(21),i(28)),d=i(30),u=(i(29),i(13).CORE_TYPES),l=i(111),c=i(1),f=i(45);new c("Subtitles");a.exports=r("Subtitles",{construct:function(){var e=this;e.name="Subtitles",e.plgContainer.append(o),e.$plugin=e.plgContainer.find('[data-player-hook="subtitles"]'),e._text=e.$plugin.find('[data-player-hook="subtitles_text"]'),e._textCH=e.$plugin.find('[data-player-hook="subtitles_ch"]'),e._curSubData={}},extend:n,methods:{init:function(){var e=this;e.$plugin.hide(),e.core.on(u.NTF_VideoChange,function(t){e.subtitlesData=null}),e.core.on(u.NTF_VRSReady,function(t){e._setPluginData()}),e.core.on(u.NTF_TimeUpdate,function(t){e._timeUpdate(t.data)}),s.on("change",e._changeSize.bind(e)),d.on("change",e._changeSize.bind(e)),f.on("resize",function(){e._changeSize()}),e._changeSize()},_setPluginData:function(){var e=this;e.core.getMovieInfo().subtitlesUrl&&(e.subtitlesData=new l,e.subtitlesData.updateSubtitlesUrl(e.core.getMovieInfo().subtitlesUrl))},_timeUpdate:function(e){var t=this;t.subtitlesData&&t._curSubData&&1e3*e.current>=t._curSubData.st&&1e3*e.current<=t._curSubData.et||t.subtitlesData&&(t.$plugin.hide(),t._curSubData=t.subtitlesData.getDataByCurtime(1e3*e.current),t._curSubData&&(t._textCH.html(t._curSubData.sub),t.$plugin.show()))},_changeSize:function(){var e=this,t=e.wrapper.width()/e.wrapper.height(),i=e.core.getRealArea().width/e.core.getRealArea().height,a={};t>i?(a.height=e.wrapper.height(),a.width=e.wrapper.height()/e.core.getRealArea().height*e.core.getRealArea().width):t<i&&(a.width=e.wrapper.width(),a.height=e.wrapper.width()/e.core.getRealArea().width*e.core.getRealArea().height),a.width<680?(e._text.removeClass("plugin_w680_w980").removeClass("plugin_w980_w1360").removeClass("plugin_w1360"),a.height<e.wrapper.height()?e._text.css("padding-bottom",.5*(e.wrapper.height()-a.height)+9+"px"):e._text.css("padding-bottom","9px")):a.width>=680&&a.width<=980?(e._text.removeClass("plugin_w980_w1360").removeClass("plugin_w1360").addClass("plugin_w680_w980"),a.height<e.wrapper.height()?e._text.css("padding-bottom",.5*(e.wrapper.height()-a.height)+15+"px"):e._text.css("padding-bottom","15px")):a.width>=980&&a.width<=1360?(e._text.removeClass("plugin_w680_w980").removeClass("plugin_w1360").addClass("plugin_w980_w1360"),a.height<e.wrapper.height()?e._text.css("padding-bottom",.5*(e.wrapper.height()-a.height)+20+"px"):e._text.css("padding-bottom","20px")):(e._text.removeClass("plugin_w680_w980").removeClass("plugin_w980_w1360").addClass("plugin_w1360"),a.height<e.wrapper.height()?e._text.css("padding-bottom",.5*(e.wrapper.height()-a.height)+24+"px"):e._text.css("padding-bottom","24px"))}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(){return'<div class="plugin_box" data-player-hook="subtitles">\t\t<div class="plugin_inner plugin_w680_w980 plugin_w1360" data-player-hook="subtitles_text">\t\t<div class="plugin_ch" data-player-hook="subtitles_ch">我认为她是在保护她某位家人，我不会说是谁，因为我真的不知道可能是谁做了这件事，但我相信是某个他们都很爱的人。</div>\t</div></div>'}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=(i(11),i(1),i(74)),o=i(63);a.exports=n("SubtitlesData",{construct:function(){var e=this;e.name="SubtitlesData",e.xmlparser=null},methods:{updateSubtitlesUrl:function(e){var t=this;t.subtitlesUrl=e,t._requsetSubtitlesData()},_requsetSubtitlesData:function(){var e=this;e.subtitlesUrl&&r.load(e.subtitlesUrl,function(t,i){if(200==i.status){var a=t.response;if(a){var n=new Uint8Array(a),r=e.utf8ArrayToStr(n),s=(new o).xml_str2json(r);if(s&&s.xml&&s.xml.dia){for(var d=0;d<s.xml.dia.length;d++)s.xml.dia[d].st&&s.xml.dia[d].et&&(s.xml.dia[d].st=parseInt(s.xml.dia[d].st,10),s.xml.dia[d].et=parseInt(s.xml.dia[d].et,10),s.xml.dia[d].sub=s.xml.dia[d].sub.replace(/\n/gi,"<br/>"));e._data=s.xml.dia}}}})},utf8ArrayToStr:function(e){var t,i,a,n,r,o;for(t="",a=e.length,i=0;i<a;)switch((n=e[i++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(n);break;case 12:case 13:r=e[i++],t+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=e[i++],o=e[i++],t+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&o)<<0)}return t},getDataByCurtime:function(e){for(var t=this,i=0,a=t._data.length-1,n=0,r={};i<=a;){if(n=parseInt((i+a)/2,10),r=t._data[n],e>=r.st&&e<=r.et)return r;e<r.st?a=n-1:i=n+1}return null}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=(i(21),i(4),i(5),i(30)),o=(i(15),i(1)),s=i(17),d=i(43),u=(i(13).CORE_TYPES,i(29)),l=(i(113),i(45)),c=new o("enjoyAres");i(37),i(36);a.exports=n("PluginAD",{construct:function(){this.name="ad"},extend:d,methods:{init:function(){this._initEvents()},_initEvents:function(){var e=this;e.skin.on(u.NTF_DefinitionListShow,function(t){var i=e.core.getAres();i&&i.emit(i.DEFINITION_SWITCHING_SHOW)}),e.skin.on(u.NTF_DefinitionADShow,function(t){var i=t.data,a=e.core.getAres();a&&a.emit(a.IMPRESSION,{type:"definitionswitching",data:{id:i.id}})}),e.skin.on(u.NTF_DefinitionADClick,function(t){var i=t.data,a=e.core.getAres();a&&a.emit(a.CLICK,{type:"definitionswitching",data:{id:i.id}})}),r.on("change",function(){var t=e.core.getAres();t&&t.resize()}),l.on("resize",function(){var t=e.core.getAres();t&&t.resize()})},destroy:function(){var e=this,t=e.core.getMovieInfo();e.core.getAres().destroy({videoEventId:s.getEventId(t.tvid)}),c.log("call ares: destroy -> "+t.tvid)}}})}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){function n(){var e=new Date;return e.getFullYear()+""+(e.getMonth()+1)+e.getDate()}function r(){var e=c.read(m),t=n(),i=0;return e&&(e=e.split("|"),t=e[0],i=parseFloat(e[1])),{day:t,totalTime:i}}function o(e){var t=r(),i=n();t.day===i?t.totalTime+=e:t.totalTime=e,c.write(m,i+"|"+t.totalTime)}var s,d,u=i(0),l=i(2),c=i(14),f=i(1),_=i(28),h=i(5),p=(i(12),i(6)),b=i(8),g=i(44),v=i(13).CORE_TYPES,m="QiyiPlayerTimePlayedInDay",y=new f("AdApi"),x=u("adBussiness",{construct:function(e,t){var i=this;e.on(v.NTF_AD_NotifyManager,function(e){i.fire(e)})},extend:l,methods:{}}),k=u("adapi",{construct:function(e,t,i){var a,n=this;n._isVip=!1,n._user=h,n.bussiness=new x(t,i),n._container=e,s=t,d=i;var r=function(e,t){var i={type:e,gas:n.getCurrentGas()};t&&(i.data=t,t.gas&&(i.gas=t.gas)),n.fire(i)};s.on(v.NTF_StatusChanged,function(e){switch(e.data.state){case v.Status_AdLoadstart:r("loadstart",e.data);break;case v.Status_Ready:r("ready",e.data);break;case v.Status_Play:r("play",e.data);break;case v.Status_AdPlaying:case v.Status_Playing:r("playing",e.data);break;case v.Status_AdPaused:case v.Status_Paused:r("pause",e.data);break;case v.Status_AdWaiting:case v.Status_Waiting:r("waiting",e.data);break;case v.Status_AdError:case v.Status_PlayError:r("error",e.data);break;case v.Status_AdStalled:r("stalled",e.data);break;case v.Status_AdPlayEnded:case v.Status_End_Play:r("ended",e.data)}}),s.on(v.NTF_AD_TimeUpdate,function(e){r("timeupdate",e.data)}),s.on(v.NTF_Seeking,function(e){r("seeked",e.data)}),s.on(v.NTF_TimeUpdate,function(e){r("timeupdate",e.data);var i=t.getCurrenttime(),n=i-a;a&&n>0&&n<1&&o(n),a=i}),_.on("change",function(e){r("exit"===e.data?"exitfullscreen":"fullscreen")}),h.on("infoset",function(){h.isVip(function(e){n._isVip=e})})},extend:l,methods:{load:function(e){var t=this,i=e||{};i.file&&!isNaN(i.offset)&&i.offset>=0?t.bussiness.fire({type:"_playdata_",data:i}):y.warn("load error data parameter: "+f.stringify(i))},getEngineType:function(){return s.getEngineType().toLowerCase()},getCurrentGas:function(){return s.getCurrentGas()},abort:function(){s.abortAres()},isVIP:function(){return this._isVip},getUserInfo:function(){var e=!1;return this._user.isVip(function(t){e=t}),{isVIP:e,passportCookie:this._user.passportCookie(),passportId:this._user.getUid(),isLogin:this._user.isLogin(),uaaUserId:p.get("QC005")||b.getJsuid()}},adcontainer:function(){return this._container},video:function(){return s.video()},isPaused:function(){return s.isPaused()},play:function(e){s.play(e)},pause:function(e){s.pause(e)},addEventListener:function(e,t){this.on(e,t)},removeEventListener:function(e,t){this.un(e,t)},src:function(e){if(s){if(1!==arguments.length)return s.getSrc()||"";y.error("mw is not support set src!")}else y.error("core is null")},volume:function(e){if(s){if(!e)return s.getVolume();s.setVolume(e)}else y.error("core is null")},muted:function(e){if(s){if("boolean"!=typeof e)return s.getMuted();s.setMuted(e)}else y.error("core is null")},height:function(){return d?d.videoWrapper.height():0},width:function(){return d?d.videoWrapper.width():0},currentTime:function(){return s.getCurrenttime()},duration:function(){return s.getDuration()},buffered:function(){return s.getBufferTime()},sendUserActionPingback:function(e){g.getInterface().sendUserActionPingback(e)},fullscreentoggle:function(){_.toggle()},isFullScreen:function(){return _.isFullScreen()},videoPlayedDurationInDay:function(){return r().totalTime}}});a.exports=k}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(65),r=i(115),o=i(0),s=i(47),d=i(63),u=i(3),l=o("FlashAdapter",{construct:function(e){var t=this;t._videoid=e.vid,t._tvid=e.tvid,t._player=new r(e),this._player.on(s.QYPLAYER_STATE_CHANGE,function(e){e=e||{},e.data=e.data||{};var i=e.data.state||"";e.data.vid!=t._videoid&&(t._videoid=e.data.vid,t._tvid=e.data.tvid,i.toLocaleLowerCase()==s.QYPLAYER_STATUS_DATA_READY&&t.getVideoInfo(function(e){t.fire({type:s.QYPLAYER_VIDEO_CHANGE,data:e})}),t.getPlayInfo(function(i){var a={};a.prePlayingDuration=i.prePlayingDuration,a.preTvid=i.preTvid,a.curPlayingDuration=i.curPlayingDuration,a.playerVersion=i.playerVersion,u(e.data,a),t.fire({type:s.QYPLAYER_VID_CHANGE,data:e.data})})),i.toLocaleLowerCase()==s.QYPLAYER_STATUS_DATA_READY&&t.getVideoInfo(function(e){t.fire({type:s.QYPLAYER_STATUS_DATA_READY,data:e})}),t.getPlayInfo(function(i){var a={};a.prePlayingDuration=i.prePlayingDuration,a.preTvid=i.preTvid,a.curPlayingDuration=i.curPlayingDuration,a.playerVersion=i.playerVersion,a.tvid=i.tvid,a.vid=i.vid,u(e.data,a),t.fire({type:s.QYPLAYER_STATE_CHANGE,data:e.data})})}),this._player.on(s.QYPLAYER_NEXT_VIDEO,function(e){t.fire({type:s.QYPLAYER_NEXT_VIDEO})}),this._player.on(s.QYPLAYER_LOAD_COMPLETE,function(e){e=e||{},e.data=e.data||{},t.fire({type:s.QYPLAYER_LOAD_COMPLETE,data:e.data})}),this._player.on(s.QYPLAYER_SET_LIGHT,function(e){e=e||{},e.data=e.data||{};var i="false"==e.data.open;t.fire({type:s.QYPLAYER_SET_LIGHT,data:i})}),this._player.on(s.QYPLAYER_MOVETO_QITAN,function(){t.fire({type:s.QYPLAYER_MOVETO_QITAN})}),this._player.on(s.QYPLAYER_LOAD_SUCCESS,function(i){i.data=i.data||{},i.data.playerId=e.parentId,t.fire({type:s.QYPLAYER_LOAD_SUCCESS,data:i.data})}),this._player.on(s.QYPLAYER_SHOW_LOGIN_PANEL,function(e){t.fire({type:s.QYPLAYER_SHOW_LOGIN_PANEL,data:e.data})}),this._player.on(s.QYPLAYER_EXPAND,function(e){t.fire({type:s.QYPLAYER_EXPAND,data:e.data})}),this._player.on(s.QYPLAYER_AUTHENTICATION_RESULE,function(e){t.fire({type:s.QYPLAYER_AUTHENTICATION_RESULE,data:{isTryWatch:"true"==e.data.isTryWatch,tvid:e.data.tvid}})}),this._player.on(s.QYPLAYER_RECHARGE,function(e){e=e||{},e.data=e.data||{};var i=e.data.code,a=e.data.from,n=e.data.tvid,r=e.data.aid,o=e.data.vid;t.fire({type:s.QYPLAYER_RECHARGE,data:{code:i,from:a,tvid:n,aid:r,vid:o}})}),this._player.on(s.QYPLAYER_REFRESH_PAGE,function(){t.fire({type:s.QYPLAYER_REFRESH_PAGE})}),this._player.on(s.QYPLAYER_DOWNLOAD,function(e){t.fire({type:s.QYPLAYER_DOWNLOAD,data:e.data})}),this._player.on(s.QYPLAYER_REQUEST_VIDEOLIST,function(e){t.fire({type:s.QYPLAYER_REQUEST_VIDEOLIST,data:e})}),this._player.on(s.QYPLAYER_SWITCH_FULL_SCREEN,function(e){t.fire({type:s.QYPLAYER_SWITCH_FULL_SCREEN,data:e.data.value})}),this._player.on(s.QYPLAYER_ADD_TO_TABLE,function(){t.fire({type:s.QYPLAYER_ADD_TO_TABLE})}),this._player.on(s.QYPLAYER_FOCUS_TIPS,function(e){t.fire({type:s.QYPLAYER_FOCUS_TIPS,data:e.data})}),this._player.on(s.QYPLAYER_FOCUS_UPLOADER,function(e){t.fire({type:s.QYPLAYER_FOCUS_UPLOADER,data:e.data})}),this._player.on(s.QYPLAYER_FIND_GOODS,function(e){t.fire({type:s.QYPLAYER_FIND_GOODS,data:e.data})}),this._player.on(s.QYPLAYER_BARRAGE_REPLAY,function(e){t.fire({type:s.QYPLAYER_BARRAGE_REPLAY,data:e.data})}),this._player.on(s.QYPLAYER_BARRAGE_RECEIVE_DATA,function(e){t.fire({type:s.QYPLAYER_BARRAGE_RECEIVE_DATA,data:e.data})}),this._player.on(s.QYPLAYER_SET_BARRAGE_INTERACT_INFO,function(e){t.fire({type:s.QYPLAYER_SET_BARRAGE_INTERACT_INFO,data:e.data})}),this._player.on(s.QYPLAYER_SET_BARRAGE_CONFIG_INFO,function(e){t.fire({type:s.QYPLAYER_SET_BARRAGE_CONFIG_INFO,data:e.data})}),this._player.on(s.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO,function(e){t.fire({type:s.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO,data:e.data})}),this._player.on(s.QYPLAYER_NOTIFY_GIFT_INFO,function(e){try{var i=e.data.data.data,a=(new d).xml_str2json(i);e.data.data.data=a,t.fire({type:s.QYPLAYER_NOTIFY_GIFT_INFO,data:e.data.data})}catch(e){}}),this._player.on(s.QYPLAYER_PGC_FOLLOW,function(e){t.fire({type:s.QYPLAYER_PGC_FOLLOW,data:e.data})}),this._player.on(s.QYPLAYER_SHOW_DOWNLOAD_APPPOP,function(e){t.fire({type:s.QYPLAYER_SHOW_DOWNLOAD_APPPOP,data:e.data})}),this._player.on(s.QYPLAYER_CHECK_CLIENT_INSTALL,function(e){t.fire({type:s.QYPLAYER_CHECK_CLIENT_INSTALL,data:e.data})}),this._player.on(s.QYPLAYER_REQUEST_SEND_PINGBACK,function(e){t.fire({type:s.QYPLAYER_REQUEST_SEND_PINGBACK,data:e.data})}),this._player.on(s.QYPLAYER_DOSOMETHING,function(e){t.fire({type:s.QYPLAYER_DOSOMETHING,data:e.data})}),this._player.on(s.QYPLAYER_FOLLOW_UPNEXT_LOAD,function(e){t.fire({type:s.QYPLAYER_FOLLOW_UPNEXT_LOAD,data:e.data})}),this._player.on(s.QYPLAYER_USER_CLICK_SCORE,function(e){t.fire({type:s.QYPLAYER_USER_CLICK_SCORE,data:e.data})}),this._player.on(s.QYPLAYER_BARRAGE_STATE_CHANGE,function(e){t.fire({type:s.QYPLAYER_BARRAGE_STATE_CHANGE,data:e.data})}),this._player.on(s.QYPLAYER_REQUEST_REWARD,function(e){t.fire({type:s.QYPLAYER_REQUEST_REWARD,data:e.data})}),this._player.on(s.QYPLAYER_COMMENT_ALLOWED,function(e){t.fire({type:s.QYPLAYER_COMMENT_ALLOWED,data:e.data})});!function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i)}(window,"beforeunload",function(){t._player.flashStopHeartBeat()})},extend:n,methods:{getIsInMainVideo:function(e){this._player.getIsInMainVideo(e)},setCyclePlay:function(){this._player.setCyclePlay()},getQiyiPlayerInfo:function(e){this._player.getQiyiPlayerInfo(e)},getQiyiVideoInfo:function(e){this._player.getQiyiVideoInfo(e)},setLight:function(e){this._player.setLight(e)},expand:function(e){this._player.expand(e)},setBarrageStatus:function(e){this._player.setBarrageStatus(e)},setSelfSendBarrageInfo:function(e){this._player.setSelfSendBarrageInfo(e)},setBarrageSetting:function(e){this._player.setBarrageSetting(e)},setActivityNoticeInfo:function(e){this._player.setActivityNoticeInfo(e)},zoomQiyiVideo:function(e){this._player.zoomQiyiVideo(e)},setTimeListener:function(e){this._player.setTimeListener(e)},getHasBarrageConfigInfo:function(){this._player.getHasBarrageConfigInfo()},getHasBarrageChannelConfigInfo:function(){this._player.getHasBarrageChannelConfigInfo()},getCommentConfigInfo:function(){this._player.getCommentConfigInfo()},setContinuePlayState:function(e){this._player.setContinuePlayState(e)},getSwitchVideoType:function(e){this._player.getSwitchVideoType(e)},forceToSaveCurVideoInfo:function(e){this._player.forceToSaveCurVideoInfo(e)},getContinueData:function(e){this._player.getContinueData(e)},setQiyiVisits:function(e){this._player.setQiyiVisits(e)},initQiyiVideo:function(e){this._player.initQiyiVideo(e)},getQiyiPlayerType:function(e){return e&&"function"==typeof e&&e("flash"),"flash"},setPlayerFullScreen:function(e){this._player.setPlayerFullScreen(e)}}});a.exports=l}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(116),o=i(2),s=i(33),d=function(e,t){var i=t.functionName,a=t.parameter,n=t.callback||function(){};e&&i&&e[i]&&n(void 0===a?e[i]():"[object Object]"==Object.prototype.toString.apply(a)||"[object Array]"==Object.prototype.toString.apply(a)?e[i](JSON.stringify(a)):e[i](a))},u=n("FlashPlayer",{extend:o,construct:function(e){var t=this,i=new r;t._swf=i.embed(e),t._playerId=e.parentId||"",t._param=e,t._prevCalls=[],t._firstTime=!0,t._swf&&(t._swf.fire=function(e){try{var i=JSON.parse(e);if(i.data.origin&&i.data.origin!=t._swf.id)return;i.type=i.type,setTimeout(function(){try{t.fire({type:i.type,data:i.data})}catch(e){}},0)}catch(e){return}})},methods:{destroy:function(){var e=this;e._swf.parentNode.removeChild(e._swf),e._swf=null},_flashcall:function(e,t,i){var a={callback:i,functionName:e,parameter:t};d(this._swf,a)},load:function(e){this._flashcall("loadQiyiVideo",e)},play:function(){this._flashcall("playQiyiVideo")},resume:function(){this._flashcall("resumeQiyiVideo")},replay:function(){this._flashcall("replayQiyiVideo")},pause:function(){this._flashcall("pauseQiyiVideo")},seek:function(e){this._flashcall("seekQiyiVideo",e)},stop:function(){this._flashcall("stopQiyiVideo")},getPlayInfo:function(e){this._flashcall("getQiyiPlayerInfo",void 0,function(t){var i=t||"",a=i?JSON.parse(i.replace(/\r/g,"").replace(/\n/g,"")):"";a&&(a.currentTime=a.currentTime/1e3,e(a))})},getVideoInfo:function(e,t,i){s.get({tvid:t,vid:i},e)},getIsInMainVideo:function(e){this._flashcall("getIsInMainVideo",void 0,e)},getPlayerId:function(){return this._playerId},setCyclePlay:function(){this._flashcall("setCyclePlay")},switchVideo:function(e){this._flashcall("switchVideo",e)},switchNextVideo:function(){this._flashcall("switchNextVideo")},switchPreVideo:function(){this._flashcall("switchPreVideo")},addVideoList:function(e){this._flashcall("addVideoList",e)},removeVideoList:function(e){this._flashcall("removeVideoList",e)},getQiyiPlayerInfo:function(e){this._flashcall("getQiyiPlayerInfo",void 0,e)},getQiyiVideoInfo:function(e){this._flashcall("getQiyiVideoInfo",void 0,e)},setQiyiUserLogin:function(e){this._flashcall("setQiyiUserLogin",e)},setLight:function(e){this._flashcall("setLight",e)},expand:function(e){this._flashcall("expand",e)},setBarrageStatus:function(e){this._flashcall("setBarrageStatus",e)},setSelfSendBarrageInfo:function(e){this._flashcall("setSelfSendBarrageInfo",e)},setSmallWindowMode:function(e){this._flashcall("setSmallWindowMode",e)},setBarrageSetting:function(e){this._flashcall("setBarrageSetting",e)},setActivityNoticeInfo:function(e){this._flashcall("setActivityNoticeInfo",e)},zoomQiyiVideo:function(e){this._flashcall("zoomQiyiVideo",e)},setTimeListener:function(e){this._flashcall("setTimeListener",e)},getHasBarrageConfigInfo:function(){this._flashcall("getHasBarrageConfigInfo")},getHasBarrageChannelConfigInfo:function(){this._flashcall("getHasBarrageChannelConfigInfo")},getCommentConfigInfo:function(){this._flashcall("getCommentConfigInfo")},setContinuePlayState:function(e){this._flashcall("setContinuePlayState",e)},getSwitchVideoType:function(e){this._flashcall("getSwitchVideoType",void 0,e)},forceToSaveCurVideoInfo:function(e){this._flashcall("forceToSaveCurVideoInfo",e)},getContinueData:function(e){this._flashcall("getContinueData",e)},setQiyiVisits:function(e){this._flashcall("setQiyiVisits",e)},initQiyiVideo:function(e){this._flashcall("initQiyiVideo",e)},jsNotifyAdManager:function(e){this._flashcall("jsNotifyAdManager",e)},getQiyiPlayerLog:function(e){this._flashcall("getQiyiPlayerLog",void 0,e)},clearBanWord:function(){this._flashcall("clearBanWord")},addBanWord:function(e){e&&this._flashcall("addBanWord",e)},removeBanWord:function(e){e&&this._flashcall("removeBanWord",e)},setPlayerFullScreen:function(e){e&&this._flashcall("setPlayerFullScreen",e)},flashStopHeartBeat:function(){this._flashcall("stopHeartBeat")}}});a.exports=u}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n,r=i(0),o=i(6),s=i(4),d=i(7),u=i(117),l=(i(9),i(3),i(61)),c=i(60),f=function(e,t,i){window.attachEvent?e.attachEvent("on"+t,i):window.addEventListener&&e.addEventListener(t,i)},_=s.browser,h=r("EmbedSwf",{construct:function(){},methods:{embed:function(e){var t={};t.quality="high",t.allowScriptAccess="always",t.wmode=e.wmode?e.wmode:"opaque",t.align="middle",t.bgcolor="#000000",t.swLiveConnect="true",t.loop="true",t.play="true",t.DeviceFont="false",t.allowFullScreen="true",t.menu="true",t.flashVars="",(_.IE6||_.IE7||_.IE8)&&(t.movie=e.playerUrl),e.origin=e.origin||"swf_"+e.parentId,e.P00001=o.get("P00001")||"",e.jsuid=o.get("QC006")||"",e.profileID=o.get("P00PRU")||"",e.profileCookie=o.get("P00007")||"",e.passportID=o.get("P00003")||"",e.vipuser=o.get("CM0001")||"",e.yhls=1*new Date+parseInt(1e11*Math.random(),10),e.playerCTime=e.plyct,e.pageCTime=e.pgct,e.webEventID=window.webEventID||"",e.definitionID=e.vid,e.tvId=e.tvid;for(var i=["tvid","vid","wmode"],a=0;a<i.length;a++)e.hasOwnProperty(i[a])&&delete e[i[a]];for(var r in e)void 0===e[r]||/^h5/gi.test(r)||(t.flashVars+=(/=/gi.test(t.flashVars)?"&":"")+r+"="+e[r]);var s=[];s.push('<object id="'+e.origin+'" height="100%" width="100%" data-player-playerbody="flash" '+(_.IE6||_.IE7?'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" ':"")+'type="application/x-shockwave-flash" data="'+e.playerUrl+'">');for(var h in t)t[h]&&s.push('<param name="',h,'" value="',t[h],'" />');d.isTraditionalChinese()&&(l=c);var p=document.getElementById(e.parentId),b={maintitle:"font-size:26px;margin-bottom:32px;font-weight:normal",tiptitle:"font-size:18px;margin-bottom:32px",iconflash:"width:124px;height:124px;border-radius:50%;display:block;margin:-6px auto 0;background:url(//www.iqiyipic.com/common/fix/iq-player/fla-player.png) no-repeat center;cursor:pointer;background-color:#131313",iconlink:"font-size:16px;color:#00be06;text-decoration:none;display:inline-block;margin-top:15px"},g={maintitle:"font-size:22px;margin-bottom:24px;font-weight:normal",tiptitle:"font-size:14px;margin-bottom:18px",iconflash:"width:100px;height:100px;border-radius:50%;display:block;margin:-2px auto 0;background:url(//www.iqiyipic.com/common/fix/iq-player/fla-player-l.png) no-repeat center;cursor:pointer;background-color:#131313",iconlink:"font-size:13px;color:#00be06;text-decoration:none;display:inline-block;margin-top:12px"},v=b;p.offsetWidth<=995&&(v=g);var m='<div style="position:absolute;top:0;left:0;right:0;bottom:0;background-color:#000;z-index:100">  <div style="text-align:center;overflow:hidden;position:absolute;width:100%;top:50%;margin-top:-115px;text-align:center;color:#ddd">    <h3 id="j_qpmaintitle" style="'+v.maintitle+'">'+l.error_maintitle+'</h3>\t<p id="j_qptiptitle" style="'+v.tiptitle+'">'+l.error_fltitle+'</p><a id="j_qpflashdown" href="//www.adobe.com/go/getflashplayer" target="_blank" onmouseover="this.style.backgroundColor=\'#171717\'" onmouseout="this.style.backgroundColor=\'#131313\'"style="'+v.iconflash+'"</a><a id="j_qpflashhelp" target="_blank" href="//help.iqiyi.com/questionInfo/4048.html" style="'+v.iconlink+'">'+l.error_fltip+"></a>  </div></div>";s.push(m),s.push("</object>");var y=s.join(""),x=document.createElement("div");x.innerHTML=y;try{p.appendChild(x.firstChild),f(window,"resize",function(){var e=document.getElementById("j_qpflashdown");if(e){var t=document.getElementById("j_qpflashhelp"),i=document.getElementById("j_qpmaintitle"),a=document.getElementById("j_qptiptitle");p.offsetWidth<=995?(i.style.cssText=g.maintitle,a.style.cssText=g.tiptitle,e.style.cssText=g.iconflash,t.style.cssText=g.iconlink):(i.style.cssText=b.maintitle,a.style.cssText=b.tiptitle,e.style.cssText=b.iconflash,t.style.cssText=b.iconlink)}}),f(p,"click",function(e){e=e||event;var t=e.srcElement?e.srcElement:e.target,i=t.id;"j_qpflashdown"==i?u.cl("80720_errorpanel_flash"):"j_qpflashhelp"==i&&u.cl("80720_errorpanel_flash_explanation")}),u.pv("80720_errorpanel_flash"),n=document.getElementById(e.origin),n.loadSuccess=!1}catch(e){}return x=null,n}}});a.exports=h}.call(t,i,t,e))&&(e.exports=a)},function(e,t,i){var a;void 0!==(a=function(e,t,a){var n=i(0),r=i(3),o=i(11),s=i(6),d="http://msg.qy.net";"https:"==window.location.protocol&&(d="https://msg.qy.net");var u=n("PagePingBack",{construct:function(e,t){this.url=e||d+"/b",this.options=t||{}},methods:{pv:function(e,t){t=t||this.options,t.url=t.url||this.url,c({block:e,t:21},t)},cl:function(e,t){t=t||this.options,t.url=t.url||this.url;var i={t:20,rseat:e};r(i,t),!i.re&&window.document&&(i.re=[document.body.offsetWidth,document.body.offsetHeight].join("*")),c(i,t)}}}),l=new u,c=function(e,t){var i=t.url,a={pf:1,p:10,p1:101,p2:"1_10_101",jsuid:s.get("QC005"),u:s.get("QC005"),pu:s.get("P00003")};r(a,e),t.param&&"object"==typeof t.param&&(t.cover?a=t.param:r(a,t.param)),/^(http:|https:)?\/\/([\w.]+\/?)\S*$/.test(t.url)?i=t.url:t.url&&(i=d+t.url),o.beacon(a,i)};a.exports={create:function(e){return new u(e.url,e)},cl:function(e,t){l.cl(e,t)},pv:function(e,t){l.pv(e,t)}}}.call(t,i,t,e))&&(e.exports=a)}])});
//# EOF